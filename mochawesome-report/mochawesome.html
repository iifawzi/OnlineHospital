<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets/app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:48,&quot;tests&quot;:112,&quot;passes&quot;:112,&quot;pending&quot;:0,&quot;failures&quot;:0,&quot;start&quot;:&quot;2020-06-07T20:53:51.651Z&quot;,&quot;end&quot;:&quot;2020-06-07T20:53:53.206Z&quot;,&quot;duration&quot;:1555,&quot;testsRegistered&quot;:112,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;3ad40c6f-cd3e-4409-9c9f-7e1ab1f0b3d3&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;bbeb68df-40d8-40cb-8040-83ccdd0a08b7&quot;,&quot;title&quot;:&quot;/api/appointments&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/appointments.test.js&quot;,&quot;file&quot;:&quot;/test/appointments.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/appointments \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;server = require(\&quot;../app\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;113f01d8-7b1b-46d0-8734-59dd860cfb95&quot;,&quot;parentUUID&quot;:&quot;bbeb68df-40d8-40cb-8040-83ccdd0a08b7&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/appointments \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bf0d3911-82d8-46f5-8d30-9c569cca01c9&quot;,&quot;parentUUID&quot;:&quot;bbeb68df-40d8-40cb-8040-83ccdd0a08b7&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;c6529160-c861-4388-8fc7-97fab884c358&quot;,&quot;title&quot;:&quot;/addAppointment&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/appointments.test.js&quot;,&quot;file&quot;:&quot;/test/appointments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /addAppointment Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:20,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/appointments/addAppointment\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;12690e6b-5c29-467f-8f47-7cb8b3c2ad5e&quot;,&quot;parentUUID&quot;:&quot;c6529160-c861-4388-8fc7-97fab884c358&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /addAppointment Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:30,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/appointments/addAppointment\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;slot_id\&quot;: 1,\n    \&quot;user_id\&quot;:44554,\n    })\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3fe938a6-eda3-4f77-8502-277950e93754&quot;,&quot;parentUUID&quot;:&quot;c6529160-c861-4388-8fc7-97fab884c358&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 200 addedd Successfully&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /addAppointment Should respond 200 addedd Successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:20,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;user\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/appointments/addAppointment\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;slot_id\&quot;: 1,\n    \&quot;date\&quot;:\&quot;2020-05-28\&quot;\n    })\n.expect(201);\nconst appID = res.body.data.appointment_id;\ndeleteUser(\&quot;01590243399\&quot;);\ndeleteAppointment(appID);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;660309af-1e9f-48db-98af-ae76ef65ac59&quot;,&quot;parentUUID&quot;:&quot;c6529160-c861-4388-8fc7-97fab884c358&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;12690e6b-5c29-467f-8f47-7cb8b3c2ad5e&quot;,&quot;3fe938a6-eda3-4f77-8502-277950e93754&quot;,&quot;660309af-1e9f-48db-98af-ae76ef65ac59&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:70,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;6cb4a7b7-3482-4bc6-9904-845e24f47cdc&quot;,&quot;title&quot;:&quot;/addConfirmedAppointment&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/appointments.test.js&quot;,&quot;file&quot;:&quot;/test/appointments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /addConfirmedAppointment Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/appointments/addConfirmedAppointment\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c74cb0d4-690a-4ce8-8ef3-c446ee427df7&quot;,&quot;parentUUID&quot;:&quot;6cb4a7b7-3482-4bc6-9904-845e24f47cdc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /addConfirmedAppointment Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/appointments/addConfirmedAppointment\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;slot_id\&quot;: 1,\n    \&quot;user_id\&quot;:44554,\n    })\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5b09dd80-8c50-4a22-b29a-b97c3ba2d2b8&quot;,&quot;parentUUID&quot;:&quot;6cb4a7b7-3482-4bc6-9904-845e24f47cdc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 200 addedd Successfully&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /addConfirmedAppointment Should respond 200 addedd Successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:59,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;01590243399\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;djdj84\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n})\n.expect(201);\nconst userId = res.body.data.user_id;\n res = await request(server)\n.post(\&quot;/api/appointments/addConfirmedAppointment\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;slot_id\&quot;: 1,\n    \&quot;user_id\&quot;:userId,\n    \&quot;date\&quot;:\&quot;2020-05-28\&quot;\n    })\n.expect(201);\nexpect(res.body.data.appointment_status).to.equal(\&quot;upcoming\&quot;);\nconst appID = res.body.data.appointment_id;\ndeleteUser(\&quot;01590243399\&quot;);\ndeleteAppointment(appID);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ddccaa3f-adda-4d12-996d-6e4a9b2be066&quot;,&quot;parentUUID&quot;:&quot;6cb4a7b7-3482-4bc6-9904-845e24f47cdc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c74cb0d4-690a-4ce8-8ef3-c446ee427df7&quot;,&quot;5b09dd80-8c50-4a22-b29a-b97c3ba2d2b8&quot;,&quot;ddccaa3f-adda-4d12-996d-6e4a9b2be066&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:67,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;c26ea6e1-9747-49b9-b7ad-316e6ea83a11&quot;,&quot;title&quot;:&quot;/getUserApps&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/appointments.test.js&quot;,&quot;file&quot;:&quot;/test/appointments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /getUserApps Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/appointments/getUserApps\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b0541b3c-3565-40a5-aaf5-201a530b9551&quot;,&quot;parentUUID&quot;:&quot;c26ea6e1-9747-49b9-b7ad-316e6ea83a11&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /getUserApps Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/appointments/getUserApps\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;slot_id\&quot;: 1,\n    \&quot;user_id\&quot;:44554,\n    })\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;20d03d3d-7f96-42f2-8180-a4c059c5cf4e&quot;,&quot;parentUUID&quot;:&quot;c26ea6e1-9747-49b9-b7ad-316e6ea83a11&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 200 got Successfully&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /getUserApps Should respond 200 got Successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:20,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/appointments/addAppointment\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;slot_id\&quot;: 1,\n    \&quot;date\&quot;:\&quot;2020-05-28\&quot;\n    })\n.expect(201);\nconst appID = res.body.data.appointment_id;\nres = await request(server)\n.post(\&quot;/api/appointments/getUserApps\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;user_id\&quot;:1,\n    })\n.expect(200);\ndeleteAppointment(appID);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9b9add0e-bf80-4e20-b8e6-e4e2c234cf18&quot;,&quot;parentUUID&quot;:&quot;c26ea6e1-9747-49b9-b7ad-316e6ea83a11&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b0541b3c-3565-40a5-aaf5-201a530b9551&quot;,&quot;20d03d3d-7f96-42f2-8180-a4c059c5cf4e&quot;,&quot;9b9add0e-bf80-4e20-b8e6-e4e2c234cf18&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:28,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;b81ba5c9-9050-4f3c-998a-0c0d1c087371&quot;,&quot;title&quot;:&quot;/finishedAppointments&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/appointments.test.js&quot;,&quot;file&quot;:&quot;/test/appointments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /finishedAppointments Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.get(\&quot;/api/appointments/finishedAppointments\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;72d860d7-ead0-49db-9915-07bd73cfea1b&quot;,&quot;parentUUID&quot;:&quot;b81ba5c9-9050-4f3c-998a-0c0d1c087371&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 200 got Successfully&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /finishedAppointments Should respond 200 got Successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;user\&quot;);\nlet res = await request(server)\n.get(\&quot;/api/appointments/finishedAppointments\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4bf0e263-9104-4f17-932f-cb96bb1c2c68&quot;,&quot;parentUUID&quot;:&quot;b81ba5c9-9050-4f3c-998a-0c0d1c087371&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;72d860d7-ead0-49db-9915-07bd73cfea1b&quot;,&quot;4bf0e263-9104-4f17-932f-cb96bb1c2c68&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:10,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;fe38de80-3135-4683-8d17-779b1be8d987&quot;,&quot;title&quot;:&quot;/upcomingAppointments&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/appointments.test.js&quot;,&quot;file&quot;:&quot;/test/appointments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /upcomingAppointments Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.get(\&quot;/api/appointments/upcomingAppointments\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;443c1053-20a1-47a1-b093-c719c6fa334d&quot;,&quot;parentUUID&quot;:&quot;fe38de80-3135-4683-8d17-779b1be8d987&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 200 got Successfully&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /upcomingAppointments Should respond 200 got Successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;user\&quot;);\nlet res = await request(server)\n.get(\&quot;/api/appointments/upcomingAppointments\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4157f310-39f5-4678-9ab3-587c6b3e624d&quot;,&quot;parentUUID&quot;:&quot;fe38de80-3135-4683-8d17-779b1be8d987&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;443c1053-20a1-47a1-b093-c719c6fa334d&quot;,&quot;4157f310-39f5-4678-9ab3-587c6b3e624d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;54e5d548-dfb1-4b7c-9a1c-373ae3abe1cc&quot;,&quot;title&quot;:&quot;/doctorFinishedAppointments&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/appointments.test.js&quot;,&quot;file&quot;:&quot;/test/appointments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /doctorFinishedAppointments Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.get(\&quot;/api/appointments/doctorFinishedAppointments\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a3e2f451-c473-4631-9051-7903c93a70b8&quot;,&quot;parentUUID&quot;:&quot;54e5d548-dfb1-4b7c-9a1c-373ae3abe1cc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 200 got Successfully&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /doctorFinishedAppointments Should respond 200 got Successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;doctor\&quot;);\nlet res = await request(server)\n.get(\&quot;/api/appointments/doctorFinishedAppointments\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;63c30ac3-05fb-4252-9b91-2078820cddda&quot;,&quot;parentUUID&quot;:&quot;54e5d548-dfb1-4b7c-9a1c-373ae3abe1cc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a3e2f451-c473-4631-9051-7903c93a70b8&quot;,&quot;63c30ac3-05fb-4252-9b91-2078820cddda&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;f7f0ed00-54a0-4aff-9f98-e716b7000289&quot;,&quot;title&quot;:&quot;/doctorUpcomingAppointments&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/appointments.test.js&quot;,&quot;file&quot;:&quot;/test/appointments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /doctorUpcomingAppointments Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.get(\&quot;/api/appointments/doctorUpcomingAppointments\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bcdf6174-5d89-4c38-94e9-3a103c0c8798&quot;,&quot;parentUUID&quot;:&quot;f7f0ed00-54a0-4aff-9f98-e716b7000289&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 200 got Successfully&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /doctorUpcomingAppointments Should respond 200 got Successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;doctor\&quot;);\nlet res = await request(server)\n.get(\&quot;/api/appointments/doctorUpcomingAppointments\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f0a15b9d-d1a2-434d-b82c-49cc818c2dde&quot;,&quot;parentUUID&quot;:&quot;f7f0ed00-54a0-4aff-9f98-e716b7000289&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;bcdf6174-5d89-4c38-94e9-3a103c0c8798&quot;,&quot;f0a15b9d-d1a2-434d-b82c-49cc818c2dde&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:5,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;7ff0d1d4-d1e4-4b67-bd02-1438a6aa23ec&quot;,&quot;title&quot;:&quot;/getDocApps&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/appointments.test.js&quot;,&quot;file&quot;:&quot;/test/appointments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /getDocApps Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/appointments/getDocApps\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e47f2209-05dc-4ad7-91b1-78bc89cfb41a&quot;,&quot;parentUUID&quot;:&quot;7ff0d1d4-d1e4-4b67-bd02-1438a6aa23ec&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /getDocApps Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/appointments/getDocApps\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;slot_id\&quot;: 1,\n    \&quot;doctor_id\&quot;:44554,\n    })\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;61d7658d-0e28-4b67-ad25-3d8cedd66594&quot;,&quot;parentUUID&quot;:&quot;7ff0d1d4-d1e4-4b67-bd02-1438a6aa23ec&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 200 got Successfully&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /getDocApps Should respond 200 got Successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/appointments/addAppointment\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;slot_id\&quot;: 1,\n    \&quot;date\&quot;:\&quot;2020-05-28\&quot;\n    })\n.expect(201);\nconst appID = res.body.data.appointment_id;\nres = await request(server)\n.post(\&quot;/api/appointments/getDocApps\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;doctor_id\&quot;:1,\n    })\n.expect(200);\ndeleteUser(\&quot;01595543366\&quot;);\ndeleteAppointment(appID);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7613a74d-1796-4e61-a640-b4d6857dc26f&quot;,&quot;parentUUID&quot;:&quot;7ff0d1d4-d1e4-4b67-bd02-1438a6aa23ec&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e47f2209-05dc-4ad7-91b1-78bc89cfb41a&quot;,&quot;61d7658d-0e28-4b67-ad25-3d8cedd66594&quot;,&quot;7613a74d-1796-4e61-a640-b4d6857dc26f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:14,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;dcffa2d3-907c-4461-99ab-128b1a5ecd9d&quot;,&quot;title&quot;:&quot;/cancelAppointment&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/appointments.test.js&quot;,&quot;file&quot;:&quot;/test/appointments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /cancelAppointment Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.patch(\&quot;/api/appointments/cancelAppointment\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;501fcbf9-c36c-400e-816b-7c17c42ec027&quot;,&quot;parentUUID&quot;:&quot;dcffa2d3-907c-4461-99ab-128b1a5ecd9d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /cancelAppointment Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.patch(\&quot;/api/appointments/cancelAppointment\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;aapointment_id\&quot;:\&quot;djdkj\&quot;,\n    })\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9d161be4-7259-4fd7-8ac3-699cc46ebdf7&quot;,&quot;parentUUID&quot;:&quot;dcffa2d3-907c-4461-99ab-128b1a5ecd9d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 200 updated Successfully&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /cancelAppointment Should respond 200 updated Successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:18,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/appointments/addAppointment\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;slot_id\&quot;: 1,\n    \&quot;date\&quot;:\&quot;2020-05-28\&quot;\n    })\n.expect(201);\nconst appID = res.body.data.appointment_id;\nres = await request(server)\n.patch(\&quot;/api/appointments/cancelAppointment\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;appointment_id\&quot;:appID,\n    })\n.expect(200);\nexpect(res.body.data.appointment_status).to.equal(\&quot;canceled\&quot;);\ndeleteAppointment(appID);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;01259a5a-c90d-48c5-9469-184334a907a2&quot;,&quot;parentUUID&quot;:&quot;dcffa2d3-907c-4461-99ab-128b1a5ecd9d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;501fcbf9-c36c-400e-816b-7c17c42ec027&quot;,&quot;9d161be4-7259-4fd7-8ac3-699cc46ebdf7&quot;,&quot;01259a5a-c90d-48c5-9469-184334a907a2&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:22,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;001bac92-d530-4409-b253-30261051658c&quot;,&quot;title&quot;:&quot;/confirmAppointment&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/appointments.test.js&quot;,&quot;file&quot;:&quot;/test/appointments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /confirmAppointment Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.patch(\&quot;/api/appointments/confirmAppointment\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4eb5c4af-78d6-47dd-96c4-63e0f5d0bcd6&quot;,&quot;parentUUID&quot;:&quot;001bac92-d530-4409-b253-30261051658c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /confirmAppointment Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;user\&quot;);\nlet res = await request(server)\n.patch(\&quot;/api/appointments/confirmAppointment\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;aapointment_id\&quot;:\&quot;djdkj\&quot;,\n    })\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;19ffb7e3-927e-46be-a12b-14335b355897&quot;,&quot;parentUUID&quot;:&quot;001bac92-d530-4409-b253-30261051658c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 200 updated Successfully&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /confirmAppointment Should respond 200 updated Successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;user\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/appointments/addAppointment\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;slot_id\&quot;: 1,\n    \&quot;date\&quot;:\&quot;2020-05-28\&quot;\n    })\n.expect(201);\nconst appID = res.body.data.appointment_id;\nres = await request(server)\n.patch(\&quot;/api/appointments/confirmAppointment\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;appointment_id\&quot;:appID,\n    })\n.expect(200);\nexpect(res.body.data.appointment_status).to.equal(\&quot;upcoming\&quot;);\ndeleteAppointment(appID);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5c7f543f-9559-4311-93d1-ead682095263&quot;,&quot;parentUUID&quot;:&quot;001bac92-d530-4409-b253-30261051658c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4eb5c4af-78d6-47dd-96c4-63e0f5d0bcd6&quot;,&quot;19ffb7e3-927e-46be-a12b-14335b355897&quot;,&quot;5c7f543f-9559-4311-93d1-ead682095263&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:19,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;7100c78e-aed7-43ae-a933-2bc4f6ed072e&quot;,&quot;title&quot;:&quot;/docAppsByDate&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/appointments.test.js&quot;,&quot;file&quot;:&quot;/test/appointments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /docAppsByDate Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/appointments/docAppsByDate\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3cf610ae-e697-4ddd-916f-902167862ded&quot;,&quot;parentUUID&quot;:&quot;7100c78e-aed7-43ae-a933-2bc4f6ed072e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /docAppsByDate Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;doctor\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/appointments/docAppsByDate\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;aapointment_id\&quot;:\&quot;djdkj\&quot;,\n    })\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6c200f6f-340b-4894-8abc-3aa004ea0618&quot;,&quot;parentUUID&quot;:&quot;7100c78e-aed7-43ae-a933-2bc4f6ed072e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 200 if we got the apps successfully&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /docAppsByDate Should respond with 200 if we got the apps successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(&#x27;01090243795&#x27;,1,\&quot;doctor\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/appointments/docAppsByDate\&quot;)\n.set(&#x27;Authorization&#x27;,`Bearer ${token}`)\n.send({\n    \&quot;date\&quot;:&#x27;2020-03-20&#x27;\n})\n.expect(200)\n// expect(res.body.data[0].date).to.equal(\&quot;2020-03-20\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bdf2ce1f-c42d-41be-a3b8-d7f036ccfbc5&quot;,&quot;parentUUID&quot;:&quot;7100c78e-aed7-43ae-a933-2bc4f6ed072e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3cf610ae-e697-4ddd-916f-902167862ded&quot;,&quot;6c200f6f-340b-4894-8abc-3aa004ea0618&quot;,&quot;bdf2ce1f-c42d-41be-a3b8-d7f036ccfbc5&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:5,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;9cf773fa-0ef1-4e54-98fd-8b934cd3649f&quot;,&quot;title&quot;:&quot;/api/auth&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/auth.test.js&quot;,&quot;file&quot;:&quot;/test/auth.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/auth \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;server = require(\&quot;../app\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f6c49765-dacb-4d64-a78f-32e13a43685e&quot;,&quot;parentUUID&quot;:&quot;9cf773fa-0ef1-4e54-98fd-8b934cd3649f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/auth \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f3029cd1-bdf7-4701-b39b-636e0d996d21&quot;,&quot;parentUUID&quot;:&quot;9cf773fa-0ef1-4e54-98fd-8b934cd3649f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;ec9e46fa-97a2-4069-a37e-2e653bbadfce&quot;,&quot;title&quot;:&quot;/signup&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/auth.test.js&quot;,&quot;file&quot;:&quot;/test/auth.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should respond with 400 if one of inputs is incorrect or missing (SCHEMA VALIDATION)&quot;,&quot;fullTitle&quot;:&quot;/api/auth /signup should respond with 400 if one of inputs is incorrect or missing (SCHEMA VALIDATION)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;).expect(400);  \nres = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({password:\&quot;fawzi\&quot;})\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4bf5184d-b754-404c-b0a9-4bd9fff95663&quot;,&quot;parentUUID&quot;:&quot;ec9e46fa-97a2-4069-a37e-2e653bbadfce&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 201 if user succefully registered&quot;,&quot;fullTitle&quot;:&quot;/api/auth /signup should respond with 201 if user succefully registered&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;01590243399\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;djdj84\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n})\n.expect(201);\nexpect(res.body.data.phone_number).to.equal(\&quot;01590243399\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;65f23990-b55a-4e42-9def-e50e25d4dbdd&quot;,&quot;parentUUID&quot;:&quot;ec9e46fa-97a2-4069-a37e-2e653bbadfce&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 403 if phone_number is already registered&quot;,&quot;fullTitle&quot;:&quot;/api/auth /signup should respond with 403 if phone_number is already registered&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;01590243399\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;djdj84\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n})\n.expect(403);\ndeleteUser(\&quot;01590243399\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;23aba4f8-cffd-4669-bfb8-0c2e56b4ec1c&quot;,&quot;parentUUID&quot;:&quot;ec9e46fa-97a2-4069-a37e-2e653bbadfce&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4bf5184d-b754-404c-b0a9-4bd9fff95663&quot;,&quot;65f23990-b55a-4e42-9def-e50e25d4dbdd&quot;,&quot;23aba4f8-cffd-4669-bfb8-0c2e56b4ec1c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:12,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;dcf478d2-fd89-4bbc-b9e3-0e332207b263&quot;,&quot;title&quot;:&quot;/signin&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/auth.test.js&quot;,&quot;file&quot;:&quot;/test/auth.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should respond with 400 if input are missing (SCHEMA VALIDATION)&quot;,&quot;fullTitle&quot;:&quot;/api/auth /signin should respond with 400 if input are missing (SCHEMA VALIDATION)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signin\&quot;)\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fb632367-346d-4337-a2f9-ef08f0685c1b&quot;,&quot;parentUUID&quot;:&quot;dcf478d2-fd89-4bbc-b9e3-0e332207b263&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 401 when phone number notfound `backend side`&quot;,&quot;fullTitle&quot;:&quot;/api/auth /signin should respond with 401 when phone number notfound `backend side`&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n .post(\&quot;/api/auth/signin\&quot;)\n .send({\&quot;phone_number\&quot;:\&quot;01590243311\&quot;})\n .expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c5b55b87-8b7f-4f24-945a-722dcb2ab196&quot;,&quot;parentUUID&quot;:&quot;dcf478d2-fd89-4bbc-b9e3-0e332207b263&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 200 if user loged in successfully&quot;,&quot;fullTitle&quot;:&quot;/api/auth /signin should respond with 200 if user loged in successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;01590243311\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;djdj84\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n}).expect(201);\nexpect(res.body.data.phone_number).to.equal(\&quot;01590243311\&quot;);\nres = await request(server)\n.post(\&quot;/api/auth/signin\&quot;)\n.send({\&quot;phone_number\&quot;:\&quot;01590243311\&quot;})\n.expect(200);\ndeleteUser(\&quot;01590243311\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;69d8ffee-af24-4422-9a99-86ab1d8d3849&quot;,&quot;parentUUID&quot;:&quot;dcf478d2-fd89-4bbc-b9e3-0e332207b263&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;fb632367-346d-4337-a2f9-ef08f0685c1b&quot;,&quot;c5b55b87-8b7f-4f24-945a-722dcb2ab196&quot;,&quot;69d8ffee-af24-4422-9a99-86ab1d8d3849&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:25,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;005e18c9-a672-4319-a86e-fe953f1e3085&quot;,&quot;title&quot;:&quot;/updateFirebaseToken&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/auth.test.js&quot;,&quot;file&quot;:&quot;/test/auth.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 400 if one of inpus is missed (SCHEMA VALIDATION)&quot;,&quot;fullTitle&quot;:&quot;/api/auth /updateFirebaseToken Should respond with 400 if one of inpus is missed (SCHEMA VALIDATION)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01590243399\&quot;,1,\&quot;user\&quot;);\nlet res = await request(server)\n.patch(\&quot;/api/auth/updateFirebaseToken\&quot;)\n.send({\&quot;notInTheSchema\&quot;:\&quot;haka\&quot;})\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;28a06f42-3d8e-479e-84bd-ef594c7b840e&quot;,&quot;parentUUID&quot;:&quot;005e18c9-a672-4319-a86e-fe953f1e3085&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 401 if phone number not found `backend side`&quot;,&quot;fullTitle&quot;:&quot;/api/auth /updateFirebaseToken should respond with 401 if phone number not found `backend side`&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243788\&quot;,1,\&quot;user\&quot;);\nlet res = await request(server)\n.patch(\&quot;/api/auth/updateFirebaseToken\&quot;)\n.send({\&quot;new_token\&quot;:\&quot;djkdjkdjk\&quot;})\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9f0c0c11-18af-4c74-9c56-e8b415cbd109&quot;,&quot;parentUUID&quot;:&quot;005e18c9-a672-4319-a86e-fe953f1e3085&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 200 if we updated the token_id successfully&quot;,&quot;fullTitle&quot;:&quot;/api/auth /updateFirebaseToken should respond with 200 if we updated the token_id successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;01590243388\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;test\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;\n}).expect(201);\nconst token = genToken(\&quot;01590243388\&quot;,1,\&quot;user\&quot;);\nres = await request(server)\n.patch(\&quot;/api/auth/updateFirebaseToken\&quot;)\n.send({\&quot;new_token\&quot;:\&quot;123456789elhamdullah\&quot;})\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(200);\nexpect(res.body.data.updated_token).to.equal(\&quot;123456789elhamdullah\&quot;);\ndeleteUser(\&quot;01590243388\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bdca125d-bed6-4a2b-922d-e4ca6596e191&quot;,&quot;parentUUID&quot;:&quot;005e18c9-a672-4319-a86e-fe953f1e3085&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 403 if user is blocked&quot;,&quot;fullTitle&quot;:&quot;/api/auth /updateFirebaseToken should respond with 403 if user is blocked&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:19,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;01590243399\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;test\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n}).expect(201);\nconst token = genToken(\&quot;01590243399\&quot;,1,\&quot;user\&quot;);\nawait blockUser(\&quot;01590243399\&quot;);\nres = await request(server)\n.patch(\&quot;/api/auth/updateFirebaseToken\&quot;)\n.send({\&quot;new_token\&quot;:\&quot;123456789elhamdullah\&quot;})\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(403);\ndeleteUser(\&quot;01590243399\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e32e537c-46f6-454b-a75a-ff5fce8c0949&quot;,&quot;parentUUID&quot;:&quot;005e18c9-a672-4319-a86e-fe953f1e3085&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 401 if user is not authorized &quot;,&quot;fullTitle&quot;:&quot;/api/auth /updateFirebaseToken should respond with 401 if user is not authorized &quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;01590243391\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;test\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n}).expect(201);\n// const token = genToken(\&quot;01590243399\&quot;,\&quot;user\&quot;);\nres = await request(server)\n.patch(\&quot;/api/auth/updateFirebaseToken\&quot;)\n.send({\&quot;new_token\&quot;:\&quot;123456789elhamdullah\&quot;})\n// .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(401);\ndeleteUser(\&quot;01590243391\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;53319101-92c1-4ac8-9c8b-59323410909d&quot;,&quot;parentUUID&quot;:&quot;005e18c9-a672-4319-a86e-fe953f1e3085&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;28a06f42-3d8e-479e-84bd-ef594c7b840e&quot;,&quot;9f0c0c11-18af-4c74-9c56-e8b415cbd109&quot;,&quot;bdca125d-bed6-4a2b-922d-e4ca6596e191&quot;,&quot;e32e537c-46f6-454b-a75a-ff5fce8c0949&quot;,&quot;53319101-92c1-4ac8-9c8b-59323410909d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:47,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;40aca3e0-9fae-4c24-87e7-c1b2a4217d4c&quot;,&quot;title&quot;:&quot;/signDoctor&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/auth.test.js&quot;,&quot;file&quot;:&quot;/test/auth.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should respond with 400 if any inputs are incorrect or missed (SCHEMA VALIDATION)&quot;,&quot;fullTitle&quot;:&quot;/api/auth /signDoctor should respond with 400 if any inputs are incorrect or missed (SCHEMA VALIDATION)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signDoctor\&quot;)\n.send({phone_number:\&quot;02903\&quot;})\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;964e859d-799b-4d0b-a278-5ac5357c4f0c&quot;,&quot;parentUUID&quot;:&quot;40aca3e0-9fae-4c24-87e7-c1b2a4217d4c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 401 if phone number or password are incorrect `backend side`&quot;,&quot;fullTitle&quot;:&quot;/api/auth /signDoctor should respond with 401 if phone number or password are incorrect `backend side`&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01590243399\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/controlPanel/addDoctor\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;phone_number\&quot;:\&quot;01090243795\&quot;,\n    \&quot;password\&quot;:\&quot;testtest\&quot;,\n    \&quot;first_name\&quot;:\&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;: \&quot;ahmed\&quot;,\n    \&quot;country\&quot;:\&quot;egypt\&quot;,\n    \&quot;category_id\&quot;:1,\n    \&quot;picture\&quot;:\&quot;fkfjkfj\&quot;,\n    \&quot;price\&quot;:\&quot;200\&quot;\n})\n.expect(201);\nres = await request(server)\n.post(\&quot;/api/auth/signDoctor\&quot;)\n.send({phone_number:\&quot;01090243794\&quot;,password:\&quot;01288\&quot;})\n.expect(401);\ndeleteDoctor(\&quot;01090243795\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d47e5a80-4ef0-4661-9dbe-287a16edbc5e&quot;,&quot;parentUUID&quot;:&quot;40aca3e0-9fae-4c24-87e7-c1b2a4217d4c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;964e859d-799b-4d0b-a278-5ac5357c4f0c&quot;,&quot;d47e5a80-4ef0-4661-9dbe-287a16edbc5e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:16,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;90ae9436-ffcd-4347-b55e-40842579d44f&quot;,&quot;title&quot;:&quot;/updateDoctorFirebaseToken&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/auth.test.js&quot;,&quot;file&quot;:&quot;/test/auth.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 400 if one of inpus is missed (SCHEMA VALIDATION)&quot;,&quot;fullTitle&quot;:&quot;/api/auth /updateDoctorFirebaseToken Should respond with 400 if one of inpus is missed (SCHEMA VALIDATION)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01590243399\&quot;,1,\&quot;doctor\&quot;);\nlet res = await request(server)\n.patch(\&quot;/api/auth/updateDoctorFirebaseToken\&quot;)\n.send({\&quot;notInTheSchema\&quot;:\&quot;haka\&quot;})\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c07ec550-275d-4ff1-b342-57c2d3598f74&quot;,&quot;parentUUID&quot;:&quot;90ae9436-ffcd-4347-b55e-40842579d44f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 401 if phone number not found `backend side`&quot;,&quot;fullTitle&quot;:&quot;/api/auth /updateDoctorFirebaseToken should respond with 401 if phone number not found `backend side`&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243788\&quot;,1,\&quot;doctor\&quot;);\nlet res = await request(server)\n.patch(\&quot;/api/auth/updateDoctorFirebaseToken\&quot;)\n.send({\&quot;new_token\&quot;:\&quot;djkdjkdjk\&quot;})\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b003a038-ec49-4b50-9706-9f1e2ef000c4&quot;,&quot;parentUUID&quot;:&quot;90ae9436-ffcd-4347-b55e-40842579d44f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 200 if we updated the Doctor token_id successfully&quot;,&quot;fullTitle&quot;:&quot;/api/auth /updateDoctorFirebaseToken should respond with 200 if we updated the Doctor token_id successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243788\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/controlPanel/addDoctor\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;phone_number\&quot;:\&quot;01090243795\&quot;,\n    \&quot;password\&quot;:\&quot;testtest\&quot;,\n    \&quot;first_name\&quot;:\&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;: \&quot;ahmed\&quot;,\n    \&quot;country\&quot;:\&quot;egypt\&quot;,\n    \&quot;category_id\&quot;:1,\n    \&quot;picture\&quot;:\&quot;fkfjkfj\&quot;,\n    \&quot;price\&quot;:\&quot;200\&quot;\n})\n.expect(201);\nexpect(res.body.data.phone_number).to.equal(\&quot;01090243795\&quot;);\nconst token2 = genToken(\&quot;01090243795\&quot;,1,\&quot;doctor\&quot;);\nres = await request(server)\n.patch(\&quot;/api/auth/updateDoctorFirebaseToken\&quot;)\n.send({\&quot;new_token\&quot;:\&quot;123456789elhamdullah\&quot;})\n.set(\&quot;Authorization\&quot;, `Bearer ${token2}`)\n.expect(200);\nexpect(res.body.data.updated_token).to.equal(\&quot;123456789elhamdullah\&quot;);\ndeleteDoctor(\&quot;01090243795\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e0f27c75-5487-492b-8404-846340209127&quot;,&quot;parentUUID&quot;:&quot;90ae9436-ffcd-4347-b55e-40842579d44f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 401 if Doctor is not authorized &quot;,&quot;fullTitle&quot;:&quot;/api/auth /updateDoctorFirebaseToken should respond with 401 if Doctor is not authorized &quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/controlPanel/addDoctor\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;phone_number\&quot;:\&quot;01010243795\&quot;,\n    \&quot;password\&quot;:\&quot;testtest\&quot;,\n    \&quot;first_name\&quot;:\&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;: \&quot;ahmed\&quot;,\n    \&quot;country\&quot;:\&quot;egypt\&quot;,\n    \&quot;category_id\&quot;:1,\n    \&quot;picture\&quot;:\&quot;fkfjkfj\&quot;,\n    \&quot;price\&quot;:\&quot;200\&quot;\n})\n.expect(201);\n// const token = genToken(\&quot;01590243399\&quot;,\&quot;doctor\&quot;);\nres = await request(server)\n.patch(\&quot;/api/auth/updateFirebaseToken\&quot;)\n.send({\&quot;new_token\&quot;:\&quot;123456789elhamdullah\&quot;})\n// .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(401);\ndeleteDoctor(\&quot;01010243795\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8524b96e-a78d-4900-bec8-0dafbbbfd79a&quot;,&quot;parentUUID&quot;:&quot;90ae9436-ffcd-4347-b55e-40842579d44f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c07ec550-275d-4ff1-b342-57c2d3598f74&quot;,&quot;b003a038-ec49-4b50-9706-9f1e2ef000c4&quot;,&quot;e0f27c75-5487-492b-8404-846340209127&quot;,&quot;8524b96e-a78d-4900-bec8-0dafbbbfd79a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:32,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;3206b1eb-6141-43cf-82fe-081f2d1de7e7&quot;,&quot;title&quot;:&quot;/api/categories&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/categories.js&quot;,&quot;file&quot;:&quot;/test/categories.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/categories \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;server = require(\&quot;../app\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;69ab6e10-2c91-42d2-b3e8-20eb30d60e71&quot;,&quot;parentUUID&quot;:&quot;3206b1eb-6141-43cf-82fe-081f2d1de7e7&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/categories \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6785068b-b294-49d4-bda5-dae301d02d6f&quot;,&quot;parentUUID&quot;:&quot;3206b1eb-6141-43cf-82fe-081f2d1de7e7&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;229b143a-dd2b-45f4-b40b-e22245696bea&quot;,&quot;title&quot;:&quot;/getCategories&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/categories.js&quot;,&quot;file&quot;:&quot;/test/categories.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/categories /getCategories Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.get(\&quot;/api/categories/getCategories\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6adc8b8f-66b3-457b-b075-ca6cf67d9de3&quot;,&quot;parentUUID&quot;:&quot;229b143a-dd2b-45f4-b40b-e22245696bea&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 200 if got categories successfully&quot;,&quot;fullTitle&quot;:&quot;/api/categories /getCategories Should respond 200 if got categories successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;user\&quot;);\nlet res = await request(server)\n.get(\&quot;/api/categories/getCategories\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;62b24a44-ff88-437e-9e59-a1cc02418f66&quot;,&quot;parentUUID&quot;:&quot;229b143a-dd2b-45f4-b40b-e22245696bea&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;6adc8b8f-66b3-457b-b075-ca6cf67d9de3&quot;,&quot;62b24a44-ff88-437e-9e59-a1cc02418f66&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:6,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;0f6328bc-ea40-4bc2-9c78-56eb30e7df27&quot;,&quot;title&quot;:&quot;/api/controlPanel&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/controlPanel.test.js&quot;,&quot;file&quot;:&quot;/test/controlPanel.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;server = require(\&quot;../app\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8f89911f-976b-4631-9349-1b252fc8aa6b&quot;,&quot;parentUUID&quot;:&quot;0f6328bc-ea40-4bc2-9c78-56eb30e7df27&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1b63bb4c-10cc-4dfd-b7b8-93a9a62c6594&quot;,&quot;parentUUID&quot;:&quot;0f6328bc-ea40-4bc2-9c78-56eb30e7df27&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;fa65d611-d8c3-4bf6-bd47-d3f2b2d36c66&quot;,&quot;title&quot;:&quot;/addingDoctor&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/controlPanel.test.js&quot;,&quot;file&quot;:&quot;/test/controlPanel.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 400 if one of inpus is missed or incorrect (SCHEMA VALIDATION)&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /addingDoctor Should respond with 400 if one of inpus is missed or incorrect (SCHEMA VALIDATION)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1, \&quot;admin\&quot;);\nconst res = await request(server)\n  .post(\&quot;/api/controlPanel/addDoctor\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6017ebe3-066a-4f2a-85aa-c438091613c1&quot;,&quot;parentUUID&quot;:&quot;fa65d611-d8c3-4bf6-bd47-d3f2b2d36c66&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 201 if doctor created successfully&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /addingDoctor Should respond with 201 if doctor created successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;11090243799\&quot;,1, \&quot;admin\&quot;);\nlet res = await request(server)\n  .post(\&quot;/api/controlPanel/addDoctor\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({\n    phone_number: \&quot;11090243799\&quot;,\n    password: \&quot;testtest\&quot;,\n    first_name: \&quot;fawzi\&quot;,\n    last_name: \&quot;ahmed\&quot;,\n    country: \&quot;egypt\&quot;,\n    category_id: 1,\n    picture: \&quot;fkfjkfj\&quot;,\n    price: \&quot;100\&quot;,\n  })\n  .expect(201);\nexpect(res.body.data.phone_number).to.equal(\&quot;11090243799\&quot;);\ndeleteDoctor(\&quot;11090243799\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4170f013-4977-49b0-b71e-e264d6b63c18&quot;,&quot;parentUUID&quot;:&quot;fa65d611-d8c3-4bf6-bd47-d3f2b2d36c66&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 403 if the phone number is already registered&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /addingDoctor Should respond with 403 if the phone number is already registered&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243798\&quot;,1, \&quot;admin\&quot;);\nlet res = await request(server)\n  .post(\&quot;/api/controlPanel/addDoctor\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({\n    phone_number: \&quot;01090243798\&quot;,\n    password: \&quot;testtest\&quot;,\n    first_name: \&quot;fawzi\&quot;,\n    last_name: \&quot;ahmed\&quot;,\n    country: \&quot;egypt\&quot;,\n    category_id: 1,\n    picture: \&quot;fkfjkfj\&quot;,\n    price: \&quot;100\&quot;,\n  })\n  .expect(201);\nexpect(res.body.data.phone_number).to.equal(\&quot;01090243798\&quot;);\nres = await request(server)\n  .post(\&quot;/api/controlPanel/addDoctor\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({\n    phone_number: \&quot;01090243798\&quot;,\n    password: \&quot;testtest\&quot;,\n    first_name: \&quot;fawzi\&quot;,\n    last_name: \&quot;ahmed\&quot;,\n    country: \&quot;egypt\&quot;,\n    category_id: 1,\n    picture: \&quot;fkfjkfj\&quot;,\n    price: \&quot;100\&quot;,\n  })\n  .expect(403);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6deb0267-8364-43dd-9ef7-d7adfd1b773b&quot;,&quot;parentUUID&quot;:&quot;fa65d611-d8c3-4bf6-bd47-d3f2b2d36c66&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;6017ebe3-066a-4f2a-85aa-c438091613c1&quot;,&quot;4170f013-4977-49b0-b71e-e264d6b63c18&quot;,&quot;6deb0267-8364-43dd-9ef7-d7adfd1b773b&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:18,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;136904dd-07b4-4211-826e-10d5d1282720&quot;,&quot;title&quot;:&quot;/addingAdmin&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/controlPanel.test.js&quot;,&quot;file&quot;:&quot;/test/controlPanel.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 400 if one of inpus is missed or incorrect (SCHEMA VALIDATION&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /addingAdmin Should respond with 400 if one of inpus is missed or incorrect (SCHEMA VALIDATION&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1, \&quot;admin\&quot;);\nlet res = await request(server)\n  .post(\&quot;/api/controlPanel/addAdmin\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({ name: \&quot;fawzi\&quot; })\n  .expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b1efd0ce-6a0e-4641-a3d2-366248b50b31&quot;,&quot;parentUUID&quot;:&quot;136904dd-07b4-4211-826e-10d5d1282720&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 201 if created successfully&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /addingAdmin Should respond with 201 if created successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;11090243799\&quot;,1, \&quot;admin\&quot;);\nlet res = await request(server)\n  .post(\&quot;/api/controlPanel/addAdmin\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({\n    phone_number: \&quot;11090243799\&quot;,\n    password: \&quot;testtest\&quot;,\n    name: \&quot;Fawzi E. Abdulfattah\&quot;,\n    role: \&quot;admin\&quot;,\n  })\n  .expect(201);\nexpect(res.body.data.phone_number).to.equal(\&quot;11090243799\&quot;);\ndeleteAdmin(\&quot;11090243799\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;29e3620e-de22-4100-8d21-527e86f750c8&quot;,&quot;parentUUID&quot;:&quot;136904dd-07b4-4211-826e-10d5d1282720&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should Respond with 403 if phone number is already Registered&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /addingAdmin Should Respond with 403 if phone number is already Registered&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1, \&quot;admin\&quot;);\nlet res = await request(server)\n  .post(\&quot;/api/controlPanel/addAdmin\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({\n    phone_number: \&quot;01090243795\&quot;,\n    password: \&quot;testtest\&quot;,\n    name: \&quot;Fawzi E. Abdulfattah\&quot;,\n    role: \&quot;admin\&quot;,\n  })\n  .expect(403);\ndeleteAdmin(\&quot;01090243795\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f96b60de-f662-4841-b31a-61acdc34457c&quot;,&quot;parentUUID&quot;:&quot;136904dd-07b4-4211-826e-10d5d1282720&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b1efd0ce-6a0e-4641-a3d2-366248b50b31&quot;,&quot;29e3620e-de22-4100-8d21-527e86f750c8&quot;,&quot;f96b60de-f662-4841-b31a-61acdc34457c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:14,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;059d37ee-f1f3-4aaf-9a8c-c4ef8376b2f6&quot;,&quot;title&quot;:&quot;/signAdmin&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/controlPanel.test.js&quot;,&quot;file&quot;:&quot;/test/controlPanel.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should respond with 400 if input are missing (SCHEMA VALIDATION)&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /signAdmin should respond with 400 if input are missing (SCHEMA VALIDATION)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n  .post(\&quot;/api/controlPanel/signAdmin\&quot;)\n  .expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0aadf5ce-dd2c-45b1-adda-dfd9b03f314c&quot;,&quot;parentUUID&quot;:&quot;059d37ee-f1f3-4aaf-9a8c-c4ef8376b2f6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 401 when phone number is not found `backend side`&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /signAdmin should respond with 401 when phone number is not found `backend side`&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n  .post(\&quot;/api/controlPanel/signAdmin\&quot;)\n  .send({ phone_number: \&quot;01090243795\&quot;, password: \&quot;testest\&quot; })\n  .expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d8a4b908-9353-446f-a0aa-bda1dd9c8238&quot;,&quot;parentUUID&quot;:&quot;059d37ee-f1f3-4aaf-9a8c-c4ef8376b2f6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 200 if admin loged in successfully&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /signAdmin should respond with 200 if admin loged in successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:18,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1, \&quot;admin\&quot;);\nlet res = await request(server)\n  .post(\&quot;/api/controlPanel/addAdmin\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({\n    phone_number: \&quot;01090243795\&quot;,\n    password: \&quot;testtest\&quot;,\n    name: \&quot;Fawzi E. Abdulfattah\&quot;,\n    role: \&quot;admin\&quot;,\n  })\n  .expect(201);\nexpect(res.body.data.phone_number).to.equal(\&quot;01090243795\&quot;);\nres = await request(server)\n  .post(\&quot;/api/controlPanel/signAdmin\&quot;)\n  .send({ phone_number: \&quot;01090243795\&quot;, password: \&quot;testtest\&quot; })\n  .expect(200);\nexpect(res.body.data.phone_number).to.equal(\&quot;01090243795\&quot;);\ndeleteAdmin(\&quot;01090243795\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e384ca74-d579-4558-9cfd-682210e8e3e6&quot;,&quot;parentUUID&quot;:&quot;059d37ee-f1f3-4aaf-9a8c-c4ef8376b2f6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0aadf5ce-dd2c-45b1-adda-dfd9b03f314c&quot;,&quot;d8a4b908-9353-446f-a0aa-bda1dd9c8238&quot;,&quot;e384ca74-d579-4558-9cfd-682210e8e3e6&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:23,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;1a85876c-02be-45f6-a9ca-bd600f6c2f49&quot;,&quot;title&quot;:&quot;/checkAdminByToken&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/controlPanel.test.js&quot;,&quot;file&quot;:&quot;/test/controlPanel.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 401 if admin is not authorized&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /checkAdminByToken Should respond with 401 if admin is not authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109024379785\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n  .post(\&quot;/api/controlPanel/checkAdminByToken\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1a3dd800-0b67-4c83-a8ef-e1194869793c&quot;,&quot;parentUUID&quot;:&quot;1a85876c-02be-45f6-a9ca-bd600f6c2f49&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 200 if token is valid and referanced to admin&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /checkAdminByToken Should respond with 200 if token is valid and referanced to admin&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1, \&quot;admin\&quot;);\nlet res = await request(server)\n  .post(\&quot;/api/controlPanel/addAdmin\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({\n    phone_number: \&quot;01090243795\&quot;,\n    password: \&quot;testtest\&quot;,\n    name: \&quot;Fawzi E. Abdulfattah\&quot;,\n    role: \&quot;admin\&quot;,\n  })\n  .expect(201);\nres = await request(server)\n  .post(\&quot;/api/controlPanel/checkAdminByToken\&quot;)\n  .send({})\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .expect(200);\ndeleteAdmin(\&quot;01090243795\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5fd5937f-3dff-4674-a4ab-7d74310ad796&quot;,&quot;parentUUID&quot;:&quot;1a85876c-02be-45f6-a9ca-bd600f6c2f49&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1a3dd800-0b67-4c83-a8ef-e1194869793c&quot;,&quot;5fd5937f-3dff-4674-a4ab-7d74310ad796&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:17,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;72073d79-4708-4fe1-aba8-875e6477de15&quot;,&quot;title&quot;:&quot;/addImage&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/controlPanel.test.js&quot;,&quot;file&quot;:&quot;/test/controlPanel.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should responed with 201 if uploaded&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /addImage Should responed with 201 if uploaded&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1, \&quot;admin\&quot;);\nlet res = await request(server)\n  .post(\&quot;/api/controlPanel/addImage\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .set(\&quot;Content-Type\&quot;, \&quot;application/x-www-form-urlencoded\&quot;)\n  .attach(\&quot;file\&quot;, path.resolve(__dirname, \&quot;../logo.png\&quot;))\n  .expect(201);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9bd632b9-118b-4b2a-8ed5-333879ca4764&quot;,&quot;parentUUID&quot;:&quot;72073d79-4708-4fe1-aba8-875e6477de15&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should responed with 403 if type not allowed&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /addImage Should responed with 403 if type not allowed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:48,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1, \&quot;admin\&quot;);\nlet res = await request(server)\n  .post(\&quot;/api/controlPanel/addImage\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .set(\&quot;Content-Type\&quot;, \&quot;application/x-www-form-urlencoded\&quot;)\n  .attach(\&quot;file\&quot;, path.resolve(__dirname, \&quot;../udemy-accs.txt\&quot;))\n  .expect(403);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;94bf55f5-86b5-4cdd-9d37-574722cfb6b1&quot;,&quot;parentUUID&quot;:&quot;72073d79-4708-4fe1-aba8-875e6477de15&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;9bd632b9-118b-4b2a-8ed5-333879ca4764&quot;,&quot;94bf55f5-86b5-4cdd-9d37-574722cfb6b1&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:63,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;83f8e249-463e-4190-8006-52fc06f20098&quot;,&quot;title&quot;:&quot;/getCategories&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/controlPanel.test.js&quot;,&quot;file&quot;:&quot;/test/controlPanel.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 401 if not authorized&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /getCategories Should respond with 401 if not authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n  .get(\&quot;/api/controlPanel/getCategories\&quot;)\n  .expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;34d502c3-5a4e-4360-be5d-19de8a2d4e47&quot;,&quot;parentUUID&quot;:&quot;83f8e249-463e-4190-8006-52fc06f20098&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 200 if got categories successfully&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /getCategories Should respond with 200 if got categories successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1, \&quot;admin\&quot;);\nlet res = await request(server)\n  .get(\&quot;/api/controlPanel/getCategories\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .expect(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fb0317e4-3b54-4594-8413-6bb4d5f75486&quot;,&quot;parentUUID&quot;:&quot;83f8e249-463e-4190-8006-52fc06f20098&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;34d502c3-5a4e-4360-be5d-19de8a2d4e47&quot;,&quot;fb0317e4-3b54-4594-8413-6bb4d5f75486&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:6,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;32a67922-6d0e-4e41-8295-091b1e00994e&quot;,&quot;title&quot;:&quot;/getDoctors&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/controlPanel.test.js&quot;,&quot;file&quot;:&quot;/test/controlPanel.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 401 if not authorized&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /getDoctors Should respond with 401 if not authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n  .get(\&quot;/api/controlPanel/getCategories\&quot;)\n  .expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2f3088f0-50cb-47f4-afdb-4db1a713721e&quot;,&quot;parentUUID&quot;:&quot;32a67922-6d0e-4e41-8295-091b1e00994e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 200 if got categories successfully&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /getDoctors Should respond with 200 if got categories successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1, \&quot;admin\&quot;);\nlet res = await request(server)\n  .get(\&quot;/api/controlPanel/getDoctors\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .expect(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b8594188-2a16-478a-8df6-f46946514da8&quot;,&quot;parentUUID&quot;:&quot;32a67922-6d0e-4e41-8295-091b1e00994e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;2f3088f0-50cb-47f4-afdb-4db1a713721e&quot;,&quot;b8594188-2a16-478a-8df6-f46946514da8&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;b0c1e63d-0740-4909-bbd0-ad78453de754&quot;,&quot;title&quot;:&quot;/deleteDoctor&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/controlPanel.test.js&quot;,&quot;file&quot;:&quot;/test/controlPanel.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 401 if not authorized&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /deleteDoctor Should respond with 401 if not authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n  .get(\&quot;/api/controlPanel/getCategories\&quot;)\n  .expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;445948e9-037f-4d61-8026-fe255ba0576d&quot;,&quot;parentUUID&quot;:&quot;b0c1e63d-0740-4909-bbd0-ad78453de754&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 404 if doctor not found&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /deleteDoctor Should respond with 404 if doctor not found&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1, \&quot;admin\&quot;);\nlet res = await request(server)\n  .delete(\&quot;/api/controlPanel/deleteDoctor\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({ phone_number: \&quot;0109024371111212129511113\&quot;})\n  .expect(404);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5a7f37fa-44e4-457b-880e-3b507ef3380e&quot;,&quot;parentUUID&quot;:&quot;b0c1e63d-0740-4909-bbd0-ad78453de754&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 200 if doctor deleted successfully&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /deleteDoctor Should respond with 200 if doctor deleted successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1, \&quot;admin\&quot;);\nlet res = await request(server)\n  .delete(\&quot;/api/controlPanel/deleteDoctor\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({ phone_number: \&quot;01090243798\&quot;}) // this tee number which registered above\n  .expect(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4cc8a484-7efd-4041-acfa-694867c813b2&quot;,&quot;parentUUID&quot;:&quot;b0c1e63d-0740-4909-bbd0-ad78453de754&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;445948e9-037f-4d61-8026-fe255ba0576d&quot;,&quot;5a7f37fa-44e4-457b-880e-3b507ef3380e&quot;,&quot;4cc8a484-7efd-4041-acfa-694867c813b2&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:8,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;31294576-57e1-42d9-b3a1-2a96658557bf&quot;,&quot;title&quot;:&quot;/toggleBlock&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/controlPanel.test.js&quot;,&quot;file&quot;:&quot;/test/controlPanel.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 401 if not authorized&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /toggleBlock Should respond with 401 if not authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n  .patch(\&quot;/api/controlPanel/toggleBlock\&quot;)\n  .expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fa3335c9-5996-4660-b434-7457570169bf&quot;,&quot;parentUUID&quot;:&quot;31294576-57e1-42d9-b3a1-2a96658557bf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 404 if user not found&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /toggleBlock Should respond with 404 if user not found&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1, \&quot;admin\&quot;);\nlet res = await request(server)\n  .patch(\&quot;/api/controlPanel/toggleBlock\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({ phone_number: \&quot;0109024371111212129511113\&quot;})\n  .expect(404);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;85f5ee09-acf2-427e-bb1b-b3661a7e95c0&quot;,&quot;parentUUID&quot;:&quot;31294576-57e1-42d9-b3a1-2a96658557bf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 200 if toggle user&#x27;s block successfully&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /toggleBlock Should respond with 200 if toggle user&#x27;s block successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;015902433199\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;djdj84\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n})\n.expect(201);\nconst token = genToken(\&quot;01090243795\&quot;,1, \&quot;admin\&quot;);\nres = await request(server)\n  .patch(\&quot;/api/controlPanel/toggleBlock\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({ phone_number: \&quot;015902433199\&quot;})\n  .expect(200);\n  deleteUser(\&quot;015902433199\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e69ae1fa-3c50-4f96-b78f-42ca72fd0f31&quot;,&quot;parentUUID&quot;:&quot;31294576-57e1-42d9-b3a1-2a96658557bf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;fa3335c9-5996-4660-b434-7457570169bf&quot;,&quot;85f5ee09-acf2-427e-bb1b-b3661a7e95c0&quot;,&quot;e69ae1fa-3c50-4f96-b78f-42ca72fd0f31&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:17,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;8ebb77eb-4df6-47f3-b524-0ed1acede3d3&quot;,&quot;title&quot;:&quot;/getDoctorSlots&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/controlPanel.test.js&quot;,&quot;file&quot;:&quot;/test/controlPanel.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 401 if not authorized&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /getDoctorSlots Should respond with 401 if not authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n  .post(\&quot;/api/controlPanel/getDoctorSlots\&quot;)\n  .expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3d1c5eb6-2cd5-4653-98f2-5b74b3b74b8c&quot;,&quot;parentUUID&quot;:&quot;8ebb77eb-4df6-47f3-b524-0ed1acede3d3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 400 doctor_id is missing or incorrect&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /getDoctorSlots Should respond with 400 doctor_id is missing or incorrect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1, \&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/controlPanel/getDoctorSlots\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({ doctor_id: \&quot;ahmed\&quot;})\n  .expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9a703756-76ce-401c-9047-889ba31d4df1&quot;,&quot;parentUUID&quot;:&quot;8ebb77eb-4df6-47f3-b524-0ed1acede3d3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 200 if got doctor&#x27;s slots successfully&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /getDoctorSlots Should respond with 200 if got doctor&#x27;s slots successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1, \&quot;admin\&quot;);\nlet res = await request(server)\n  .post(\&quot;/api/controlPanel/getDoctorSlots\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({ doctor_id: 11})\n  .expect(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;97f8820b-f6d8-4d02-a953-3df0ae790b90&quot;,&quot;parentUUID&quot;:&quot;8ebb77eb-4df6-47f3-b524-0ed1acede3d3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3d1c5eb6-2cd5-4653-98f2-5b74b3b74b8c&quot;,&quot;9a703756-76ce-401c-9047-889ba31d4df1&quot;,&quot;97f8820b-f6d8-4d02-a953-3df0ae790b90&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:7,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;9712c1a1-a43f-402f-8271-a0996ed27810&quot;,&quot;title&quot;:&quot;/api/doctors&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/doctors.js&quot;,&quot;file&quot;:&quot;/test/doctors.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/doctors \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;server = require(\&quot;../app\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bfc2640d-e702-4b7c-8b9d-564957ef7f1b&quot;,&quot;parentUUID&quot;:&quot;9712c1a1-a43f-402f-8271-a0996ed27810&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/doctors \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;78827b88-c9c9-4529-a3f7-7c4f3510979a&quot;,&quot;parentUUID&quot;:&quot;9712c1a1-a43f-402f-8271-a0996ed27810&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;44aeff0a-c2e5-4a8b-89b8-f69ca32ec993&quot;,&quot;title&quot;:&quot;/getDoctor&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/doctors.js&quot;,&quot;file&quot;:&quot;/test/doctors.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 400 if phone doctor_id is missing (validation schema)&quot;,&quot;fullTitle&quot;:&quot;/api/doctors /getDoctor Should respond with 400 if phone doctor_id is missing (validation schema)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/doctors/getDoctor\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({})\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;383bb46b-ce8d-4905-88b7-54ff724da2af&quot;,&quot;parentUUID&quot;:&quot;44aeff0a-c2e5-4a8b-89b8-f69ca32ec993&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 401 if not authorized&quot;,&quot;fullTitle&quot;:&quot;/api/doctors /getDoctor Should respond with 401 if not authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/doctors/getDoctor\&quot;)\n.send({doctor_id: \&quot;1233\&quot;})\n.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a7f0d1bd-0c16-4388-843b-fafccb0c0b46&quot;,&quot;parentUUID&quot;:&quot;44aeff0a-c2e5-4a8b-89b8-f69ca32ec993&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 404 if doctor not found&quot;,&quot;fullTitle&quot;:&quot;/api/doctors /getDoctor Should respond with 404 if doctor not found&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1,\&quot;user\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/doctors/getDoctor\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({doctor_id: 54878785})\n.expect(404);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bf66e959-d516-4ba2-b8bf-c90fd2ac26a1&quot;,&quot;parentUUID&quot;:&quot;44aeff0a-c2e5-4a8b-89b8-f69ca32ec993&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 200 if got doctor successfully&quot;,&quot;fullTitle&quot;:&quot;/api/doctors /getDoctor Should respond with 200 if got doctor successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:21,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/controlPanel/addDoctor\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;phone_number\&quot;:\&quot;01090113795\&quot;,\n    \&quot;password\&quot;:\&quot;testtest\&quot;,\n    \&quot;first_name\&quot;:\&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;: \&quot;ahmed\&quot;,\n    \&quot;country\&quot;:\&quot;egypt\&quot;,\n    \&quot;category_id\&quot;:1,\n    \&quot;picture\&quot;:\&quot;fkfjkfj\&quot;,\n    \&quot;price\&quot;: \&quot;100\&quot;,\n})\n.expect(201);\nconst doctor_id = res.body.data.doctor_id;\nres = await request(server)\n.post(\&quot;/api/doctors/getDoctor\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({doctor_id: doctor_id})\n.expect(200);\ndeleteDoctor(\&quot;01090113795\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ea458901-ff35-4869-8dc8-63eeebb71ac0&quot;,&quot;parentUUID&quot;:&quot;44aeff0a-c2e5-4a8b-89b8-f69ca32ec993&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;383bb46b-ce8d-4905-88b7-54ff724da2af&quot;,&quot;a7f0d1bd-0c16-4388-843b-fafccb0c0b46&quot;,&quot;bf66e959-d516-4ba2-b8bf-c90fd2ac26a1&quot;,&quot;ea458901-ff35-4869-8dc8-63eeebb71ac0&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:30,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;19e25c59-e0b6-48ad-a8d3-357a321ee19a&quot;,&quot;title&quot;:&quot;/getDoctors&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/doctors.js&quot;,&quot;file&quot;:&quot;/test/doctors.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 401 if not authorized&quot;,&quot;fullTitle&quot;:&quot;/api/doctors /getDoctors Should respond with 401 if not authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/doctors/getDoctors\&quot;)\n.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3cf43616-d45f-468f-b16c-cdc99ccf3a45&quot;,&quot;parentUUID&quot;:&quot;19e25c59-e0b6-48ad-a8d3-357a321ee19a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 200 if got doctors successfully&quot;,&quot;fullTitle&quot;:&quot;/api/doctors /getDoctors Should respond with 200 if got doctors successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1,\&quot;user\&quot;);\n            let res = await request(server)\n            .post(\&quot;/api/doctors/getDoctors\&quot;)\n            .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n            .send({category_id: 42})\n            .expect(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3031e6e8-c6e0-4683-826b-127baae07245&quot;,&quot;parentUUID&quot;:&quot;19e25c59-e0b6-48ad-a8d3-357a321ee19a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3cf43616-d45f-468f-b16c-cdc99ccf3a45&quot;,&quot;3031e6e8-c6e0-4683-826b-127baae07245&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:7,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;0d0fb864-9771-4bb4-8d8c-71d257931894&quot;,&quot;title&quot;:&quot;/updateDoctor&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/doctors.js&quot;,&quot;file&quot;:&quot;/test/doctors.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 401 if not authorized&quot;,&quot;fullTitle&quot;:&quot;/api/doctors /updateDoctor Should respond with 401 if not authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.patch(\&quot;/api/doctors/updateDoctor\&quot;)\n.send({\&quot;phone_number\&quot;:\&quot;3487\&quot;})\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;69457ba9-b1a1-484f-a42a-1ef1a8ebd1f4&quot;,&quot;parentUUID&quot;:&quot;0d0fb864-9771-4bb4-8d8c-71d257931894&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 400 if field is nor allowed&quot;,&quot;fullTitle&quot;:&quot;/api/doctors /updateDoctor Should respond with 400 if field is nor allowed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01590243311\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.patch(\&quot;/api/doctors/updateDoctor\&quot;)\n.send({\&quot;fb_token_id\&quot;:\&quot;3487\&quot;})\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;953f433a-fd2b-4a59-bbb4-1f51abd3a111&quot;,&quot;parentUUID&quot;:&quot;0d0fb864-9771-4bb4-8d8c-71d257931894&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 200 if successfully updated&quot;,&quot;fullTitle&quot;:&quot;/api/doctors /updateDoctor Should respond with 200 if successfully updated&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:25,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;11090243799\&quot;,1, \&quot;admin\&quot;);\nlet res = await request(server)\n  .post(\&quot;/api/controlPanel/addDoctor\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({\n    phone_number: \&quot;11090243799\&quot;,\n    password: \&quot;testtest\&quot;,\n    first_name: \&quot;fawzi\&quot;,\n    last_name: \&quot;ahmed\&quot;,\n    country: \&quot;egypt\&quot;,\n    category_id: 1,\n    picture: \&quot;fkfjkfj\&quot;,\n    price: \&quot;100\&quot;,\n  })\n  .expect(201);\n  const docId = res.body.data.doctor_id;\nres = await request(server)\n .patch(\&quot;/api/doctors/updateDoctor\&quot;)\n.send({\n    doctor_id: docId,\n    phone_number: \&quot;112345\&quot;,\n    password: \&quot;t123\&quot;,\n    first_name: \&quot;fawziiiii\&quot;,\n    last_name: \&quot;ahmedddddd\&quot;,\n    country: \&quot;saudiarabia\&quot;,\n    category_id: 5,\n    picture: \&quot;fkfjkfj\&quot;,\n    price: \&quot;300\&quot;,\n})\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(200);\nexpect(res.body.data.phone_number).to.equal(\&quot;112345\&quot;);\nexpect(res.body.data.password).to.equal(\&quot;t123\&quot;);\nexpect(res.body.data.first_name).to.equal(\&quot;fawziiiii\&quot;);\nexpect(res.body.data.last_name).to.equal(\&quot;ahmedddddd\&quot;);\nexpect(res.body.data.country).to.equal(\&quot;saudiarabia\&quot;);\nexpect(res.body.data.category_id).to.equal(5);\nexpect(res.body.data.picture).to.equal(\&quot;fkfjkfj\&quot;);\nexpect(res.body.data.price).to.equal(\&quot;300\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cb74c6d1-3b87-4349-8119-f356298ceafa&quot;,&quot;parentUUID&quot;:&quot;0d0fb864-9771-4bb4-8d8c-71d257931894&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 403 if new phone number is already registered&quot;,&quot;fullTitle&quot;:&quot;/api/doctors /updateDoctor Should respond with 403 if new phone number is already registered&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01590243313\&quot;,1,\&quot;admin\&quot;);\n          let res = await request(server)\n.post(\&quot;/api/controlPanel/addDoctor\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n  phone_number: \&quot;110902411\&quot;,\n  password: \&quot;testtest\&quot;,\n  first_name: \&quot;fawzi\&quot;,\n  last_name: \&quot;ahmed\&quot;,\n  country: \&quot;egypt\&quot;,\n  category_id: 1,\n  picture: \&quot;fkfjkfj\&quot;,\n  price: \&quot;100\&quot;,\n})\n.expect(201);\nconst docId = res.body.data.doctor_id;\nres = await request(server)\n.patch(\&quot;/api/doctors/updateDoctor\&quot;)\n.send({\n    doctor_id: docId,\n    phone_number: \&quot;112345\&quot;,\n})\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(403);\ndeleteDoctor(\&quot;110902411\&quot;);\ndeleteDoctor(\&quot;112345\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;af7f51b0-a5a8-44e4-a555-2df41a7fdcef&quot;,&quot;parentUUID&quot;:&quot;0d0fb864-9771-4bb4-8d8c-71d257931894&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;69457ba9-b1a1-484f-a42a-1ef1a8ebd1f4&quot;,&quot;953f433a-fd2b-4a59-bbb4-1f51abd3a111&quot;,&quot;cb74c6d1-3b87-4349-8119-f356298ceafa&quot;,&quot;af7f51b0-a5a8-44e4-a555-2df41a7fdcef&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:40,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;057f3dd0-70cd-4dfa-bea9-240ef973cb34&quot;,&quot;title&quot;:&quot;/api/messages&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/messages.test.js&quot;,&quot;file&quot;:&quot;/test/messages.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/messages \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;server = require(\&quot;../app\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;eaeca4c1-0cd1-4aed-aff4-6e0df198db1c&quot;,&quot;parentUUID&quot;:&quot;057f3dd0-70cd-4dfa-bea9-240ef973cb34&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/messages \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6b26a33b-b4f5-40db-a7d9-aed46f4ce874&quot;,&quot;parentUUID&quot;:&quot;057f3dd0-70cd-4dfa-bea9-240ef973cb34&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;a1c42629-8e83-4536-8017-87b77728a787&quot;,&quot;title&quot;:&quot;/getFinishedMessages&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/messages.test.js&quot;,&quot;file&quot;:&quot;/test/messages.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/messages /getFinishedMessages Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/messages/getFinishedMessages\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;88360bed-a762-4c9a-a441-cf251ba22196&quot;,&quot;parentUUID&quot;:&quot;a1c42629-8e83-4536-8017-87b77728a787&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 400 if room_id is missed&quot;,&quot;fullTitle&quot;:&quot;/api/messages /getFinishedMessages Should respond with 400 if room_id is missed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;user\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/messages/getFinishedMessages\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({room_id: 1591470036382}) // should be a string not number\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;714d615b-5ca5-409c-b780-7d101dc1c6fa&quot;,&quot;parentUUID&quot;:&quot;a1c42629-8e83-4536-8017-87b77728a787&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 200 if got messages successfully&quot;,&quot;fullTitle&quot;:&quot;/api/messages /getFinishedMessages Should respond 200 if got messages successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;user\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/messages/getFinishedMessages\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({room_id: \&quot;1591470036382\&quot;}) \n.expect(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4434672e-9077-4ad9-b4d2-b2cf02df6185&quot;,&quot;parentUUID&quot;:&quot;a1c42629-8e83-4536-8017-87b77728a787&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;88360bed-a762-4c9a-a441-cf251ba22196&quot;,&quot;714d615b-5ca5-409c-b780-7d101dc1c6fa&quot;,&quot;4434672e-9077-4ad9-b4d2-b2cf02df6185&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:13,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;dd7ca832-7546-4a2b-a30f-22e1dffc2809&quot;,&quot;title&quot;:&quot;/uploadFile&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/messages.test.js&quot;,&quot;file&quot;:&quot;/test/messages.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should responed with 201 if uploaded&quot;,&quot;fullTitle&quot;:&quot;/api/messages /uploadFile Should responed with 201 if uploaded&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1, \&quot;user\&quot;);\nlet res = await request(server)\n  .post(\&quot;/api/messages/uploadFile\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .set(\&quot;chatRoomId\&quot;, `589598958`)\n  .set(\&quot;Content-Type\&quot;, \&quot;application/x-www-form-urlencoded\&quot;)\n  .attach(\&quot;file\&quot;, path.resolve(__dirname, \&quot;../logo.png\&quot;))\n  .expect(201);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d0dd1917-3d34-489f-9ed7-2b22e0609544&quot;,&quot;parentUUID&quot;:&quot;dd7ca832-7546-4a2b-a30f-22e1dffc2809&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should responed with 403 if type is not allowed&quot;,&quot;fullTitle&quot;:&quot;/api/messages /uploadFile Should responed with 403 if type is not allowed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:40,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1, \&quot;user\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/messages/uploadFile\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .set(\&quot;chatRoomId\&quot;, `589598958`)\n  .set(\&quot;Content-Type\&quot;, \&quot;application/x-www-form-urlencoded\&quot;)\n  .attach(\&quot;file\&quot;, path.resolve(__dirname, \&quot;../udemy-accs.txt\&quot;))\n  .expect(403);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;66ecc1d0-7fa8-47e2-ac55-d105143611e7&quot;,&quot;parentUUID&quot;:&quot;dd7ca832-7546-4a2b-a30f-22e1dffc2809&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d0dd1917-3d34-489f-9ed7-2b22e0609544&quot;,&quot;66ecc1d0-7fa8-47e2-ac55-d105143611e7&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:45,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;b023e7c1-fc35-457a-b9ae-220bb8ecb111&quot;,&quot;title&quot;:&quot;/api/slots&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/slots.test.js&quot;,&quot;file&quot;:&quot;/test/slots.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/slots \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;server = require(\&quot;../app\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e1c04819-509c-4f88-b293-95e9fac6df84&quot;,&quot;parentUUID&quot;:&quot;b023e7c1-fc35-457a-b9ae-220bb8ecb111&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/slots \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;90045ad7-dc78-4499-9881-6e069bb782b9&quot;,&quot;parentUUID&quot;:&quot;b023e7c1-fc35-457a-b9ae-220bb8ecb111&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;c7b41498-9b30-4839-ab23-16181d6d3c95&quot;,&quot;title&quot;:&quot;/addSlot&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/slots.test.js&quot;,&quot;file&quot;:&quot;/test/slots.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/slots /addSlot Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/slots/addSlot\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b830f300-b4dc-454b-bdd9-5deda3c64e94&quot;,&quot;parentUUID&quot;:&quot;c7b41498-9b30-4839-ab23-16181d6d3c95&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;fullTitle&quot;:&quot;/api/slots /addSlot Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/slots/addSlot\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;day\&quot;:\&quot;mon\&quot;,\n    \&quot;slot_time\&quot;:\&quot;60:00\&quot;,\n    \&quot;available\&quot;:false\n    })\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e84b94c4-2759-4c3a-b39b-a66d75dcdcb7&quot;,&quot;parentUUID&quot;:&quot;c7b41498-9b30-4839-ab23-16181d6d3c95&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 200 addedd Successfully&quot;,&quot;fullTitle&quot;:&quot;/api/slots /addSlot Should respond 200 addedd Successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/controlPanel/addDoctor\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;phone_number\&quot;:\&quot;01090113795\&quot;,\n    \&quot;password\&quot;:\&quot;testtest\&quot;,\n    \&quot;first_name\&quot;:\&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;: \&quot;ahmed\&quot;,\n    \&quot;country\&quot;:\&quot;egypt\&quot;,\n    \&quot;category_id\&quot;:1,\n    \&quot;picture\&quot;:\&quot;fkfjkfj\&quot;,\n    \&quot;price\&quot;: \&quot;100\&quot;,\n})\n.expect(201);\nconst docId = res.body.data.doctor_id;\nres = await request(server)\n.post(\&quot;/api/slots/addSlot\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;doctor_id\&quot;:docId,\n    \&quot;day\&quot;:\&quot;mon\&quot;,\n    \&quot;start_time\&quot;:\&quot;23:00\&quot;,\n    \&quot;slot_time\&quot;:\&quot;3300\&quot;,\n    \&quot;available\&quot;:false\n    })\n.expect(201);\nconst slotId = res.body.data.slot_id;\ndeleteDoctor(\&quot;01090113795\&quot;);\n// deleteSlot(slotId);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bcbd60f5-4da8-454c-9ba7-8f3aace9c3cd&quot;,&quot;parentUUID&quot;:&quot;c7b41498-9b30-4839-ab23-16181d6d3c95&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b830f300-b4dc-454b-bdd9-5deda3c64e94&quot;,&quot;e84b94c4-2759-4c3a-b39b-a66d75dcdcb7&quot;,&quot;bcbd60f5-4da8-454c-9ba7-8f3aace9c3cd&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:14,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;939187a6-e51e-468e-bc8b-3899dbac7cbc&quot;,&quot;title&quot;:&quot;/updateSlot&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/slots.test.js&quot;,&quot;file&quot;:&quot;/test/slots.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/slots /updateSlot Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.patch(\&quot;/api/slots/updateSlot\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0b7b5ff0-18b0-46c5-a491-c990f86c6e1c&quot;,&quot;parentUUID&quot;:&quot;939187a6-e51e-468e-bc8b-3899dbac7cbc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 400 if one of inputs is incorrect&quot;,&quot;fullTitle&quot;:&quot;/api/slots /updateSlot Should respond 400 if one of inputs is incorrect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.patch(\&quot;/api/slots/updateSlot\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;ahmed\&quot;:\&quot;mon\&quot;,\n    })\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ae614410-cd10-4d27-9e5e-50fad7690d1b&quot;,&quot;parentUUID&quot;:&quot;939187a6-e51e-468e-bc8b-3899dbac7cbc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 200 updated Successfully&quot;,&quot;fullTitle&quot;:&quot;/api/slots /updateSlot Should respond 200 updated Successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.patch(\&quot;/api/slots/updateSlot\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;slot_id\&quot;:1,\n    \&quot;day\&quot;:\&quot;wed\&quot;,\n    \&quot;start_time\&quot;:\&quot;21:00\&quot;,\n    \&quot;slot_time\&quot;:\&quot;30:00\&quot;,\n    \&quot;available\&quot;:true\n    })\n.expect(200);\nexpect(res.body.data.day).to.equal(\&quot;wed\&quot;);\nconst slotId = res.body.data.slot_id;\n// deleteSlot(slotId);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d2c914e3-9c1b-45d0-8ada-6bb1ee3d94a6&quot;,&quot;parentUUID&quot;:&quot;939187a6-e51e-468e-bc8b-3899dbac7cbc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0b7b5ff0-18b0-46c5-a491-c990f86c6e1c&quot;,&quot;ae614410-cd10-4d27-9e5e-50fad7690d1b&quot;,&quot;d2c914e3-9c1b-45d0-8ada-6bb1ee3d94a6&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:11,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;39df56c9-ba3d-4236-b1a4-fd66c17f5210&quot;,&quot;title&quot;:&quot;/getOpenSlots&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/slots.test.js&quot;,&quot;file&quot;:&quot;/test/slots.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/slots /getOpenSlots Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/slots/getOpenSlots\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fb2b7bb2-72de-4506-a4c6-b17e1731c394&quot;,&quot;parentUUID&quot;:&quot;39df56c9-ba3d-4236-b1a4-fd66c17f5210&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;fullTitle&quot;:&quot;/api/slots /getOpenSlots Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;user\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/slots/getOpenSlots\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;doctor_id\&quot;:44554,\n    })\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;155214da-5426-4276-8448-7e07190c7e98&quot;,&quot;parentUUID&quot;:&quot;39df56c9-ba3d-4236-b1a4-fd66c17f5210&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 200 got slots Successfully&quot;,&quot;fullTitle&quot;:&quot;/api/slots /getOpenSlots Should respond 200 got slots Successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:46,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;user\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;01590243399\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;djdj84\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n})\n.expect(201);\nconst userId = res.body.data.user_id;\n res = await request(server)\n.post(\&quot;/api/slots/getOpenSlots\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;doctor_id\&quot;: 11,\n    \&quot;searchIn\&quot;:30,\n    })\n.expect(200);\ndeleteUser(\&quot;01590243399\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;52608010-26ba-41c0-b7f5-0bace6517f4f&quot;,&quot;parentUUID&quot;:&quot;39df56c9-ba3d-4236-b1a4-fd66c17f5210&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;fb2b7bb2-72de-4506-a4c6-b17e1731c394&quot;,&quot;155214da-5426-4276-8448-7e07190c7e98&quot;,&quot;52608010-26ba-41c0-b7f5-0bace6517f4f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:48,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;1a435743-bb8a-40f9-a349-4733a782d1a0&quot;,&quot;title&quot;:&quot;/getDoctorDays&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/slots.test.js&quot;,&quot;file&quot;:&quot;/test/slots.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/slots /getDoctorDays Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\t\n            .post(\&quot;/api/slots/addSlot\&quot;)\t\n            .expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d88f615c-ce67-4e3b-a06d-f7f52429353d&quot;,&quot;parentUUID&quot;:&quot;1a435743-bb8a-40f9-a349-4733a782d1a0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 200 if got days susccessfully&quot;,&quot;fullTitle&quot;:&quot;/api/slots /getDoctorDays Should respond 200 if got days susccessfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:21,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;admin\&quot;);\t\n            let res = await request(server)\t\n            .post(\&quot;/api/controlPanel/addDoctor\&quot;)\t\n            .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\t\n            .send({\t\n                \&quot;phone_number\&quot;:\&quot;01090113785\&quot;,\t\n                \&quot;password\&quot;:\&quot;testtest\&quot;,\t\n                \&quot;first_name\&quot;:\&quot;fawzi\&quot;,\t\n                \&quot;last_name\&quot;: \&quot;ahmed\&quot;,\t\n                \&quot;country\&quot;:\&quot;egypt\&quot;,\t\n                \&quot;category_id\&quot;:1,\t\n                \&quot;picture\&quot;:\&quot;fkfjkfj\&quot;,\t\n                \&quot;price\&quot;: \&quot;100\&quot;,\t\n            })\t\n            .expect(201);\t\n            const docId = res.body.data.doctor_id;\t\n            res = await request(server)\t\n            .post(\&quot;/api/slots/addSlot\&quot;)\t\n            .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\t\n            .send({\t\n                \&quot;doctor_id\&quot;:docId,\t\n                \&quot;day\&quot;:\&quot;mon\&quot;,\t\n                \&quot;start_time\&quot;:\&quot;23:00\&quot;,\t\n                \&quot;slot_time\&quot;:\&quot;60:00\&quot;,\t\n                \&quot;available\&quot;:false\t\n                })\t\n            .expect(201);\t\n            const slotId = res.body.data.slot_id;\t\n            const doctorToken = genToken(\&quot;01090113795\&quot;,1,\&quot;doctor\&quot;);\t\n            res = await request(server)\t\n            .post(\&quot;/api/slots/getDoctorDays\&quot;)\t\n            .set(\&quot;Authorization\&quot;, `Bearer ${doctorToken}`)\t\n            .expect(200);\t\n            deleteDoctor(\&quot;01090113785\&quot;);\t\n            // deleteSlot(slotId);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2cd515f2-5aeb-471d-b5cd-ecbd389387ea&quot;,&quot;parentUUID&quot;:&quot;1a435743-bb8a-40f9-a349-4733a782d1a0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d88f615c-ce67-4e3b-a06d-f7f52429353d&quot;,&quot;2cd515f2-5aeb-471d-b5cd-ecbd389387ea&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:22,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;df79ffe5-e7dd-4c69-a966-1834bdcec967&quot;,&quot;title&quot;:&quot;/api/user&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/user.js&quot;,&quot;file&quot;:&quot;/test/user.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/user \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;server = require(\&quot;../app\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;041696cb-8b80-4afd-ad06-b58845ee81cd&quot;,&quot;parentUUID&quot;:&quot;df79ffe5-e7dd-4c69-a966-1834bdcec967&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/user \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;64a71521-b3db-4890-8b53-95e17cbf45d7&quot;,&quot;parentUUID&quot;:&quot;df79ffe5-e7dd-4c69-a966-1834bdcec967&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;cd6959ae-ce1a-4e09-8284-047495bea776&quot;,&quot;title&quot;:&quot;/updateInfo&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/user.js&quot;,&quot;file&quot;:&quot;/test/user.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 401 if not authorized&quot;,&quot;fullTitle&quot;:&quot;/api/user /updateInfo Should respond with 401 if not authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.patch(\&quot;/api/user/updateInfo\&quot;)\n.send({\&quot;phone_number\&quot;:\&quot;3487\&quot;})\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c192cb6f-c22a-4a9b-84b6-54e0e77f5206&quot;,&quot;parentUUID&quot;:&quot;cd6959ae-ce1a-4e09-8284-047495bea776&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 400 if field is nor allowed&quot;,&quot;fullTitle&quot;:&quot;/api/user /updateInfo Should respond with 400 if field is nor allowed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01590243311\&quot;,1,\&quot;user\&quot;);\nlet res = await request(server)\n.patch(\&quot;/api/user/updateInfo\&quot;)\n.send({\&quot;fb_token_id\&quot;:\&quot;3487\&quot;})\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;accc1a18-2013-47f0-83e3-4889b592779b&quot;,&quot;parentUUID&quot;:&quot;cd6959ae-ce1a-4e09-8284-047495bea776&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 200 if successfully updated&quot;,&quot;fullTitle&quot;:&quot;/api/user /updateInfo Should respond with 200 if successfully updated&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;01590243311\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;djdj84\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n}).expect(201);\nexpect(res.body.data.phone_number).to.equal(\&quot;01590243311\&quot;);\nconst token = genToken(\&quot;01590243311\&quot;,1,\&quot;user\&quot;);\n res = await request(server)\n.patch(\&quot;/api/user/updateInfo\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;12345\&quot;,\n    \&quot;first_name\&quot;: \&quot;ahmed\&quot;,\n    \&quot;last_name\&quot;:\&quot;mohammed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-22\&quot;,\n    \&quot;weight\&quot;: 200,\n    \&quot;height\&quot;: 300,\n    \&quot;bmi\&quot;: 50,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n})\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(200);\nexpect(res.body.data.phone_number).to.equal(\&quot;12345\&quot;);\nexpect(res.body.data.first_name).to.equal(\&quot;ahmed\&quot;);\nexpect(res.body.data.last_name).to.equal(\&quot;mohammed\&quot;);\nexpect(res.body.data.birth_date).to.equal(\&quot;1999-03-22\&quot;);\nexpect(res.body.data.weight).to.equal(200);\nexpect(res.body.data.height).to.equal(300);\nexpect(res.body.data.bmi).to.equal(50);\nexpect(res.body.data.gender).to.equal(\&quot;male\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ef2bf712-e418-4c93-8433-7baf3486a821&quot;,&quot;parentUUID&quot;:&quot;cd6959ae-ce1a-4e09-8284-047495bea776&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 403 if phone number is already registered&quot;,&quot;fullTitle&quot;:&quot;/api/user /updateInfo Should respond with 403 if phone number is already registered&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;01590243313\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;djdj84\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n}).expect(201);\nexpect(res.body.data.phone_number).to.equal(\&quot;01590243313\&quot;);\nconst token = genToken(\&quot;01590243313\&quot;,1,\&quot;user\&quot;);\n res = await request(server)\n.patch(\&quot;/api/user/updateInfo\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;12345\&quot;,\n    \&quot;first_name\&quot;: \&quot;ahmed\&quot;,\n    \&quot;last_name\&quot;:\&quot;mohammed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-22\&quot;,\n    \&quot;weight\&quot;: 200,\n    \&quot;height\&quot;: 300,\n    \&quot;bmi\&quot;: 50,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n})\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(403);\ndeleteUser(\&quot;01590243313\&quot;);\ndeleteUser(\&quot;12345\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fa23420d-a1a1-468b-987b-910a060e7f18&quot;,&quot;parentUUID&quot;:&quot;cd6959ae-ce1a-4e09-8284-047495bea776&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c192cb6f-c22a-4a9b-84b6-54e0e77f5206&quot;,&quot;accc1a18-2013-47f0-83e3-4889b592779b&quot;,&quot;ef2bf712-e418-4c93-8433-7baf3486a821&quot;,&quot;fa23420d-a1a1-468b-987b-910a060e7f18&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:28,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;a26e2fe4-5b19-4e2f-9b22-fa46a829dc25&quot;,&quot;title&quot;:&quot;/notBlocked&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/user.js&quot;,&quot;file&quot;:&quot;/test/user.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 401 if not authorized&quot;,&quot;fullTitle&quot;:&quot;/api/user /notBlocked Should respond with 401 if not authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.get(\&quot;/api/user/notBlocked\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ed899e77-029c-4778-b99b-fe75ff0174fb&quot;,&quot;parentUUID&quot;:&quot;a26e2fe4-5b19-4e2f-9b22-fa46a829dc25&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 403 if user is blocked&quot;,&quot;fullTitle&quot;:&quot;/api/user /notBlocked should respond with 403 if user is blocked&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;01590243399\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;test\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n}).expect(201);\nconst token = genToken(\&quot;01590243399\&quot;,1,\&quot;user\&quot;);\nawait blockUser(\&quot;01590243399\&quot;);\nres = await request(server)\n.get(\&quot;/api/user/notBlocked\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(403);\ndeleteUser(\&quot;01590243399\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0342a0cc-1752-4459-95ff-79c0c9589297&quot;,&quot;parentUUID&quot;:&quot;a26e2fe4-5b19-4e2f-9b22-fa46a829dc25&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ed899e77-029c-4778-b99b-fe75ff0174fb&quot;,&quot;0342a0cc-1752-4459-95ff-79c0c9589297&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:14,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;a09accbb-8a1e-4d68-893d-e436647264ba&quot;,&quot;title&quot;:&quot;/api/user/updateImage&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/user.js&quot;,&quot;file&quot;:&quot;/test/user.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should responed with 200 if updated&quot;,&quot;fullTitle&quot;:&quot;/api/user /api/user/updateImage Should responed with 200 if updated&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;01590243399\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;test\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n}).expect(201);\nconst token = genToken(\&quot;01590243399\&quot;,1,\&quot;user\&quot;);\nres = await request(server)\n.patch(\&quot;/api/user/updateImage\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.set(&#x27;Content-Type&#x27;, &#x27;application/x-www-form-urlencoded&#x27;)\n.attach(&#x27;file&#x27;,path.resolve(__dirname, \&quot;../logo.png\&quot;))\n.expect(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0ff046e2-9c7a-429d-911f-5927ad3d0068&quot;,&quot;parentUUID&quot;:&quot;a09accbb-8a1e-4d68-893d-e436647264ba&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should responed with 403 if type not allowed&quot;,&quot;fullTitle&quot;:&quot;/api/user /api/user/updateImage Should responed with 403 if type not allowed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:33,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01590243399\&quot;,1,\&quot;user\&quot;);\nlet res = await request(server)\n.patch(\&quot;/api/user/updateImage\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.set(&#x27;Content-Type&#x27;, &#x27;application/x-www-form-urlencoded&#x27;)\n.attach(&#x27;file&#x27;,path.resolve(__dirname, \&quot;../udemy-accs.txt\&quot;))\n.expect(403);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a66f672c-d621-4aa8-a0b8-251d5d79b2ee&quot;,&quot;parentUUID&quot;:&quot;a09accbb-8a1e-4d68-893d-e436647264ba&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should responed with 401 not authorized&quot;,&quot;fullTitle&quot;:&quot;/api/user /api/user/updateImage Should responed with 401 not authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01590241\&quot;,1,\&quot;user\&quot;);\nlet res = await request(server)\n.patch(\&quot;/api/user/updateImage\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.set(&#x27;Content-Type&#x27;, &#x27;application/x-www-form-urlencoded&#x27;)\n.attach(&#x27;file&#x27;,path.resolve(__dirname, \&quot;../logo.png\&quot;))\n.expect(401);\ndeleteUser(\&quot;01590243399\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;09674815-4d7d-4af3-a050-45d6318b8cc1&quot;,&quot;parentUUID&quot;:&quot;a09accbb-8a1e-4d68-893d-e436647264ba&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0ff046e2-9c7a-429d-911f-5927ad3d0068&quot;,&quot;a66f672c-d621-4aa8-a0b8-251d5d79b2ee&quot;,&quot;09674815-4d7d-4af3-a050-45d6318b8cc1&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:51,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;63696b70-1150-4465-80ac-2e02b8f9cdfd&quot;,&quot;title&quot;:&quot;/getUser&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/user.js&quot;,&quot;file&quot;:&quot;/test/user.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 401 if not authorized&quot;,&quot;fullTitle&quot;:&quot;/api/user /getUser Should respond with 401 if not authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/user/getUser\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a1f85ac0-3952-43a4-9fcf-7f82bba65b72&quot;,&quot;parentUUID&quot;:&quot;63696b70-1150-4465-80ac-2e02b8f9cdfd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 404 if user not found&quot;,&quot;fullTitle&quot;:&quot;/api/user /getUser should respond with 404 if user not found&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01590243399\&quot;,1,\&quot;user\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/user/getUser\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({ \&quot;phone_number\&quot;: \&quot;9868956981256\&quot;, })\n.expect(404);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fd9937ce-7ff7-4555-9b8c-81a7e2cb6027&quot;,&quot;parentUUID&quot;:&quot;63696b70-1150-4465-80ac-2e02b8f9cdfd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 200 if got user successfully&quot;,&quot;fullTitle&quot;:&quot;/api/user /getUser should respond with 200 if got user successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;01590243399\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;test\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n}).expect(201);\nconst token = genToken(\&quot;015902433399\&quot;,1,\&quot;user\&quot;);\nres = await request(server)\n.post(\&quot;/api/user/getUser\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({ \&quot;phone_number\&quot;: \&quot;01590243399\&quot;, })\n.expect(200);\ndeleteUser(\&quot;01590243399\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2bbae12b-8a02-4c4c-9a2b-88ee381109fc&quot;,&quot;parentUUID&quot;:&quot;63696b70-1150-4465-80ac-2e02b8f9cdfd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a1f85ac0-3952-43a4-9fcf-7f82bba65b72&quot;,&quot;fd9937ce-7ff7-4555-9b8c-81a7e2cb6027&quot;,&quot;2bbae12b-8a02-4c4c-9a2b-88ee381109fc&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:11,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;7.1.2&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;6.1.1&quot;},&quot;marge&quot;:{&quot;version&quot;:&quot;5.1.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;reportDir&quot;:&quot;mochawesome-report&quot;,&quot;reportTitle&quot;:&quot;Hospital&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;mochawesome-report/assets&quot;,&quot;jsonFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/mochawesome-report/mochawesome.json&quot;,&quot;htmlFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/mochawesome-report/mochawesome.html&quot;}"><div id="report"></div><script src="assets/app.js"></script></body></html>