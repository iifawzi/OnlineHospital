<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets/app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:39,&quot;tests&quot;:94,&quot;passes&quot;:94,&quot;pending&quot;:0,&quot;failures&quot;:0,&quot;start&quot;:&quot;2020-05-30T16:44:10.414Z&quot;,&quot;end&quot;:&quot;2020-05-30T16:44:12.601Z&quot;,&quot;duration&quot;:2187,&quot;testsRegistered&quot;:94,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;e9eb150c-a60a-4bc3-8bc1-417ccf3a7c19&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;38905734-e788-4c77-8529-516f43606702&quot;,&quot;title&quot;:&quot;/api/slots&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/appointments.test.js&quot;,&quot;file&quot;:&quot;/test/appointments.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/slots \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;server = require(\&quot;../app\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b281eb81-1538-4407-9e20-3b5661515e15&quot;,&quot;parentUUID&quot;:&quot;38905734-e788-4c77-8529-516f43606702&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/slots \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;86b7b72d-732f-4f7b-8777-792aac69ddf8&quot;,&quot;parentUUID&quot;:&quot;38905734-e788-4c77-8529-516f43606702&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;e66ed32a-fd91-41fe-8cb8-f744465af2d9&quot;,&quot;title&quot;:&quot;/addAppointment&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/appointments.test.js&quot;,&quot;file&quot;:&quot;/test/appointments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/slots /addAppointment Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:19,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/appointments/addAppointment\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;46ac8b56-a6c4-44b8-be5b-00c23a21006b&quot;,&quot;parentUUID&quot;:&quot;e66ed32a-fd91-41fe-8cb8-f744465af2d9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;fullTitle&quot;:&quot;/api/slots /addAppointment Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:18,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/appointments/addAppointment\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;slot_id\&quot;: 1,\n    \&quot;user_id\&quot;:44554,\n    })\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;32a492af-b768-4b75-b821-3f33c853be80&quot;,&quot;parentUUID&quot;:&quot;e66ed32a-fd91-41fe-8cb8-f744465af2d9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 200 addedd Successfully&quot;,&quot;fullTitle&quot;:&quot;/api/slots /addAppointment Should respond 200 addedd Successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:36,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;01590243399\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;djdj84\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n})\n.expect(201);\nconst userId = res.body.data.user_id;\n res = await request(server)\n.post(\&quot;/api/appointments/addAppointment\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;slot_id\&quot;: 1,\n    \&quot;user_id\&quot;:userId,\n    \&quot;date\&quot;:\&quot;2020-05-28\&quot;\n    })\n.expect(201);\nconst appID = res.body.data.appointment_id;\ndeleteUser(\&quot;01590243399\&quot;);\ndeleteAppointment(appID);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;18f09c0a-b29a-4027-938b-d3c5313dd7da&quot;,&quot;parentUUID&quot;:&quot;e66ed32a-fd91-41fe-8cb8-f744465af2d9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;46ac8b56-a6c4-44b8-be5b-00c23a21006b&quot;,&quot;32a492af-b768-4b75-b821-3f33c853be80&quot;,&quot;18f09c0a-b29a-4027-938b-d3c5313dd7da&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:73,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;50d4995c-46aa-428a-a22b-210314fcc21a&quot;,&quot;title&quot;:&quot;/addConfirmedAppointment&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/appointments.test.js&quot;,&quot;file&quot;:&quot;/test/appointments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/slots /addConfirmedAppointment Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/appointments/addConfirmedAppointment\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a8313599-2218-4363-a8d6-30491d689c34&quot;,&quot;parentUUID&quot;:&quot;50d4995c-46aa-428a-a22b-210314fcc21a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;fullTitle&quot;:&quot;/api/slots /addConfirmedAppointment Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/appointments/addConfirmedAppointment\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;slot_id\&quot;: 1,\n    \&quot;user_id\&quot;:44554,\n    })\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ea7380e2-d63a-4803-9796-04bd326ca466&quot;,&quot;parentUUID&quot;:&quot;50d4995c-46aa-428a-a22b-210314fcc21a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 200 addedd Successfully&quot;,&quot;fullTitle&quot;:&quot;/api/slots /addConfirmedAppointment Should respond 200 addedd Successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:21,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;01590243399\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;djdj84\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n})\n.expect(201);\nconst userId = res.body.data.user_id;\n res = await request(server)\n.post(\&quot;/api/appointments/addConfirmedAppointment\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;slot_id\&quot;: 1,\n    \&quot;user_id\&quot;:userId,\n    \&quot;date\&quot;:\&quot;2020-05-28\&quot;\n    })\n.expect(201);\nexpect(res.body.data.appointment_status).to.equal(\&quot;upcoming\&quot;);\nconst appID = res.body.data.appointment_id;\ndeleteUser(\&quot;01590243399\&quot;);\ndeleteAppointment(appID);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f929b342-bdc0-41b7-986a-96ce108fdf7d&quot;,&quot;parentUUID&quot;:&quot;50d4995c-46aa-428a-a22b-210314fcc21a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a8313599-2218-4363-a8d6-30491d689c34&quot;,&quot;ea7380e2-d63a-4803-9796-04bd326ca466&quot;,&quot;f929b342-bdc0-41b7-986a-96ce108fdf7d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:27,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;3ee63319-9c33-49df-bb9b-e93f1cde943d&quot;,&quot;title&quot;:&quot;/getUserApps&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/appointments.test.js&quot;,&quot;file&quot;:&quot;/test/appointments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/slots /getUserApps Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/appointments/getUserApps\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;28d4fdf3-e327-4e57-a606-6fe5fb886d49&quot;,&quot;parentUUID&quot;:&quot;3ee63319-9c33-49df-bb9b-e93f1cde943d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;fullTitle&quot;:&quot;/api/slots /getUserApps Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/appointments/getUserApps\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;slot_id\&quot;: 1,\n    \&quot;user_id\&quot;:44554,\n    })\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1af342f3-54cf-4696-9021-4999b52c99c4&quot;,&quot;parentUUID&quot;:&quot;3ee63319-9c33-49df-bb9b-e93f1cde943d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 200 got Successfully&quot;,&quot;fullTitle&quot;:&quot;/api/slots /getUserApps Should respond 200 got Successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:18,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;01595543388\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;djdj84\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n})\n.expect(201);\nconst userId = res.body.data.user_id;\n res = await request(server)\n.post(\&quot;/api/appointments/addAppointment\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;slot_id\&quot;: 1,\n    \&quot;user_id\&quot;:userId,\n    \&quot;date\&quot;:\&quot;2020-05-28\&quot;\n    })\n.expect(201);\nconst appID = res.body.data.appointment_id;\nres = await request(server)\n.post(\&quot;/api/appointments/getUserApps\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;user_id\&quot;:userId,\n    })\n.expect(200);\ndeleteUser(\&quot;01595543388\&quot;);\ndeleteAppointment(appID);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a840fded-e2f7-4587-b85b-4fb42013aef8&quot;,&quot;parentUUID&quot;:&quot;3ee63319-9c33-49df-bb9b-e93f1cde943d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;28d4fdf3-e327-4e57-a606-6fe5fb886d49&quot;,&quot;1af342f3-54cf-4696-9021-4999b52c99c4&quot;,&quot;a840fded-e2f7-4587-b85b-4fb42013aef8&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:24,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;87054643-2960-4362-b86d-b3b1f46a1b10&quot;,&quot;title&quot;:&quot;/getDocApps&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/appointments.test.js&quot;,&quot;file&quot;:&quot;/test/appointments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/slots /getDocApps Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/appointments/getDocApps\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;508e8456-2f9a-4dc1-84f5-2277015d84a8&quot;,&quot;parentUUID&quot;:&quot;87054643-2960-4362-b86d-b3b1f46a1b10&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;fullTitle&quot;:&quot;/api/slots /getDocApps Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/appointments/getDocApps\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;slot_id\&quot;: 1,\n    \&quot;doctor_id\&quot;:44554,\n    })\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ebde87e8-75db-4da3-a139-bad81b735035&quot;,&quot;parentUUID&quot;:&quot;87054643-2960-4362-b86d-b3b1f46a1b10&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 200 got Successfully&quot;,&quot;fullTitle&quot;:&quot;/api/slots /getDocApps Should respond 200 got Successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;01595543366\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;djdj84\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n})\n.expect(201);\nconst userId = res.body.data.user_id;\n res = await request(server)\n.post(\&quot;/api/appointments/addAppointment\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;slot_id\&quot;: 1,\n    \&quot;user_id\&quot;:userId,\n    \&quot;date\&quot;:\&quot;2020-05-28\&quot;\n    })\n.expect(201);\nconst appID = res.body.data.appointment_id;\nres = await request(server)\n.post(\&quot;/api/appointments/getDocApps\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;doctor_id\&quot;:1,\n    })\n.expect(200);\ndeleteUser(\&quot;01595543366\&quot;);\ndeleteAppointment(appID);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6c7ff077-1414-42ec-8383-6c3ed0f3239a&quot;,&quot;parentUUID&quot;:&quot;87054643-2960-4362-b86d-b3b1f46a1b10&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;508e8456-2f9a-4dc1-84f5-2277015d84a8&quot;,&quot;ebde87e8-75db-4da3-a139-bad81b735035&quot;,&quot;6c7ff077-1414-42ec-8383-6c3ed0f3239a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:19,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;3e993def-7eec-480b-a341-4b1515613996&quot;,&quot;title&quot;:&quot;/cancelAppointment&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/appointments.test.js&quot;,&quot;file&quot;:&quot;/test/appointments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/slots /cancelAppointment Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.patch(\&quot;/api/appointments/cancelAppointment\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;01227336-ba4d-4f4b-8f61-01580be349e1&quot;,&quot;parentUUID&quot;:&quot;3e993def-7eec-480b-a341-4b1515613996&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;fullTitle&quot;:&quot;/api/slots /cancelAppointment Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,\&quot;admin\&quot;);\nlet res = await request(server)\n.patch(\&quot;/api/appointments/cancelAppointment\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;aapointment_id\&quot;:\&quot;djdkj\&quot;,\n    })\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6de728d9-300e-4718-840e-e423b5cc7def&quot;,&quot;parentUUID&quot;:&quot;3e993def-7eec-480b-a341-4b1515613996&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 200 updated Successfully&quot;,&quot;fullTitle&quot;:&quot;/api/slots /cancelAppointment Should respond 200 updated Successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:18,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;01595543388\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;djdj84\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n})\n.expect(201);\nconst userId = res.body.data.user_id;\n res = await request(server)\n.post(\&quot;/api/appointments/addAppointment\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;slot_id\&quot;: 1,\n    \&quot;user_id\&quot;:userId,\n    \&quot;date\&quot;:\&quot;2020-05-28\&quot;\n    })\n.expect(201);\nconst appID = res.body.data.appointment_id;\nres = await request(server)\n.patch(\&quot;/api/appointments/cancelAppointment\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;appointment_id\&quot;:appID,\n    })\n.expect(200);\nexpect(res.body.data.appointment_status).to.equal(\&quot;canceled\&quot;);\ndeleteUser(\&quot;01595543388\&quot;);\ndeleteAppointment(appID);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a57c3fa2-4124-4e71-bb04-5c7825249b84&quot;,&quot;parentUUID&quot;:&quot;3e993def-7eec-480b-a341-4b1515613996&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;01227336-ba4d-4f4b-8f61-01580be349e1&quot;,&quot;6de728d9-300e-4718-840e-e423b5cc7def&quot;,&quot;a57c3fa2-4124-4e71-bb04-5c7825249b84&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:22,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;2c6c13d0-a0bc-4f58-9d38-e7ed78107809&quot;,&quot;title&quot;:&quot;/api/auth&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/auth.test.js&quot;,&quot;file&quot;:&quot;/test/auth.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/auth \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;server = require(\&quot;../app\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f7248a13-08f7-4906-9190-4483c27a036d&quot;,&quot;parentUUID&quot;:&quot;2c6c13d0-a0bc-4f58-9d38-e7ed78107809&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/auth \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;071acd15-228e-4f28-800a-f8a722103629&quot;,&quot;parentUUID&quot;:&quot;2c6c13d0-a0bc-4f58-9d38-e7ed78107809&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;eeb9edec-a6a7-4172-a4a1-0ee4543dea87&quot;,&quot;title&quot;:&quot;/signup&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/auth.test.js&quot;,&quot;file&quot;:&quot;/test/auth.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should respond with 400 if one of inputs is incorrect or missing (SCHEMA VALIDATION)&quot;,&quot;fullTitle&quot;:&quot;/api/auth /signup should respond with 400 if one of inputs is incorrect or missing (SCHEMA VALIDATION)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;).expect(400);  \nres = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({password:\&quot;fawzi\&quot;})\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a5744725-c571-49e4-bced-1c335ce26d37&quot;,&quot;parentUUID&quot;:&quot;eeb9edec-a6a7-4172-a4a1-0ee4543dea87&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 201 if user succefully registered&quot;,&quot;fullTitle&quot;:&quot;/api/auth /signup should respond with 201 if user succefully registered&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;01590243399\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;djdj84\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n})\n.expect(201);\nexpect(res.body.data.phone_number).to.equal(\&quot;01590243399\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;651a4573-7e6a-48e1-a05e-f9b3c5438e88&quot;,&quot;parentUUID&quot;:&quot;eeb9edec-a6a7-4172-a4a1-0ee4543dea87&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 403 if phone_number is already registered&quot;,&quot;fullTitle&quot;:&quot;/api/auth /signup should respond with 403 if phone_number is already registered&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;01590243399\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;djdj84\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n})\n.expect(403);\ndeleteUser(\&quot;01590243399\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;da983073-825d-4578-bd1c-b0061c18402d&quot;,&quot;parentUUID&quot;:&quot;eeb9edec-a6a7-4172-a4a1-0ee4543dea87&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a5744725-c571-49e4-bced-1c335ce26d37&quot;,&quot;651a4573-7e6a-48e1-a05e-f9b3c5438e88&quot;,&quot;da983073-825d-4578-bd1c-b0061c18402d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:13,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;2a1e2194-100b-4a19-98bb-4fda98d1e5c4&quot;,&quot;title&quot;:&quot;/signin&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/auth.test.js&quot;,&quot;file&quot;:&quot;/test/auth.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should respond with 400 if input are missing (SCHEMA VALIDATION)&quot;,&quot;fullTitle&quot;:&quot;/api/auth /signin should respond with 400 if input are missing (SCHEMA VALIDATION)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signin\&quot;)\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3364df12-22c3-4570-b3c6-62b557a0baa7&quot;,&quot;parentUUID&quot;:&quot;2a1e2194-100b-4a19-98bb-4fda98d1e5c4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 401 when phone number notfound `backend side`&quot;,&quot;fullTitle&quot;:&quot;/api/auth /signin should respond with 401 when phone number notfound `backend side`&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n .post(\&quot;/api/auth/signin\&quot;)\n .send({\&quot;phone_number\&quot;:\&quot;01590243311\&quot;})\n .expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;006dba4a-5bf0-444b-8f8d-12b2eef5bc4c&quot;,&quot;parentUUID&quot;:&quot;2a1e2194-100b-4a19-98bb-4fda98d1e5c4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 200 if user loged in successfully&quot;,&quot;fullTitle&quot;:&quot;/api/auth /signin should respond with 200 if user loged in successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;01590243311\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;djdj84\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n}).expect(201);\nexpect(res.body.data.phone_number).to.equal(\&quot;01590243311\&quot;);\nres = await request(server)\n.post(\&quot;/api/auth/signin\&quot;)\n.send({\&quot;phone_number\&quot;:\&quot;01590243311\&quot;})\n.expect(200);\ndeleteUser(\&quot;01590243311\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e23a1fcb-25d2-407d-819f-283e91705521&quot;,&quot;parentUUID&quot;:&quot;2a1e2194-100b-4a19-98bb-4fda98d1e5c4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3364df12-22c3-4570-b3c6-62b557a0baa7&quot;,&quot;006dba4a-5bf0-444b-8f8d-12b2eef5bc4c&quot;,&quot;e23a1fcb-25d2-407d-819f-283e91705521&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:15,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;89007e74-a047-4a1f-8866-41cb0bb4143b&quot;,&quot;title&quot;:&quot;/updateFirebaseToken&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/auth.test.js&quot;,&quot;file&quot;:&quot;/test/auth.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 400 if one of inpus is missed (SCHEMA VALIDATION)&quot;,&quot;fullTitle&quot;:&quot;/api/auth /updateFirebaseToken Should respond with 400 if one of inpus is missed (SCHEMA VALIDATION)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01590243399\&quot;,\&quot;user\&quot;);\nlet res = await request(server)\n.patch(\&quot;/api/auth/updateFirebaseToken\&quot;)\n.send({\&quot;notInTheSchema\&quot;:\&quot;haka\&quot;})\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6ed59a5e-2a23-4bf0-bdcb-51dfd6dec822&quot;,&quot;parentUUID&quot;:&quot;89007e74-a047-4a1f-8866-41cb0bb4143b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 401 if phone number not found `backend side`&quot;,&quot;fullTitle&quot;:&quot;/api/auth /updateFirebaseToken should respond with 401 if phone number not found `backend side`&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243788\&quot;,\&quot;user\&quot;);\nlet res = await request(server)\n.patch(\&quot;/api/auth/updateFirebaseToken\&quot;)\n.send({\&quot;new_token\&quot;:\&quot;djkdjkdjk\&quot;})\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7d55562c-49ee-403a-9062-8e2f9767788b&quot;,&quot;parentUUID&quot;:&quot;89007e74-a047-4a1f-8866-41cb0bb4143b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 200 if we updated the token_id successfully&quot;,&quot;fullTitle&quot;:&quot;/api/auth /updateFirebaseToken should respond with 200 if we updated the token_id successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;01590243388\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;test\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;\n}).expect(201);\nconst token = genToken(\&quot;01590243388\&quot;,\&quot;user\&quot;);\nres = await request(server)\n.patch(\&quot;/api/auth/updateFirebaseToken\&quot;)\n.send({\&quot;new_token\&quot;:\&quot;123456789elhamdullah\&quot;})\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(200);\nexpect(res.body.data.updated_token).to.equal(\&quot;123456789elhamdullah\&quot;);\ndeleteUser(\&quot;01590243388\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;49df20f0-d3bb-4efd-a481-e1deed7ef641&quot;,&quot;parentUUID&quot;:&quot;89007e74-a047-4a1f-8866-41cb0bb4143b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 403 if user is blocked&quot;,&quot;fullTitle&quot;:&quot;/api/auth /updateFirebaseToken should respond with 403 if user is blocked&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;01590243399\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;test\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n}).expect(201);\nconst token = genToken(\&quot;01590243399\&quot;,\&quot;user\&quot;);\nawait blockUser(\&quot;01590243399\&quot;);\nres = await request(server)\n.patch(\&quot;/api/auth/updateFirebaseToken\&quot;)\n.send({\&quot;new_token\&quot;:\&quot;123456789elhamdullah\&quot;})\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(403);\ndeleteUser(\&quot;01590243399\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;eee3d9da-73e7-4825-b91f-0283116e2f12&quot;,&quot;parentUUID&quot;:&quot;89007e74-a047-4a1f-8866-41cb0bb4143b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 401 if user is not authorized &quot;,&quot;fullTitle&quot;:&quot;/api/auth /updateFirebaseToken should respond with 401 if user is not authorized &quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;01590243391\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;test\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n}).expect(201);\n// const token = genToken(\&quot;01590243399\&quot;,\&quot;user\&quot;);\nres = await request(server)\n.patch(\&quot;/api/auth/updateFirebaseToken\&quot;)\n.send({\&quot;new_token\&quot;:\&quot;123456789elhamdullah\&quot;})\n// .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(401);\ndeleteUser(\&quot;01590243391\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;706040ca-7617-4976-b1b8-a0490faddda0&quot;,&quot;parentUUID&quot;:&quot;89007e74-a047-4a1f-8866-41cb0bb4143b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;6ed59a5e-2a23-4bf0-bdcb-51dfd6dec822&quot;,&quot;7d55562c-49ee-403a-9062-8e2f9767788b&quot;,&quot;49df20f0-d3bb-4efd-a481-e1deed7ef641&quot;,&quot;eee3d9da-73e7-4825-b91f-0283116e2f12&quot;,&quot;706040ca-7617-4976-b1b8-a0490faddda0&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:37,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;9ec4be0e-c70b-4e93-bc5a-f16ba2cb122e&quot;,&quot;title&quot;:&quot;/signDoctor&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/auth.test.js&quot;,&quot;file&quot;:&quot;/test/auth.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should respond with 400 if any inputs are incorrect or missed (SCHEMA VALIDATION)&quot;,&quot;fullTitle&quot;:&quot;/api/auth /signDoctor should respond with 400 if any inputs are incorrect or missed (SCHEMA VALIDATION)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signDoctor\&quot;)\n.send({phone_number:\&quot;02903\&quot;})\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3ff5a24b-a42a-4281-8047-dec31b2b3841&quot;,&quot;parentUUID&quot;:&quot;9ec4be0e-c70b-4e93-bc5a-f16ba2cb122e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 401 if phone number or password are incorrect `backend side`&quot;,&quot;fullTitle&quot;:&quot;/api/auth /signDoctor should respond with 401 if phone number or password are incorrect `backend side`&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01590243399\&quot;,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/controlPanel/addDoctor\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;phone_number\&quot;:\&quot;01090243795\&quot;,\n    \&quot;password\&quot;:\&quot;testtest\&quot;,\n    \&quot;first_name\&quot;:\&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;: \&quot;ahmed\&quot;,\n    \&quot;country\&quot;:\&quot;egypt\&quot;,\n    \&quot;category_id\&quot;:1,\n    \&quot;picture\&quot;:\&quot;fkfjkfj\&quot;,\n    \&quot;price\&quot;:\&quot;200\&quot;\n})\n.expect(201);\nres = await request(server)\n.post(\&quot;/api/auth/signDoctor\&quot;)\n.send({phone_number:\&quot;01090243794\&quot;,password:\&quot;01288\&quot;})\n.expect(401);\ndeleteDoctor(\&quot;01090243795\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b6394c1d-ed40-44cb-8c71-aeb667dac72c&quot;,&quot;parentUUID&quot;:&quot;9ec4be0e-c70b-4e93-bc5a-f16ba2cb122e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3ff5a24b-a42a-4281-8047-dec31b2b3841&quot;,&quot;b6394c1d-ed40-44cb-8c71-aeb667dac72c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:15,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;5956a734-c636-48c3-aa20-3a74400c478b&quot;,&quot;title&quot;:&quot;/updateDoctorFirebaseToken&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/auth.test.js&quot;,&quot;file&quot;:&quot;/test/auth.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 400 if one of inpus is missed (SCHEMA VALIDATION)&quot;,&quot;fullTitle&quot;:&quot;/api/auth /updateDoctorFirebaseToken Should respond with 400 if one of inpus is missed (SCHEMA VALIDATION)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01590243399\&quot;,\&quot;doctor\&quot;);\nlet res = await request(server)\n.patch(\&quot;/api/auth/updateDoctorFirebaseToken\&quot;)\n.send({\&quot;notInTheSchema\&quot;:\&quot;haka\&quot;})\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bf68ee56-ea86-41c6-af9d-585357e02e8f&quot;,&quot;parentUUID&quot;:&quot;5956a734-c636-48c3-aa20-3a74400c478b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 401 if phone number not found `backend side`&quot;,&quot;fullTitle&quot;:&quot;/api/auth /updateDoctorFirebaseToken should respond with 401 if phone number not found `backend side`&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243788\&quot;,\&quot;doctor\&quot;);\nlet res = await request(server)\n.patch(\&quot;/api/auth/updateDoctorFirebaseToken\&quot;)\n.send({\&quot;new_token\&quot;:\&quot;djkdjkdjk\&quot;})\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d11bcfc3-02ee-4d64-991b-8ac56d6f50f2&quot;,&quot;parentUUID&quot;:&quot;5956a734-c636-48c3-aa20-3a74400c478b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 200 if we updated the Doctor token_id successfully&quot;,&quot;fullTitle&quot;:&quot;/api/auth /updateDoctorFirebaseToken should respond with 200 if we updated the Doctor token_id successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243788\&quot;,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/controlPanel/addDoctor\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;phone_number\&quot;:\&quot;01090243795\&quot;,\n    \&quot;password\&quot;:\&quot;testtest\&quot;,\n    \&quot;first_name\&quot;:\&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;: \&quot;ahmed\&quot;,\n    \&quot;country\&quot;:\&quot;egypt\&quot;,\n    \&quot;category_id\&quot;:1,\n    \&quot;picture\&quot;:\&quot;fkfjkfj\&quot;,\n    \&quot;price\&quot;:\&quot;200\&quot;\n})\n.expect(201);\nexpect(res.body.data.phone_number).to.equal(\&quot;01090243795\&quot;);\nconst token2 = genToken(\&quot;01090243795\&quot;,\&quot;doctor\&quot;);\nres = await request(server)\n.patch(\&quot;/api/auth/updateDoctorFirebaseToken\&quot;)\n.send({\&quot;new_token\&quot;:\&quot;123456789elhamdullah\&quot;})\n.set(\&quot;Authorization\&quot;, `Bearer ${token2}`)\n.expect(200);\nexpect(res.body.data.updated_token).to.equal(\&quot;123456789elhamdullah\&quot;);\ndeleteDoctor(\&quot;01090243795\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;96903334-4116-41b9-a3f4-b5e5f94a8831&quot;,&quot;parentUUID&quot;:&quot;5956a734-c636-48c3-aa20-3a74400c478b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 401 if Doctor is not authorized &quot;,&quot;fullTitle&quot;:&quot;/api/auth /updateDoctorFirebaseToken should respond with 401 if Doctor is not authorized &quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/controlPanel/addDoctor\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;phone_number\&quot;:\&quot;01010243795\&quot;,\n    \&quot;password\&quot;:\&quot;testtest\&quot;,\n    \&quot;first_name\&quot;:\&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;: \&quot;ahmed\&quot;,\n    \&quot;country\&quot;:\&quot;egypt\&quot;,\n    \&quot;category_id\&quot;:1,\n    \&quot;picture\&quot;:\&quot;fkfjkfj\&quot;,\n    \&quot;price\&quot;:\&quot;200\&quot;\n})\n.expect(201);\n// const token = genToken(\&quot;01590243399\&quot;,\&quot;doctor\&quot;);\nres = await request(server)\n.patch(\&quot;/api/auth/updateFirebaseToken\&quot;)\n.send({\&quot;new_token\&quot;:\&quot;123456789elhamdullah\&quot;})\n// .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(401);\ndeleteDoctor(\&quot;01010243795\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b792e8c8-2a3a-4745-97b6-c3b7e9557691&quot;,&quot;parentUUID&quot;:&quot;5956a734-c636-48c3-aa20-3a74400c478b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;bf68ee56-ea86-41c6-af9d-585357e02e8f&quot;,&quot;d11bcfc3-02ee-4d64-991b-8ac56d6f50f2&quot;,&quot;96903334-4116-41b9-a3f4-b5e5f94a8831&quot;,&quot;b792e8c8-2a3a-4745-97b6-c3b7e9557691&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:28,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;cee2cf8b-9419-4541-934e-d4904587b487&quot;,&quot;title&quot;:&quot;/api/categories&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/categories.js&quot;,&quot;file&quot;:&quot;/test/categories.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/categories \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;server = require(\&quot;../app\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ff428e42-3051-4a10-bf94-1cd47fe0c16e&quot;,&quot;parentUUID&quot;:&quot;cee2cf8b-9419-4541-934e-d4904587b487&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/categories \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9cf13fc5-7315-4be4-b80c-3c46c1dfcfd4&quot;,&quot;parentUUID&quot;:&quot;cee2cf8b-9419-4541-934e-d4904587b487&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;486ce5e7-2b9f-46e2-a50b-8baeaca09862&quot;,&quot;title&quot;:&quot;/getCategories&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/categories.js&quot;,&quot;file&quot;:&quot;/test/categories.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/categories /getCategories Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.get(\&quot;/api/categories/getCategories\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fe17c257-0429-41b7-91ad-68aa95638c2b&quot;,&quot;parentUUID&quot;:&quot;486ce5e7-2b9f-46e2-a50b-8baeaca09862&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 200 if got categories successfully&quot;,&quot;fullTitle&quot;:&quot;/api/categories /getCategories Should respond 200 if got categories successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,\&quot;user\&quot;);\nlet res = await request(server)\n.get(\&quot;/api/categories/getCategories\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c24756ce-946e-4fb2-8adc-2e294bcecfeb&quot;,&quot;parentUUID&quot;:&quot;486ce5e7-2b9f-46e2-a50b-8baeaca09862&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;fe17c257-0429-41b7-91ad-68aa95638c2b&quot;,&quot;c24756ce-946e-4fb2-8adc-2e294bcecfeb&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:5,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;3e75ddfe-f839-4787-86da-cc7f0a01de40&quot;,&quot;title&quot;:&quot;/api/controlPanel&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/controlPanel.test.js&quot;,&quot;file&quot;:&quot;/test/controlPanel.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;server = require(\&quot;../app\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;21145773-9969-4da5-8918-449a3f503bfb&quot;,&quot;parentUUID&quot;:&quot;3e75ddfe-f839-4787-86da-cc7f0a01de40&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4494658b-92eb-405c-b604-a0d8d6e98e28&quot;,&quot;parentUUID&quot;:&quot;3e75ddfe-f839-4787-86da-cc7f0a01de40&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;fc571a64-b475-4188-a0c7-63b978c7a748&quot;,&quot;title&quot;:&quot;/addingDoctor&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/controlPanel.test.js&quot;,&quot;file&quot;:&quot;/test/controlPanel.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 400 if one of inpus is missed or incorrect (SCHEMA VALIDATION)&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /addingDoctor Should respond with 400 if one of inpus is missed or incorrect (SCHEMA VALIDATION)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;, \&quot;admin\&quot;);\nconst res = await request(server)\n  .post(\&quot;/api/controlPanel/addDoctor\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;df65296a-1666-48ea-93e3-727ca0e8c102&quot;,&quot;parentUUID&quot;:&quot;fc571a64-b475-4188-a0c7-63b978c7a748&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 201 if doctor created successfully&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /addingDoctor Should respond with 201 if doctor created successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;11090243799\&quot;, \&quot;admin\&quot;);\nlet res = await request(server)\n  .post(\&quot;/api/controlPanel/addDoctor\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({\n    phone_number: \&quot;11090243799\&quot;,\n    password: \&quot;testtest\&quot;,\n    first_name: \&quot;fawzi\&quot;,\n    last_name: \&quot;ahmed\&quot;,\n    country: \&quot;egypt\&quot;,\n    category_id: 1,\n    picture: \&quot;fkfjkfj\&quot;,\n    price: \&quot;100\&quot;,\n  })\n  .expect(201);\nexpect(res.body.data.phone_number).to.equal(\&quot;11090243799\&quot;);\ndeleteDoctor(\&quot;11090243799\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0bb5e2d6-d327-4724-ac2b-49a91b134579&quot;,&quot;parentUUID&quot;:&quot;fc571a64-b475-4188-a0c7-63b978c7a748&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 403 if the phone number is already registered&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /addingDoctor Should respond with 403 if the phone number is already registered&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243798\&quot;, \&quot;admin\&quot;);\nlet res = await request(server)\n  .post(\&quot;/api/controlPanel/addDoctor\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({\n    phone_number: \&quot;01090243798\&quot;,\n    password: \&quot;testtest\&quot;,\n    first_name: \&quot;fawzi\&quot;,\n    last_name: \&quot;ahmed\&quot;,\n    country: \&quot;egypt\&quot;,\n    category_id: 1,\n    picture: \&quot;fkfjkfj\&quot;,\n    price: \&quot;100\&quot;,\n  })\n  .expect(201);\nexpect(res.body.data.phone_number).to.equal(\&quot;01090243798\&quot;);\nres = await request(server)\n  .post(\&quot;/api/controlPanel/addDoctor\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({\n    phone_number: \&quot;01090243798\&quot;,\n    password: \&quot;testtest\&quot;,\n    first_name: \&quot;fawzi\&quot;,\n    last_name: \&quot;ahmed\&quot;,\n    country: \&quot;egypt\&quot;,\n    category_id: 1,\n    picture: \&quot;fkfjkfj\&quot;,\n    price: \&quot;100\&quot;,\n  })\n  .expect(403);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8594ecec-fb85-4f26-9bd9-41a3c375a30d&quot;,&quot;parentUUID&quot;:&quot;fc571a64-b475-4188-a0c7-63b978c7a748&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;df65296a-1666-48ea-93e3-727ca0e8c102&quot;,&quot;0bb5e2d6-d327-4724-ac2b-49a91b134579&quot;,&quot;8594ecec-fb85-4f26-9bd9-41a3c375a30d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:17,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;d732848f-136e-4dbb-9d49-e6ded2028e54&quot;,&quot;title&quot;:&quot;/addingAdmin&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/controlPanel.test.js&quot;,&quot;file&quot;:&quot;/test/controlPanel.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 400 if one of inpus is missed or incorrect (SCHEMA VALIDATION&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /addingAdmin Should respond with 400 if one of inpus is missed or incorrect (SCHEMA VALIDATION&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;, \&quot;admin\&quot;);\nlet res = await request(server)\n  .post(\&quot;/api/controlPanel/addAdmin\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({ name: \&quot;fawzi\&quot; })\n  .expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e6ce97b1-3151-4ad9-b4d1-c92e9a11b4e8&quot;,&quot;parentUUID&quot;:&quot;d732848f-136e-4dbb-9d49-e6ded2028e54&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 201 if created successfully&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /addingAdmin Should respond with 201 if created successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:268,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;11090243799\&quot;, \&quot;admin\&quot;);\nlet res = await request(server)\n  .post(\&quot;/api/controlPanel/addAdmin\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({\n    phone_number: \&quot;11090243799\&quot;,\n    password: \&quot;testtest\&quot;,\n    name: \&quot;Fawzi E. Abdulfattah\&quot;,\n    role: \&quot;admin\&quot;,\n  })\n  .expect(201);\nexpect(res.body.data.phone_number).to.equal(\&quot;11090243799\&quot;);\ndeleteAdmin(\&quot;11090243799\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9cd37598-3dd5-4346-9525-f3789ec4c25d&quot;,&quot;parentUUID&quot;:&quot;d732848f-136e-4dbb-9d49-e6ded2028e54&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should Respond with 403 if phone number is already Registered&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /addingAdmin Should Respond with 403 if phone number is already Registered&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;, \&quot;admin\&quot;);\nlet res = await request(server)\n  .post(\&quot;/api/controlPanel/addAdmin\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({\n    phone_number: \&quot;01090243795\&quot;,\n    password: \&quot;testtest\&quot;,\n    name: \&quot;Fawzi E. Abdulfattah\&quot;,\n    role: \&quot;admin\&quot;,\n  })\n  .expect(403);\ndeleteAdmin(\&quot;01090243795\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c3ee2aaf-9372-431e-9c78-734fc00b5e8f&quot;,&quot;parentUUID&quot;:&quot;d732848f-136e-4dbb-9d49-e6ded2028e54&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e6ce97b1-3151-4ad9-b4d1-c92e9a11b4e8&quot;,&quot;9cd37598-3dd5-4346-9525-f3789ec4c25d&quot;,&quot;c3ee2aaf-9372-431e-9c78-734fc00b5e8f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:274,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;20d7f4a3-7150-4319-b967-936af368cb48&quot;,&quot;title&quot;:&quot;/signAdmin&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/controlPanel.test.js&quot;,&quot;file&quot;:&quot;/test/controlPanel.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should respond with 400 if input are missing (SCHEMA VALIDATION)&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /signAdmin should respond with 400 if input are missing (SCHEMA VALIDATION)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n  .post(\&quot;/api/controlPanel/signAdmin\&quot;)\n  .expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bc524dbe-9bfc-4753-aed4-bb02264344a1&quot;,&quot;parentUUID&quot;:&quot;20d7f4a3-7150-4319-b967-936af368cb48&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 401 when phone number is not found `backend side`&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /signAdmin should respond with 401 when phone number is not found `backend side`&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n  .post(\&quot;/api/controlPanel/signAdmin\&quot;)\n  .send({ phone_number: \&quot;01090243795\&quot;, password: \&quot;testest\&quot; })\n  .expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4bf76bd8-7b40-4600-a96c-4083934d0fb4&quot;,&quot;parentUUID&quot;:&quot;20d7f4a3-7150-4319-b967-936af368cb48&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 200 if admin loged in successfully&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /signAdmin should respond with 200 if admin loged in successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:541,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;, \&quot;admin\&quot;);\nlet res = await request(server)\n  .post(\&quot;/api/controlPanel/addAdmin\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({\n    phone_number: \&quot;01090243795\&quot;,\n    password: \&quot;testtest\&quot;,\n    name: \&quot;Fawzi E. Abdulfattah\&quot;,\n    role: \&quot;admin\&quot;,\n  })\n  .expect(201);\nexpect(res.body.data.phone_number).to.equal(\&quot;01090243795\&quot;);\nres = await request(server)\n  .post(\&quot;/api/controlPanel/signAdmin\&quot;)\n  .send({ phone_number: \&quot;01090243795\&quot;, password: \&quot;testtest\&quot; })\n  .expect(200);\nexpect(res.body.data.phone_number).to.equal(\&quot;01090243795\&quot;);\ndeleteAdmin(\&quot;01090243795\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dbdfc2b1-76cb-44b1-9114-af36cbdeedb1&quot;,&quot;parentUUID&quot;:&quot;20d7f4a3-7150-4319-b967-936af368cb48&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;bc524dbe-9bfc-4753-aed4-bb02264344a1&quot;,&quot;4bf76bd8-7b40-4600-a96c-4083934d0fb4&quot;,&quot;dbdfc2b1-76cb-44b1-9114-af36cbdeedb1&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:552,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;16495019-5caa-42ad-ac50-4152f6057a94&quot;,&quot;title&quot;:&quot;/checkAdminByToken&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/controlPanel.test.js&quot;,&quot;file&quot;:&quot;/test/controlPanel.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 401 if admin is not authorized&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /checkAdminByToken Should respond with 401 if admin is not authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109024379785\&quot;, \&quot;admin\&quot;);\nlet res = await request(server)\n  .post(\&quot;/api/controlPanel/checkAdminByToken\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8b9f6e4a-7bf2-48c7-b3cb-6f60a81bc480&quot;,&quot;parentUUID&quot;:&quot;16495019-5caa-42ad-ac50-4152f6057a94&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 200 if token is valid and referanced to admin&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /checkAdminByToken Should respond with 200 if token is valid and referanced to admin&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:273,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;, \&quot;admin\&quot;);\nlet res = await request(server)\n  .post(\&quot;/api/controlPanel/addAdmin\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({\n    phone_number: \&quot;01090243795\&quot;,\n    password: \&quot;testtest\&quot;,\n    name: \&quot;Fawzi E. Abdulfattah\&quot;,\n    role: \&quot;admin\&quot;,\n  })\n  .expect(201);\nres = await request(server)\n  .post(\&quot;/api/controlPanel/checkAdminByToken\&quot;)\n  .send({})\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .expect(200);\ndeleteAdmin(\&quot;01090243795\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7dbf92b5-45ec-44a2-955a-f869398b9e7b&quot;,&quot;parentUUID&quot;:&quot;16495019-5caa-42ad-ac50-4152f6057a94&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8b9f6e4a-7bf2-48c7-b3cb-6f60a81bc480&quot;,&quot;7dbf92b5-45ec-44a2-955a-f869398b9e7b&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:277,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;16e7eb72-7b0a-481f-8775-1a7e295cb9cd&quot;,&quot;title&quot;:&quot;/addImage&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/controlPanel.test.js&quot;,&quot;file&quot;:&quot;/test/controlPanel.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should responed with 201 if uploaded&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /addImage Should responed with 201 if uploaded&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;ahmed\&quot;, \&quot;admin\&quot;);\nlet res = await request(server)\n  .post(\&quot;/api/controlPanel/addImage\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .set(\&quot;Content-Type\&quot;, \&quot;application/x-www-form-urlencoded\&quot;)\n  .attach(\&quot;file\&quot;, path.resolve(__dirname, \&quot;../logo.png\&quot;))\n  .expect(201);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4db9919f-1a75-4eb2-a359-98e0ee610f93&quot;,&quot;parentUUID&quot;:&quot;16e7eb72-7b0a-481f-8775-1a7e295cb9cd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should responed with 403 if type not allowed&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /addImage Should responed with 403 if type not allowed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:55,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;ahmed\&quot;, \&quot;admin\&quot;);\nlet res = await request(server)\n  .post(\&quot;/api/controlPanel/addImage\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .set(\&quot;Content-Type\&quot;, \&quot;application/x-www-form-urlencoded\&quot;)\n  .attach(\&quot;file\&quot;, path.resolve(__dirname, \&quot;../udemy-accs.txt\&quot;))\n  .expect(403);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;90eba001-2e91-4ba3-b000-cbcff1fdb4e4&quot;,&quot;parentUUID&quot;:&quot;16e7eb72-7b0a-481f-8775-1a7e295cb9cd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4db9919f-1a75-4eb2-a359-98e0ee610f93&quot;,&quot;90eba001-2e91-4ba3-b000-cbcff1fdb4e4&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:72,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;384ed372-5bac-450b-b361-0b29823cab00&quot;,&quot;title&quot;:&quot;/getCategories&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/controlPanel.test.js&quot;,&quot;file&quot;:&quot;/test/controlPanel.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 401 if not authorized&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /getCategories Should respond with 401 if not authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n  .get(\&quot;/api/controlPanel/getCategories\&quot;)\n  .expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;35200a66-1c89-4b76-9b48-43e45ca77e50&quot;,&quot;parentUUID&quot;:&quot;384ed372-5bac-450b-b361-0b29823cab00&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 200 if got categories successfully&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /getCategories Should respond with 200 if got categories successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;ahmed\&quot;, \&quot;admin\&quot;);\nlet res = await request(server)\n  .get(\&quot;/api/controlPanel/getCategories\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .expect(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5f89effc-748a-4647-adc8-92d261cd5d5a&quot;,&quot;parentUUID&quot;:&quot;384ed372-5bac-450b-b361-0b29823cab00&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;35200a66-1c89-4b76-9b48-43e45ca77e50&quot;,&quot;5f89effc-748a-4647-adc8-92d261cd5d5a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:6,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;b787ce82-6c51-45c9-8c40-e7ba98086226&quot;,&quot;title&quot;:&quot;/getDoctors&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/controlPanel.test.js&quot;,&quot;file&quot;:&quot;/test/controlPanel.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 401 if not authorized&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /getDoctors Should respond with 401 if not authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n  .get(\&quot;/api/controlPanel/getCategories\&quot;)\n  .expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bd315ee1-6a50-4df2-94f6-cd7b4a5efd25&quot;,&quot;parentUUID&quot;:&quot;b787ce82-6c51-45c9-8c40-e7ba98086226&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 200 if got categories successfully&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /getDoctors Should respond with 200 if got categories successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;ahmed\&quot;, \&quot;admin\&quot;);\nlet res = await request(server)\n  .get(\&quot;/api/controlPanel/getDoctors\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .expect(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4a597965-a688-456f-86eb-28b3ab855be9&quot;,&quot;parentUUID&quot;:&quot;b787ce82-6c51-45c9-8c40-e7ba98086226&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;bd315ee1-6a50-4df2-94f6-cd7b4a5efd25&quot;,&quot;4a597965-a688-456f-86eb-28b3ab855be9&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:6,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;f2e7fc83-84bd-40de-855b-b51598e4b4f1&quot;,&quot;title&quot;:&quot;/deleteDoctor&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/controlPanel.test.js&quot;,&quot;file&quot;:&quot;/test/controlPanel.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 401 if not authorized&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /deleteDoctor Should respond with 401 if not authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n  .get(\&quot;/api/controlPanel/getCategories\&quot;)\n  .expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;30727cc1-032e-4b6b-93f9-3c0bb8498350&quot;,&quot;parentUUID&quot;:&quot;f2e7fc83-84bd-40de-855b-b51598e4b4f1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 404 if doctor not found&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /deleteDoctor Should respond with 404 if doctor not found&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;ahmed\&quot;, \&quot;admin\&quot;);\nlet res = await request(server)\n  .delete(\&quot;/api/controlPanel/deleteDoctor\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({ phone_number: \&quot;0109024371111212129511113\&quot;})\n  .expect(404);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bf9515ed-c5f3-4dfb-b005-61ec5037220d&quot;,&quot;parentUUID&quot;:&quot;f2e7fc83-84bd-40de-855b-b51598e4b4f1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 200 if doctor deleted successfully&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /deleteDoctor Should respond with 200 if doctor deleted successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;ahmed\&quot;, \&quot;admin\&quot;);\nlet res = await request(server)\n  .delete(\&quot;/api/controlPanel/deleteDoctor\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({ phone_number: \&quot;01090243798\&quot;}) // this tee number which registered above\n  .expect(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d172b4cb-885a-43b6-81cb-d022fc837704&quot;,&quot;parentUUID&quot;:&quot;f2e7fc83-84bd-40de-855b-b51598e4b4f1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;30727cc1-032e-4b6b-93f9-3c0bb8498350&quot;,&quot;bf9515ed-c5f3-4dfb-b005-61ec5037220d&quot;,&quot;d172b4cb-885a-43b6-81cb-d022fc837704&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:10,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;287c24d7-d477-4e2e-8fd2-05f0837aaadc&quot;,&quot;title&quot;:&quot;/toggleBlock&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/controlPanel.test.js&quot;,&quot;file&quot;:&quot;/test/controlPanel.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 401 if not authorized&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /toggleBlock Should respond with 401 if not authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n  .patch(\&quot;/api/controlPanel/toggleBlock\&quot;)\n  .expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6c9e1945-94ba-42d6-a3d0-75391fe07c56&quot;,&quot;parentUUID&quot;:&quot;287c24d7-d477-4e2e-8fd2-05f0837aaadc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 404 if user not found&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /toggleBlock Should respond with 404 if user not found&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;ahmed\&quot;, \&quot;admin\&quot;);\nlet res = await request(server)\n  .patch(\&quot;/api/controlPanel/toggleBlock\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({ phone_number: \&quot;0109024371111212129511113\&quot;})\n  .expect(404);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f1b90b31-5796-4028-b38f-8153d0229e5b&quot;,&quot;parentUUID&quot;:&quot;287c24d7-d477-4e2e-8fd2-05f0837aaadc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 200 if toggle user&#x27;s block successfully&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /toggleBlock Should respond with 200 if toggle user&#x27;s block successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;015902433199\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;djdj84\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n})\n.expect(201);\nconst token = genToken(\&quot;ahmed\&quot;, \&quot;admin\&quot;);\nres = await request(server)\n  .patch(\&quot;/api/controlPanel/toggleBlock\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({ phone_number: \&quot;015902433199\&quot;})\n  .expect(200);\n  deleteUser(\&quot;015902433199\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8b814962-d2eb-4437-8b98-bf2e4103c311&quot;,&quot;parentUUID&quot;:&quot;287c24d7-d477-4e2e-8fd2-05f0837aaadc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;6c9e1945-94ba-42d6-a3d0-75391fe07c56&quot;,&quot;f1b90b31-5796-4028-b38f-8153d0229e5b&quot;,&quot;8b814962-d2eb-4437-8b98-bf2e4103c311&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:17,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;117f6739-3cbd-455b-9a13-8634309e890c&quot;,&quot;title&quot;:&quot;/getDoctorSlots&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/controlPanel.test.js&quot;,&quot;file&quot;:&quot;/test/controlPanel.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 401 if not authorized&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /getDoctorSlots Should respond with 401 if not authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n  .post(\&quot;/api/controlPanel/getDoctorSlots\&quot;)\n  .expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;caff0f69-ba10-48fc-b84e-7acce4241c29&quot;,&quot;parentUUID&quot;:&quot;117f6739-3cbd-455b-9a13-8634309e890c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 400 doctor_id is missing or incorrect&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /getDoctorSlots Should respond with 400 doctor_id is missing or incorrect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;ahmed\&quot;, \&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/controlPanel/getDoctorSlots\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({ doctor_id: \&quot;ahmed\&quot;})\n  .expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;30d54530-327b-4d46-b275-420f22e8bd43&quot;,&quot;parentUUID&quot;:&quot;117f6739-3cbd-455b-9a13-8634309e890c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 200 if got doctor&#x27;s slots successfully&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /getDoctorSlots Should respond with 200 if got doctor&#x27;s slots successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;ahmed\&quot;, \&quot;admin\&quot;);\nlet res = await request(server)\n  .post(\&quot;/api/controlPanel/getDoctorSlots\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({ doctor_id: 11})\n  .expect(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8bb640a5-ec3a-43f7-9964-b76c6746250f&quot;,&quot;parentUUID&quot;:&quot;117f6739-3cbd-455b-9a13-8634309e890c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;caff0f69-ba10-48fc-b84e-7acce4241c29&quot;,&quot;30d54530-327b-4d46-b275-420f22e8bd43&quot;,&quot;8bb640a5-ec3a-43f7-9964-b76c6746250f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:7,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;ed05f179-e62c-426e-a012-77b1c3b35abd&quot;,&quot;title&quot;:&quot;/api/doctors&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/doctors.js&quot;,&quot;file&quot;:&quot;/test/doctors.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/doctors \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;server = require(\&quot;../app\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;681e4951-84d1-4641-9f50-2dccaffd02b5&quot;,&quot;parentUUID&quot;:&quot;ed05f179-e62c-426e-a012-77b1c3b35abd&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/doctors \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;725012e7-465d-4d69-80e2-f191343b78c5&quot;,&quot;parentUUID&quot;:&quot;ed05f179-e62c-426e-a012-77b1c3b35abd&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;3edf29a9-16eb-4f0d-a073-0571c7bbc116&quot;,&quot;title&quot;:&quot;/getDoctor&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/doctors.js&quot;,&quot;file&quot;:&quot;/test/doctors.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 400 if phone doctor_id is missing (validation schema)&quot;,&quot;fullTitle&quot;:&quot;/api/doctors /getDoctor Should respond with 400 if phone doctor_id is missing (validation schema)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;fawzii\&quot;,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/doctors/getDoctor\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({})\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a31bbc0b-c5e5-4cc3-96f4-e4f2674ad77b&quot;,&quot;parentUUID&quot;:&quot;3edf29a9-16eb-4f0d-a073-0571c7bbc116&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 401 if not authorized&quot;,&quot;fullTitle&quot;:&quot;/api/doctors /getDoctor Should respond with 401 if not authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/doctors/getDoctor\&quot;)\n.send({doctor_id: \&quot;1233\&quot;})\n.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;32086cdb-90e6-4ea0-bcfc-533709d334af&quot;,&quot;parentUUID&quot;:&quot;3edf29a9-16eb-4f0d-a073-0571c7bbc116&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 404 if doctor not found&quot;,&quot;fullTitle&quot;:&quot;/api/doctors /getDoctor Should respond with 404 if doctor not found&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;fawzii\&quot;,\&quot;user\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/doctors/getDoctor\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({doctor_id: 54878785})\n.expect(404);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;08ad46db-0509-410a-849f-0df79f11390c&quot;,&quot;parentUUID&quot;:&quot;3edf29a9-16eb-4f0d-a073-0571c7bbc116&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 200 if got doctor successfully&quot;,&quot;fullTitle&quot;:&quot;/api/doctors /getDoctor Should respond with 200 if got doctor successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;fawzii\&quot;,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/controlPanel/addDoctor\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;phone_number\&quot;:\&quot;01090113795\&quot;,\n    \&quot;password\&quot;:\&quot;testtest\&quot;,\n    \&quot;first_name\&quot;:\&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;: \&quot;ahmed\&quot;,\n    \&quot;country\&quot;:\&quot;egypt\&quot;,\n    \&quot;category_id\&quot;:1,\n    \&quot;picture\&quot;:\&quot;fkfjkfj\&quot;,\n    \&quot;price\&quot;: \&quot;100\&quot;,\n})\n.expect(201);\nconst doctor_id = res.body.data.doctor_id;\nres = await request(server)\n.post(\&quot;/api/doctors/getDoctor\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({doctor_id: doctor_id})\n.expect(200);\ndeleteDoctor(\&quot;01090113795\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e050349c-5a50-4505-b6e8-24dc15f04c71&quot;,&quot;parentUUID&quot;:&quot;3edf29a9-16eb-4f0d-a073-0571c7bbc116&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a31bbc0b-c5e5-4cc3-96f4-e4f2674ad77b&quot;,&quot;32086cdb-90e6-4ea0-bcfc-533709d334af&quot;,&quot;08ad46db-0509-410a-849f-0df79f11390c&quot;,&quot;e050349c-5a50-4505-b6e8-24dc15f04c71&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:16,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;e692a0d7-c3e5-4b1f-9e7e-fa0edae8ff87&quot;,&quot;title&quot;:&quot;/getDoctors&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/doctors.js&quot;,&quot;file&quot;:&quot;/test/doctors.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 401 if not authorized&quot;,&quot;fullTitle&quot;:&quot;/api/doctors /getDoctors Should respond with 401 if not authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/doctors/getDoctors\&quot;)\n.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;208ca74d-aa72-4cc7-921f-63d702135a63&quot;,&quot;parentUUID&quot;:&quot;e692a0d7-c3e5-4b1f-9e7e-fa0edae8ff87&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 200 if got doctors successfully&quot;,&quot;fullTitle&quot;:&quot;/api/doctors /getDoctors Should respond with 200 if got doctors successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;fawziiiiiii\&quot;,\&quot;user\&quot;);\n            let res = await request(server)\n            .post(\&quot;/api/doctors/getDoctors\&quot;)\n            .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n            .send({category_id: 42})\n            .expect(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;44e4a660-fc0f-4032-b6a1-03d519162a34&quot;,&quot;parentUUID&quot;:&quot;e692a0d7-c3e5-4b1f-9e7e-fa0edae8ff87&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;208ca74d-aa72-4cc7-921f-63d702135a63&quot;,&quot;44e4a660-fc0f-4032-b6a1-03d519162a34&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:8,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;190a5d79-a40e-4306-8042-ddc29f29b1d3&quot;,&quot;title&quot;:&quot;/updateDoctor&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/doctors.js&quot;,&quot;file&quot;:&quot;/test/doctors.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 401 if not authorized&quot;,&quot;fullTitle&quot;:&quot;/api/doctors /updateDoctor Should respond with 401 if not authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.patch(\&quot;/api/doctors/updateDoctor\&quot;)\n.send({\&quot;phone_number\&quot;:\&quot;3487\&quot;})\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ed9bd236-d17c-4b15-aa34-22abc092a643&quot;,&quot;parentUUID&quot;:&quot;190a5d79-a40e-4306-8042-ddc29f29b1d3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 400 if field is nor allowed&quot;,&quot;fullTitle&quot;:&quot;/api/doctors /updateDoctor Should respond with 400 if field is nor allowed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01590243311\&quot;,\&quot;admin\&quot;);\nlet res = await request(server)\n.patch(\&quot;/api/doctors/updateDoctor\&quot;)\n.send({\&quot;fb_token_id\&quot;:\&quot;3487\&quot;})\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;131930b8-138f-4f6d-8329-99191c894483&quot;,&quot;parentUUID&quot;:&quot;190a5d79-a40e-4306-8042-ddc29f29b1d3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 200 if successfully updated&quot;,&quot;fullTitle&quot;:&quot;/api/doctors /updateDoctor Should respond with 200 if successfully updated&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:20,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;11090243799\&quot;, \&quot;admin\&quot;);\nlet res = await request(server)\n  .post(\&quot;/api/controlPanel/addDoctor\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({\n    phone_number: \&quot;11090243799\&quot;,\n    password: \&quot;testtest\&quot;,\n    first_name: \&quot;fawzi\&quot;,\n    last_name: \&quot;ahmed\&quot;,\n    country: \&quot;egypt\&quot;,\n    category_id: 1,\n    picture: \&quot;fkfjkfj\&quot;,\n    price: \&quot;100\&quot;,\n  })\n  .expect(201);\n  const docId = res.body.data.doctor_id;\nres = await request(server)\n .patch(\&quot;/api/doctors/updateDoctor\&quot;)\n.send({\n    doctor_id: docId,\n    phone_number: \&quot;112345\&quot;,\n    password: \&quot;t123\&quot;,\n    first_name: \&quot;fawziiiii\&quot;,\n    last_name: \&quot;ahmedddddd\&quot;,\n    country: \&quot;saudiarabia\&quot;,\n    category_id: 5,\n    picture: \&quot;fkfjkfj\&quot;,\n    price: \&quot;300\&quot;,\n})\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(200);\nexpect(res.body.data.phone_number).to.equal(\&quot;112345\&quot;);\nexpect(res.body.data.password).to.equal(\&quot;t123\&quot;);\nexpect(res.body.data.first_name).to.equal(\&quot;fawziiiii\&quot;);\nexpect(res.body.data.last_name).to.equal(\&quot;ahmedddddd\&quot;);\nexpect(res.body.data.country).to.equal(\&quot;saudiarabia\&quot;);\nexpect(res.body.data.category_id).to.equal(5);\nexpect(res.body.data.picture).to.equal(\&quot;fkfjkfj\&quot;);\nexpect(res.body.data.price).to.equal(\&quot;300\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c5f45420-2c5b-4ad5-a705-dde01191158f&quot;,&quot;parentUUID&quot;:&quot;190a5d79-a40e-4306-8042-ddc29f29b1d3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 403 if new phone number is already registered&quot;,&quot;fullTitle&quot;:&quot;/api/doctors /updateDoctor Should respond with 403 if new phone number is already registered&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01590243313\&quot;,\&quot;admin\&quot;);\n          let res = await request(server)\n.post(\&quot;/api/controlPanel/addDoctor\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n  phone_number: \&quot;110902411\&quot;,\n  password: \&quot;testtest\&quot;,\n  first_name: \&quot;fawzi\&quot;,\n  last_name: \&quot;ahmed\&quot;,\n  country: \&quot;egypt\&quot;,\n  category_id: 1,\n  picture: \&quot;fkfjkfj\&quot;,\n  price: \&quot;100\&quot;,\n})\n.expect(201);\nconst docId = res.body.data.doctor_id;\nres = await request(server)\n.patch(\&quot;/api/doctors/updateDoctor\&quot;)\n.send({\n    doctor_id: docId,\n    phone_number: \&quot;112345\&quot;,\n})\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(403);\ndeleteDoctor(\&quot;110902411\&quot;);\ndeleteDoctor(\&quot;112345\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a4b452d4-98a8-4372-88da-9571385eb9c7&quot;,&quot;parentUUID&quot;:&quot;190a5d79-a40e-4306-8042-ddc29f29b1d3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ed9bd236-d17c-4b15-aa34-22abc092a643&quot;,&quot;131930b8-138f-4f6d-8329-99191c894483&quot;,&quot;c5f45420-2c5b-4ad5-a705-dde01191158f&quot;,&quot;a4b452d4-98a8-4372-88da-9571385eb9c7&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:34,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;d64e0d27-d534-4b9a-945d-4d37b5cd75dd&quot;,&quot;title&quot;:&quot;/api/slots&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/slots.test.js&quot;,&quot;file&quot;:&quot;/test/slots.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/slots \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;server = require(\&quot;../app\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ac22ba51-3b67-42fe-aec2-af98264e7fae&quot;,&quot;parentUUID&quot;:&quot;d64e0d27-d534-4b9a-945d-4d37b5cd75dd&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/slots \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ff82abe8-c942-4daf-9065-5f0cc4cc87c0&quot;,&quot;parentUUID&quot;:&quot;d64e0d27-d534-4b9a-945d-4d37b5cd75dd&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;b6703891-4611-4e62-95eb-81ef4649f382&quot;,&quot;title&quot;:&quot;/addSlot&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/slots.test.js&quot;,&quot;file&quot;:&quot;/test/slots.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/slots /addSlot Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/slots/addSlot\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9a5e0b52-557d-4f05-822e-d337077fd4e7&quot;,&quot;parentUUID&quot;:&quot;b6703891-4611-4e62-95eb-81ef4649f382&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;fullTitle&quot;:&quot;/api/slots /addSlot Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/slots/addSlot\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;day\&quot;:\&quot;mon\&quot;,\n    \&quot;slot_time\&quot;:\&quot;60:00\&quot;,\n    \&quot;available\&quot;:false\n    })\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0342886a-df26-47da-9960-477f8050e3b9&quot;,&quot;parentUUID&quot;:&quot;b6703891-4611-4e62-95eb-81ef4649f382&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 200 addedd Successfully&quot;,&quot;fullTitle&quot;:&quot;/api/slots /addSlot Should respond 200 addedd Successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/controlPanel/addDoctor\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;phone_number\&quot;:\&quot;01090113795\&quot;,\n    \&quot;password\&quot;:\&quot;testtest\&quot;,\n    \&quot;first_name\&quot;:\&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;: \&quot;ahmed\&quot;,\n    \&quot;country\&quot;:\&quot;egypt\&quot;,\n    \&quot;category_id\&quot;:1,\n    \&quot;picture\&quot;:\&quot;fkfjkfj\&quot;,\n    \&quot;price\&quot;: \&quot;100\&quot;,\n})\n.expect(201);\nconst docId = res.body.data.doctor_id;\nres = await request(server)\n.post(\&quot;/api/slots/addSlot\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;doctor_id\&quot;:docId,\n    \&quot;day\&quot;:\&quot;mon\&quot;,\n    \&quot;start_time\&quot;:\&quot;23:00\&quot;,\n    \&quot;end_time\&quot;:\&quot;24:00\&quot;,\n    \&quot;slot_time\&quot;:\&quot;60:00\&quot;,\n    \&quot;available\&quot;:false\n    })\n.expect(201);\nconst slotId = res.body.data.slot_id;\ndeleteDoctor(\&quot;01090113795\&quot;);\ndeleteSlot(slotId);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9e75b3e0-231b-4595-8bc0-043a6aae3f3a&quot;,&quot;parentUUID&quot;:&quot;b6703891-4611-4e62-95eb-81ef4649f382&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;9a5e0b52-557d-4f05-822e-d337077fd4e7&quot;,&quot;0342886a-df26-47da-9960-477f8050e3b9&quot;,&quot;9e75b3e0-231b-4595-8bc0-043a6aae3f3a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:15,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;372d0f8b-c56e-4a88-843c-f0a2c8c72e08&quot;,&quot;title&quot;:&quot;/updateSlot&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/slots.test.js&quot;,&quot;file&quot;:&quot;/test/slots.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/slots /updateSlot Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.patch(\&quot;/api/slots/updateSlot\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;58c3a6ab-a27b-4444-9e19-1edc337c703c&quot;,&quot;parentUUID&quot;:&quot;372d0f8b-c56e-4a88-843c-f0a2c8c72e08&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 400 if one of inputs is incorrect&quot;,&quot;fullTitle&quot;:&quot;/api/slots /updateSlot Should respond 400 if one of inputs is incorrect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,\&quot;admin\&quot;);\nlet res = await request(server)\n.patch(\&quot;/api/slots/updateSlot\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;ahmed\&quot;:\&quot;mon\&quot;,\n    })\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3c1d7972-2924-4f06-981b-c55a45c0110f&quot;,&quot;parentUUID&quot;:&quot;372d0f8b-c56e-4a88-843c-f0a2c8c72e08&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 200 updated Successfully&quot;,&quot;fullTitle&quot;:&quot;/api/slots /updateSlot Should respond 200 updated Successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,\&quot;admin\&quot;);\nlet res = await request(server)\n.patch(\&quot;/api/slots/updateSlot\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;slot_id\&quot;:1,\n    \&quot;day\&quot;:\&quot;wed\&quot;,\n    \&quot;start_time\&quot;:\&quot;21:00\&quot;,\n    \&quot;end_time\&quot;:\&quot;22:30\&quot;,\n    \&quot;slot_time\&quot;:\&quot;30:00\&quot;,\n    \&quot;available\&quot;:true\n    })\n.expect(200);\nexpect(res.body.data.day).to.equal(\&quot;wed\&quot;);\nconst slotId = res.body.data.slot_id;\ndeleteSlot(slotId);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1ad806ae-b1e8-4541-833e-f521399ea52d&quot;,&quot;parentUUID&quot;:&quot;372d0f8b-c56e-4a88-843c-f0a2c8c72e08&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;58c3a6ab-a27b-4444-9e19-1edc337c703c&quot;,&quot;3c1d7972-2924-4f06-981b-c55a45c0110f&quot;,&quot;1ad806ae-b1e8-4541-833e-f521399ea52d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:8,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;d41555c7-90fd-438d-a380-c2a7ee054e23&quot;,&quot;title&quot;:&quot;/getOpenSlots&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/slots.test.js&quot;,&quot;file&quot;:&quot;/test/slots.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/slots /getOpenSlots Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/slots/getOpenSlots\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;224c5477-c175-42c6-bfd7-d011b1529e8b&quot;,&quot;parentUUID&quot;:&quot;d41555c7-90fd-438d-a380-c2a7ee054e23&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;fullTitle&quot;:&quot;/api/slots /getOpenSlots Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,\&quot;user\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/slots/getOpenSlots\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;doctor_id\&quot;:44554,\n    })\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5b92be45-240a-4127-a361-1b9fdc56f11b&quot;,&quot;parentUUID&quot;:&quot;d41555c7-90fd-438d-a380-c2a7ee054e23&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 200 addedd Successfully&quot;,&quot;fullTitle&quot;:&quot;/api/slots /getOpenSlots Should respond 200 addedd Successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,\&quot;user\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;01590243399\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;djdj84\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n})\n.expect(201);\nconst userId = res.body.data.user_id;\n res = await request(server)\n.post(\&quot;/api/slots/getOpenSlots\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;doctor_id\&quot;: 11,\n    \&quot;day\&quot;: \&quot;wed\&quot;,\n    \&quot;date\&quot;:\&quot;2020-05-27\&quot;\n    })\n.expect(200);\nconst appId = res.body.data.slot_id;\ndeleteAppointment(1);\ndeleteUser(\&quot;01590243399\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a332667a-20bf-4d86-81c7-a9d8e1483b23&quot;,&quot;parentUUID&quot;:&quot;d41555c7-90fd-438d-a380-c2a7ee054e23&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;224c5477-c175-42c6-bfd7-d011b1529e8b&quot;,&quot;5b92be45-240a-4127-a361-1b9fdc56f11b&quot;,&quot;a332667a-20bf-4d86-81c7-a9d8e1483b23&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:9,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;ac8ed5d5-1677-4848-9ef6-e47b3ab1bd5a&quot;,&quot;title&quot;:&quot;/getDoctorDays&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/slots.test.js&quot;,&quot;file&quot;:&quot;/test/slots.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/slots /getDoctorDays Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/slots/addSlot\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;71f5ac1e-93c1-4a14-aed0-e9bf8ecebdb5&quot;,&quot;parentUUID&quot;:&quot;ac8ed5d5-1677-4848-9ef6-e47b3ab1bd5a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;fullTitle&quot;:&quot;/api/slots /getDoctorDays Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/slots/addSlot\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n\&quot;doctor_id\&quot;:\&quot;kjdkjdk\&quot;\n    })\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1e9c74e0-1926-4405-b83c-07859cdb886c&quot;,&quot;parentUUID&quot;:&quot;ac8ed5d5-1677-4848-9ef6-e47b3ab1bd5a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 200 if got days susccessfully&quot;,&quot;fullTitle&quot;:&quot;/api/slots /getDoctorDays Should respond 200 if got days susccessfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/controlPanel/addDoctor\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;phone_number\&quot;:\&quot;01090113795\&quot;,\n    \&quot;password\&quot;:\&quot;testtest\&quot;,\n    \&quot;first_name\&quot;:\&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;: \&quot;ahmed\&quot;,\n    \&quot;country\&quot;:\&quot;egypt\&quot;,\n    \&quot;category_id\&quot;:1,\n    \&quot;picture\&quot;:\&quot;fkfjkfj\&quot;,\n    \&quot;price\&quot;: \&quot;100\&quot;,\n})\n.expect(201);\nconst docId = res.body.data.doctor_id;\nres = await request(server)\n.post(\&quot;/api/slots/addSlot\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;doctor_id\&quot;:docId,\n    \&quot;day\&quot;:\&quot;mon\&quot;,\n    \&quot;start_time\&quot;:\&quot;23:00\&quot;,\n    \&quot;end_time\&quot;:\&quot;24:00\&quot;,\n    \&quot;slot_time\&quot;:\&quot;60:00\&quot;,\n    \&quot;available\&quot;:false\n    })\n.expect(201);\nres = await request(server)\n.post(\&quot;/api/slots/getDoctorDays\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;doctor_id\&quot;:docId,\n    })\n.expect(200);\nconst slotId = res.body.data.slot_id;\ndeleteDoctor(\&quot;01090113795\&quot;);\ndeleteSlot(slotId);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;31491388-79b5-4f41-abcd-0a6ea43f52ee&quot;,&quot;parentUUID&quot;:&quot;ac8ed5d5-1677-4848-9ef6-e47b3ab1bd5a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;71f5ac1e-93c1-4a14-aed0-e9bf8ecebdb5&quot;,&quot;1e9c74e0-1926-4405-b83c-07859cdb886c&quot;,&quot;31491388-79b5-4f41-abcd-0a6ea43f52ee&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:15,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;8c8f1d1c-80a5-4eed-b808-5db5ceee73e2&quot;,&quot;title&quot;:&quot;/api/user&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/user.js&quot;,&quot;file&quot;:&quot;/test/user.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/user \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;server = require(\&quot;../app\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6aa682be-cdc1-4b2c-9ccb-82572c8cdb0b&quot;,&quot;parentUUID&quot;:&quot;8c8f1d1c-80a5-4eed-b808-5db5ceee73e2&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/user \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a39fb88f-436a-4ca6-98a0-565641c75710&quot;,&quot;parentUUID&quot;:&quot;8c8f1d1c-80a5-4eed-b808-5db5ceee73e2&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;c41e1739-3b48-4f5f-adf9-d90c3c6d294a&quot;,&quot;title&quot;:&quot;/updateInfo&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/user.js&quot;,&quot;file&quot;:&quot;/test/user.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 401 if not authorized&quot;,&quot;fullTitle&quot;:&quot;/api/user /updateInfo Should respond with 401 if not authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.patch(\&quot;/api/user/updateInfo\&quot;)\n.send({\&quot;phone_number\&quot;:\&quot;3487\&quot;})\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;da5e698d-ffc6-4d12-a458-9e354040beab&quot;,&quot;parentUUID&quot;:&quot;c41e1739-3b48-4f5f-adf9-d90c3c6d294a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 400 if field is nor allowed&quot;,&quot;fullTitle&quot;:&quot;/api/user /updateInfo Should respond with 400 if field is nor allowed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01590243311\&quot;,\&quot;user\&quot;);\nlet res = await request(server)\n.patch(\&quot;/api/user/updateInfo\&quot;)\n.send({\&quot;fb_token_id\&quot;:\&quot;3487\&quot;})\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;abea0cc0-157e-4a37-8367-e7000538f328&quot;,&quot;parentUUID&quot;:&quot;c41e1739-3b48-4f5f-adf9-d90c3c6d294a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 200 if successfully updated&quot;,&quot;fullTitle&quot;:&quot;/api/user /updateInfo Should respond with 200 if successfully updated&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;01590243311\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;djdj84\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n}).expect(201);\nexpect(res.body.data.phone_number).to.equal(\&quot;01590243311\&quot;);\nconst token = genToken(\&quot;01590243311\&quot;,\&quot;user\&quot;);\n res = await request(server)\n.patch(\&quot;/api/user/updateInfo\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;12345\&quot;,\n    \&quot;first_name\&quot;: \&quot;ahmed\&quot;,\n    \&quot;last_name\&quot;:\&quot;mohammed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-22\&quot;,\n    \&quot;weight\&quot;: 200,\n    \&quot;height\&quot;: 300,\n    \&quot;bmi\&quot;: 50,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n})\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(200);\nexpect(res.body.data.phone_number).to.equal(\&quot;12345\&quot;);\nexpect(res.body.data.first_name).to.equal(\&quot;ahmed\&quot;);\nexpect(res.body.data.last_name).to.equal(\&quot;mohammed\&quot;);\nexpect(res.body.data.birth_date).to.equal(\&quot;1999-03-22\&quot;);\nexpect(res.body.data.weight).to.equal(200);\nexpect(res.body.data.height).to.equal(300);\nexpect(res.body.data.bmi).to.equal(50);\nexpect(res.body.data.gender).to.equal(\&quot;male\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;07a3b65a-d8ae-43d3-9987-3f1c35fdf4b1&quot;,&quot;parentUUID&quot;:&quot;c41e1739-3b48-4f5f-adf9-d90c3c6d294a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 403 if phone number is already registered&quot;,&quot;fullTitle&quot;:&quot;/api/user /updateInfo Should respond with 403 if phone number is already registered&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;01590243313\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;djdj84\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n}).expect(201);\nexpect(res.body.data.phone_number).to.equal(\&quot;01590243313\&quot;);\nconst token = genToken(\&quot;01590243313\&quot;,\&quot;user\&quot;);\n res = await request(server)\n.patch(\&quot;/api/user/updateInfo\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;12345\&quot;,\n    \&quot;first_name\&quot;: \&quot;ahmed\&quot;,\n    \&quot;last_name\&quot;:\&quot;mohammed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-22\&quot;,\n    \&quot;weight\&quot;: 200,\n    \&quot;height\&quot;: 300,\n    \&quot;bmi\&quot;: 50,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n})\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(403);\ndeleteUser(\&quot;01590243313\&quot;);\ndeleteUser(\&quot;12345\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;32947002-b710-402e-beb8-57861b4aadf9&quot;,&quot;parentUUID&quot;:&quot;c41e1739-3b48-4f5f-adf9-d90c3c6d294a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;da5e698d-ffc6-4d12-a458-9e354040beab&quot;,&quot;abea0cc0-157e-4a37-8367-e7000538f328&quot;,&quot;07a3b65a-d8ae-43d3-9987-3f1c35fdf4b1&quot;,&quot;32947002-b710-402e-beb8-57861b4aadf9&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:23,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;6a34d42b-80fd-41ed-bb92-1e522f8fcd33&quot;,&quot;title&quot;:&quot;/notBlocked&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/user.js&quot;,&quot;file&quot;:&quot;/test/user.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 401 if not authorized&quot;,&quot;fullTitle&quot;:&quot;/api/user /notBlocked Should respond with 401 if not authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.get(\&quot;/api/user/notBlocked\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;55165bab-3f07-44e5-af74-5d8ddf43180f&quot;,&quot;parentUUID&quot;:&quot;6a34d42b-80fd-41ed-bb92-1e522f8fcd33&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 403 if user is blocked&quot;,&quot;fullTitle&quot;:&quot;/api/user /notBlocked should respond with 403 if user is blocked&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;01590243399\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;test\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n}).expect(201);\nconst token = genToken(\&quot;01590243399\&quot;,\&quot;user\&quot;);\nawait blockUser(\&quot;01590243399\&quot;);\nres = await request(server)\n.get(\&quot;/api/user/notBlocked\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(403);\ndeleteUser(\&quot;01590243399\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1f0498b5-e14a-4a5b-b22c-5d943cd3ffcd&quot;,&quot;parentUUID&quot;:&quot;6a34d42b-80fd-41ed-bb92-1e522f8fcd33&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;55165bab-3f07-44e5-af74-5d8ddf43180f&quot;,&quot;1f0498b5-e14a-4a5b-b22c-5d943cd3ffcd&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:13,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;6027d56f-cdc8-4382-a26c-f70e02f8f2f1&quot;,&quot;title&quot;:&quot;/api/user/updateImage&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/user.js&quot;,&quot;file&quot;:&quot;/test/user.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should responed with 200 if updated&quot;,&quot;fullTitle&quot;:&quot;/api/user /api/user/updateImage Should responed with 200 if updated&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;01590243399\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;test\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n}).expect(201);\nconst token = genToken(\&quot;01590243399\&quot;,\&quot;user\&quot;);\nres = await request(server)\n.patch(\&quot;/api/user/updateImage\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.set(&#x27;Content-Type&#x27;, &#x27;application/x-www-form-urlencoded&#x27;)\n.attach(&#x27;file&#x27;,path.resolve(__dirname, \&quot;../logo.png\&quot;))\n.expect(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6428b975-dbc8-422f-ade8-505cd19a410c&quot;,&quot;parentUUID&quot;:&quot;6027d56f-cdc8-4382-a26c-f70e02f8f2f1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should responed with 403 if type not allowed&quot;,&quot;fullTitle&quot;:&quot;/api/user /api/user/updateImage Should responed with 403 if type not allowed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:36,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01590243399\&quot;,\&quot;user\&quot;);\nlet res = await request(server)\n.patch(\&quot;/api/user/updateImage\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.set(&#x27;Content-Type&#x27;, &#x27;application/x-www-form-urlencoded&#x27;)\n.attach(&#x27;file&#x27;,path.resolve(__dirname, \&quot;../udemy-accs.txt\&quot;))\n.expect(403);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c9a6adba-c8ac-425b-a360-0c75e6659716&quot;,&quot;parentUUID&quot;:&quot;6027d56f-cdc8-4382-a26c-f70e02f8f2f1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should responed with 401 not authorized&quot;,&quot;fullTitle&quot;:&quot;/api/user /api/user/updateImage Should responed with 401 not authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01590241\&quot;,\&quot;user\&quot;);\nlet res = await request(server)\n.patch(\&quot;/api/user/updateImage\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.set(&#x27;Content-Type&#x27;, &#x27;application/x-www-form-urlencoded&#x27;)\n.attach(&#x27;file&#x27;,path.resolve(__dirname, \&quot;../logo.png\&quot;))\n.expect(401);\ndeleteUser(\&quot;01590243399\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;14062533-1738-4ed5-9162-d91df99e1528&quot;,&quot;parentUUID&quot;:&quot;6027d56f-cdc8-4382-a26c-f70e02f8f2f1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;6428b975-dbc8-422f-ade8-505cd19a410c&quot;,&quot;c9a6adba-c8ac-425b-a360-0c75e6659716&quot;,&quot;14062533-1738-4ed5-9162-d91df99e1528&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:55,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;7e663075-1965-4d7d-9d83-c310307296d8&quot;,&quot;title&quot;:&quot;/getUser&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/user.js&quot;,&quot;file&quot;:&quot;/test/user.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 401 if not authorized&quot;,&quot;fullTitle&quot;:&quot;/api/user /getUser Should respond with 401 if not authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/user/getUser\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cbbe79c1-f208-41dd-a7d6-dafafaa10f12&quot;,&quot;parentUUID&quot;:&quot;7e663075-1965-4d7d-9d83-c310307296d8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 404 if user not found&quot;,&quot;fullTitle&quot;:&quot;/api/user /getUser should respond with 404 if user not found&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01590243399\&quot;,\&quot;user\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/user/getUser\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({ \&quot;phone_number\&quot;: \&quot;9868956981256\&quot;, })\n.expect(404);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;157497bf-eb07-478d-9301-0ef5d8e7a4ed&quot;,&quot;parentUUID&quot;:&quot;7e663075-1965-4d7d-9d83-c310307296d8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 200 if got user successfully&quot;,&quot;fullTitle&quot;:&quot;/api/user /getUser should respond with 200 if got user successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;01590243399\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;test\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n}).expect(201);\nconst token = genToken(\&quot;015902433399\&quot;,\&quot;user\&quot;);\nres = await request(server)\n.post(\&quot;/api/user/getUser\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({ \&quot;phone_number\&quot;: \&quot;01590243399\&quot;, })\n.expect(200);\ndeleteUser(\&quot;01590243399\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5b28e357-d19c-47b5-a434-28894f38801a&quot;,&quot;parentUUID&quot;:&quot;7e663075-1965-4d7d-9d83-c310307296d8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;cbbe79c1-f208-41dd-a7d6-dafafaa10f12&quot;,&quot;157497bf-eb07-478d-9301-0ef5d8e7a4ed&quot;,&quot;5b28e357-d19c-47b5-a434-28894f38801a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:10,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;7.1.2&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;6.1.1&quot;},&quot;marge&quot;:{&quot;version&quot;:&quot;5.1.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;reportDir&quot;:&quot;mochawesome-report&quot;,&quot;reportTitle&quot;:&quot;Hospital&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;mochawesome-report/assets&quot;,&quot;jsonFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/mochawesome-report/mochawesome.json&quot;,&quot;htmlFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/mochawesome-report/mochawesome.html&quot;}"><div id="report"></div><script src="assets/app.js"></script></body></html>