<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets/app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:45,&quot;tests&quot;:107,&quot;passes&quot;:107,&quot;pending&quot;:0,&quot;failures&quot;:0,&quot;start&quot;:&quot;2020-06-05T00:27:32.735Z&quot;,&quot;end&quot;:&quot;2020-06-05T00:27:34.212Z&quot;,&quot;duration&quot;:1477,&quot;testsRegistered&quot;:107,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;39feef1f-2eef-4bb0-ae58-f6182c9dce03&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;e62f5f03-58ee-4b69-9312-b966327db0ea&quot;,&quot;title&quot;:&quot;/api/appointments&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/appointments.test.js&quot;,&quot;file&quot;:&quot;/test/appointments.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/appointments \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;server = require(\&quot;../app\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;830f9abc-7423-4c54-8b26-bf591389b184&quot;,&quot;parentUUID&quot;:&quot;e62f5f03-58ee-4b69-9312-b966327db0ea&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/appointments \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d6f492ba-d52d-4264-8904-cd44578fe8b3&quot;,&quot;parentUUID&quot;:&quot;e62f5f03-58ee-4b69-9312-b966327db0ea&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;5ed883bd-27f2-44ca-9ef2-91f117415b23&quot;,&quot;title&quot;:&quot;/addAppointment&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/appointments.test.js&quot;,&quot;file&quot;:&quot;/test/appointments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /addAppointment Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/appointments/addAppointment\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;89aec856-c74d-4bf7-95d1-72b31ce54831&quot;,&quot;parentUUID&quot;:&quot;5ed883bd-27f2-44ca-9ef2-91f117415b23&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /addAppointment Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:22,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/appointments/addAppointment\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;slot_id\&quot;: 1,\n    \&quot;user_id\&quot;:44554,\n    })\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;503bfd95-f93d-4c0c-af1a-c81eef1115aa&quot;,&quot;parentUUID&quot;:&quot;5ed883bd-27f2-44ca-9ef2-91f117415b23&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 200 addedd Successfully&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /addAppointment Should respond 200 addedd Successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:42,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;user\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/appointments/addAppointment\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;slot_id\&quot;: 1,\n    \&quot;date\&quot;:\&quot;2020-05-28\&quot;\n    })\n.expect(201);\nconst appID = res.body.data.appointment_id;\ndeleteUser(\&quot;01590243399\&quot;);\ndeleteAppointment(appID);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ee610549-b422-420b-9fee-b5b74706c459&quot;,&quot;parentUUID&quot;:&quot;5ed883bd-27f2-44ca-9ef2-91f117415b23&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;89aec856-c74d-4bf7-95d1-72b31ce54831&quot;,&quot;503bfd95-f93d-4c0c-af1a-c81eef1115aa&quot;,&quot;ee610549-b422-420b-9fee-b5b74706c459&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:81,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;5b6ce900-209c-4722-b2e9-3102e2014826&quot;,&quot;title&quot;:&quot;/addConfirmedAppointment&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/appointments.test.js&quot;,&quot;file&quot;:&quot;/test/appointments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /addConfirmedAppointment Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/appointments/addConfirmedAppointment\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;74579c4b-9ea8-4875-b78d-3811b2bebb13&quot;,&quot;parentUUID&quot;:&quot;5b6ce900-209c-4722-b2e9-3102e2014826&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /addConfirmedAppointment Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/appointments/addConfirmedAppointment\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;slot_id\&quot;: 1,\n    \&quot;user_id\&quot;:44554,\n    })\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b08227de-568a-4e43-a762-caa52a42688c&quot;,&quot;parentUUID&quot;:&quot;5b6ce900-209c-4722-b2e9-3102e2014826&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 200 addedd Successfully&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /addConfirmedAppointment Should respond 200 addedd Successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:46,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;01590243399\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;djdj84\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n})\n.expect(201);\nconst userId = res.body.data.user_id;\n res = await request(server)\n.post(\&quot;/api/appointments/addConfirmedAppointment\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;slot_id\&quot;: 1,\n    \&quot;user_id\&quot;:userId,\n    \&quot;date\&quot;:\&quot;2020-05-28\&quot;\n    })\n.expect(201);\nexpect(res.body.data.appointment_status).to.equal(\&quot;upcoming\&quot;);\nconst appID = res.body.data.appointment_id;\ndeleteUser(\&quot;01590243399\&quot;);\ndeleteAppointment(appID);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;da118432-e88a-4366-bd7d-4450207cae87&quot;,&quot;parentUUID&quot;:&quot;5b6ce900-209c-4722-b2e9-3102e2014826&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;74579c4b-9ea8-4875-b78d-3811b2bebb13&quot;,&quot;b08227de-568a-4e43-a762-caa52a42688c&quot;,&quot;da118432-e88a-4366-bd7d-4450207cae87&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:51,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;d33319f5-cd89-48ce-95c6-fd71a0b53957&quot;,&quot;title&quot;:&quot;/getUserApps&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/appointments.test.js&quot;,&quot;file&quot;:&quot;/test/appointments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /getUserApps Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/appointments/getUserApps\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;322c7171-af31-4775-a158-67305cadc3d6&quot;,&quot;parentUUID&quot;:&quot;d33319f5-cd89-48ce-95c6-fd71a0b53957&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /getUserApps Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/appointments/getUserApps\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;slot_id\&quot;: 1,\n    \&quot;user_id\&quot;:44554,\n    })\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b2c2b3cc-e95a-4cfe-8529-05bd604423e2&quot;,&quot;parentUUID&quot;:&quot;d33319f5-cd89-48ce-95c6-fd71a0b53957&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 200 got Successfully&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /getUserApps Should respond 200 got Successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:21,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/appointments/addAppointment\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;slot_id\&quot;: 1,\n    \&quot;date\&quot;:\&quot;2020-05-28\&quot;\n    })\n.expect(201);\nconst appID = res.body.data.appointment_id;\nres = await request(server)\n.post(\&quot;/api/appointments/getUserApps\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;user_id\&quot;:1,\n    })\n.expect(200);\ndeleteAppointment(appID);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d9b4b6a5-755f-420c-a21a-05c8911de9d4&quot;,&quot;parentUUID&quot;:&quot;d33319f5-cd89-48ce-95c6-fd71a0b53957&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;322c7171-af31-4775-a158-67305cadc3d6&quot;,&quot;b2c2b3cc-e95a-4cfe-8529-05bd604423e2&quot;,&quot;d9b4b6a5-755f-420c-a21a-05c8911de9d4&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:28,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;353eaf4d-55a6-4706-a4ea-daafdd307ee7&quot;,&quot;title&quot;:&quot;/finishedAppointments&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/appointments.test.js&quot;,&quot;file&quot;:&quot;/test/appointments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /finishedAppointments Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.get(\&quot;/api/appointments/finishedAppointments\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e57abed6-5221-49ea-84e5-0e5f42b9ed1d&quot;,&quot;parentUUID&quot;:&quot;353eaf4d-55a6-4706-a4ea-daafdd307ee7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 200 got Successfully&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /finishedAppointments Should respond 200 got Successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;user\&quot;);\nlet res = await request(server)\n.get(\&quot;/api/appointments/finishedAppointments\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;47d0b680-c0bd-4804-9bb3-31ca15d3091b&quot;,&quot;parentUUID&quot;:&quot;353eaf4d-55a6-4706-a4ea-daafdd307ee7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e57abed6-5221-49ea-84e5-0e5f42b9ed1d&quot;,&quot;47d0b680-c0bd-4804-9bb3-31ca15d3091b&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:6,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;6f6d7cf5-87f2-4d99-afb1-c6baf61d8831&quot;,&quot;title&quot;:&quot;/upcomingAppointments&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/appointments.test.js&quot;,&quot;file&quot;:&quot;/test/appointments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /upcomingAppointments Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.get(\&quot;/api/appointments/upcomingAppointments\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7622f9ec-38fd-44d5-8d3d-801200ccf4e3&quot;,&quot;parentUUID&quot;:&quot;6f6d7cf5-87f2-4d99-afb1-c6baf61d8831&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 200 got Successfully&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /upcomingAppointments Should respond 200 got Successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;user\&quot;);\nlet res = await request(server)\n.get(\&quot;/api/appointments/upcomingAppointments\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ed6805d0-1cc6-43ac-aa81-0a99a02bc753&quot;,&quot;parentUUID&quot;:&quot;6f6d7cf5-87f2-4d99-afb1-c6baf61d8831&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7622f9ec-38fd-44d5-8d3d-801200ccf4e3&quot;,&quot;ed6805d0-1cc6-43ac-aa81-0a99a02bc753&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:6,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;1c8127c9-ebb1-4548-ab03-304ac953e525&quot;,&quot;title&quot;:&quot;/doctorFinishedAppointments&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/appointments.test.js&quot;,&quot;file&quot;:&quot;/test/appointments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /doctorFinishedAppointments Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.get(\&quot;/api/appointments/doctorFinishedAppointments\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0b271a88-9c1b-45a1-a8ba-ded344debb98&quot;,&quot;parentUUID&quot;:&quot;1c8127c9-ebb1-4548-ab03-304ac953e525&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 200 got Successfully&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /doctorFinishedAppointments Should respond 200 got Successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;doctor\&quot;);\nlet res = await request(server)\n.get(\&quot;/api/appointments/doctorFinishedAppointments\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2ba59852-de55-44d4-bda5-c21934532539&quot;,&quot;parentUUID&quot;:&quot;1c8127c9-ebb1-4548-ab03-304ac953e525&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0b271a88-9c1b-45a1-a8ba-ded344debb98&quot;,&quot;2ba59852-de55-44d4-bda5-c21934532539&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:6,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;6f74666e-0041-4568-875a-7a99c01a48ec&quot;,&quot;title&quot;:&quot;/doctorUpcomingAppointments&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/appointments.test.js&quot;,&quot;file&quot;:&quot;/test/appointments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /doctorUpcomingAppointments Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.get(\&quot;/api/appointments/doctorUpcomingAppointments\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9d237761-03cd-4902-9621-da6ed08b523a&quot;,&quot;parentUUID&quot;:&quot;6f74666e-0041-4568-875a-7a99c01a48ec&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 200 got Successfully&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /doctorUpcomingAppointments Should respond 200 got Successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;doctor\&quot;);\nlet res = await request(server)\n.get(\&quot;/api/appointments/doctorUpcomingAppointments\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5509695c-cb05-4ed0-9586-4674255fb31f&quot;,&quot;parentUUID&quot;:&quot;6f74666e-0041-4568-875a-7a99c01a48ec&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;9d237761-03cd-4902-9621-da6ed08b523a&quot;,&quot;5509695c-cb05-4ed0-9586-4674255fb31f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:7,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;dcf4f6af-dfef-4df7-ba26-72eb05d3b18b&quot;,&quot;title&quot;:&quot;/getDocApps&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/appointments.test.js&quot;,&quot;file&quot;:&quot;/test/appointments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /getDocApps Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/appointments/getDocApps\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c65e78b9-cedb-4256-ae87-bf618bb95990&quot;,&quot;parentUUID&quot;:&quot;dcf4f6af-dfef-4df7-ba26-72eb05d3b18b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /getDocApps Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/appointments/getDocApps\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;slot_id\&quot;: 1,\n    \&quot;doctor_id\&quot;:44554,\n    })\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c863ac5b-59ec-4730-8ee1-24098c46b550&quot;,&quot;parentUUID&quot;:&quot;dcf4f6af-dfef-4df7-ba26-72eb05d3b18b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 200 got Successfully&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /getDocApps Should respond 200 got Successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/appointments/addAppointment\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;slot_id\&quot;: 1,\n    \&quot;date\&quot;:\&quot;2020-05-28\&quot;\n    })\n.expect(201);\nconst appID = res.body.data.appointment_id;\nres = await request(server)\n.post(\&quot;/api/appointments/getDocApps\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;doctor_id\&quot;:1,\n    })\n.expect(200);\ndeleteUser(\&quot;01595543366\&quot;);\ndeleteAppointment(appID);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f400e7eb-ed6a-4a80-8a7e-0747c43e14d6&quot;,&quot;parentUUID&quot;:&quot;dcf4f6af-dfef-4df7-ba26-72eb05d3b18b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c65e78b9-cedb-4256-ae87-bf618bb95990&quot;,&quot;c863ac5b-59ec-4730-8ee1-24098c46b550&quot;,&quot;f400e7eb-ed6a-4a80-8a7e-0747c43e14d6&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:16,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;a11eb325-2768-490b-a49b-68c854251ccb&quot;,&quot;title&quot;:&quot;/cancelAppointment&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/appointments.test.js&quot;,&quot;file&quot;:&quot;/test/appointments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /cancelAppointment Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.patch(\&quot;/api/appointments/cancelAppointment\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;28fd9290-abd5-4de7-83ad-378d5e31ae05&quot;,&quot;parentUUID&quot;:&quot;a11eb325-2768-490b-a49b-68c854251ccb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /cancelAppointment Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.patch(\&quot;/api/appointments/cancelAppointment\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;aapointment_id\&quot;:\&quot;djdkj\&quot;,\n    })\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1eaef24f-baa5-4873-ac21-899808dbd1f0&quot;,&quot;parentUUID&quot;:&quot;a11eb325-2768-490b-a49b-68c854251ccb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 200 updated Successfully&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /cancelAppointment Should respond 200 updated Successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/appointments/addAppointment\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;slot_id\&quot;: 1,\n    \&quot;date\&quot;:\&quot;2020-05-28\&quot;\n    })\n.expect(201);\nconst appID = res.body.data.appointment_id;\nres = await request(server)\n.patch(\&quot;/api/appointments/cancelAppointment\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;appointment_id\&quot;:appID,\n    })\n.expect(200);\nexpect(res.body.data.appointment_status).to.equal(\&quot;canceled\&quot;);\ndeleteAppointment(appID);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;13d38ff3-afac-4d94-a0eb-302001d99095&quot;,&quot;parentUUID&quot;:&quot;a11eb325-2768-490b-a49b-68c854251ccb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;28fd9290-abd5-4de7-83ad-378d5e31ae05&quot;,&quot;1eaef24f-baa5-4873-ac21-899808dbd1f0&quot;,&quot;13d38ff3-afac-4d94-a0eb-302001d99095&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:21,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;dcd97e76-6059-4804-a4fa-327d3fb311ba&quot;,&quot;title&quot;:&quot;/confirmAppointment&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/appointments.test.js&quot;,&quot;file&quot;:&quot;/test/appointments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /confirmAppointment Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.patch(\&quot;/api/appointments/confirmAppointment\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fe424210-b166-4941-ad1b-2d22af6c6ac4&quot;,&quot;parentUUID&quot;:&quot;dcd97e76-6059-4804-a4fa-327d3fb311ba&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /confirmAppointment Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;user\&quot;);\nlet res = await request(server)\n.patch(\&quot;/api/appointments/confirmAppointment\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;aapointment_id\&quot;:\&quot;djdkj\&quot;,\n    })\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5ea0bc37-280f-48f8-917d-0680ce7d826a&quot;,&quot;parentUUID&quot;:&quot;dcd97e76-6059-4804-a4fa-327d3fb311ba&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 200 updated Successfully&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /confirmAppointment Should respond 200 updated Successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:19,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;user\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/appointments/addAppointment\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;slot_id\&quot;: 1,\n    \&quot;date\&quot;:\&quot;2020-05-28\&quot;\n    })\n.expect(201);\nconst appID = res.body.data.appointment_id;\nres = await request(server)\n.patch(\&quot;/api/appointments/confirmAppointment\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;appointment_id\&quot;:appID,\n    })\n.expect(200);\nexpect(res.body.data.appointment_status).to.equal(\&quot;upcoming\&quot;);\ndeleteAppointment(appID);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8ac49ed2-76db-4c6e-8c19-3ac78aa75f62&quot;,&quot;parentUUID&quot;:&quot;dcd97e76-6059-4804-a4fa-327d3fb311ba&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;fe424210-b166-4941-ad1b-2d22af6c6ac4&quot;,&quot;5ea0bc37-280f-48f8-917d-0680ce7d826a&quot;,&quot;8ac49ed2-76db-4c6e-8c19-3ac78aa75f62&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:23,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;ec894ea4-4a93-4c8f-9ff2-653856c4c3e7&quot;,&quot;title&quot;:&quot;/docAppsByDate&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/appointments.test.js&quot;,&quot;file&quot;:&quot;/test/appointments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /docAppsByDate Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/appointments/docAppsByDate\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ca9699d0-1948-4261-8982-777c9c88ddcc&quot;,&quot;parentUUID&quot;:&quot;ec894ea4-4a93-4c8f-9ff2-653856c4c3e7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /docAppsByDate Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;doctor\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/appointments/docAppsByDate\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;aapointment_id\&quot;:\&quot;djdkj\&quot;,\n    })\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;618224bb-2fd8-41a7-83ff-f7b3c0f2fe84&quot;,&quot;parentUUID&quot;:&quot;ec894ea4-4a93-4c8f-9ff2-653856c4c3e7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 200 if we got the apps successfully&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /docAppsByDate Should respond with 200 if we got the apps successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(&#x27;01090243795&#x27;,1,\&quot;doctor\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/appointments/docAppsByDate\&quot;)\n.set(&#x27;Authorization&#x27;,`Bearer ${token}`)\n.send({\n    \&quot;date\&quot;:&#x27;2020-03-20&#x27;\n})\n.expect(200)\n// expect(res.body.data[0].date).to.equal(\&quot;2020-03-20\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6a8e4f2d-639a-43d6-bc97-80c3d9cd0d0f&quot;,&quot;parentUUID&quot;:&quot;ec894ea4-4a93-4c8f-9ff2-653856c4c3e7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ca9699d0-1948-4261-8982-777c9c88ddcc&quot;,&quot;618224bb-2fd8-41a7-83ff-f7b3c0f2fe84&quot;,&quot;6a8e4f2d-639a-43d6-bc97-80c3d9cd0d0f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:7,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;273b8804-4c37-45ca-b2f2-d020cd96e1fb&quot;,&quot;title&quot;:&quot;/api/auth&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/auth.test.js&quot;,&quot;file&quot;:&quot;/test/auth.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/auth \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;server = require(\&quot;../app\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9a642823-6bb3-4f2c-bf9c-3db386d4b070&quot;,&quot;parentUUID&quot;:&quot;273b8804-4c37-45ca-b2f2-d020cd96e1fb&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/auth \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3c743cfa-bd26-4936-80a7-dbe8849077e7&quot;,&quot;parentUUID&quot;:&quot;273b8804-4c37-45ca-b2f2-d020cd96e1fb&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;07a17608-58af-4444-b6a2-00a3dddd284a&quot;,&quot;title&quot;:&quot;/signup&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/auth.test.js&quot;,&quot;file&quot;:&quot;/test/auth.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should respond with 400 if one of inputs is incorrect or missing (SCHEMA VALIDATION)&quot;,&quot;fullTitle&quot;:&quot;/api/auth /signup should respond with 400 if one of inputs is incorrect or missing (SCHEMA VALIDATION)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;).expect(400);  \nres = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({password:\&quot;fawzi\&quot;})\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7864a8b7-963b-459a-ac0c-faa217b6d30b&quot;,&quot;parentUUID&quot;:&quot;07a17608-58af-4444-b6a2-00a3dddd284a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 201 if user succefully registered&quot;,&quot;fullTitle&quot;:&quot;/api/auth /signup should respond with 201 if user succefully registered&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;01590243399\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;djdj84\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n})\n.expect(201);\nexpect(res.body.data.phone_number).to.equal(\&quot;01590243399\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4a55fdd9-6abc-4c70-a8e4-fa9bd2034e0b&quot;,&quot;parentUUID&quot;:&quot;07a17608-58af-4444-b6a2-00a3dddd284a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 403 if phone_number is already registered&quot;,&quot;fullTitle&quot;:&quot;/api/auth /signup should respond with 403 if phone_number is already registered&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;01590243399\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;djdj84\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n})\n.expect(403);\ndeleteUser(\&quot;01590243399\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;69bc13fb-1c8d-49d9-a9ef-7eea15146939&quot;,&quot;parentUUID&quot;:&quot;07a17608-58af-4444-b6a2-00a3dddd284a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7864a8b7-963b-459a-ac0c-faa217b6d30b&quot;,&quot;4a55fdd9-6abc-4c70-a8e4-fa9bd2034e0b&quot;,&quot;69bc13fb-1c8d-49d9-a9ef-7eea15146939&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:12,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;6ffcb754-eff3-4584-8065-60c8f07ac6aa&quot;,&quot;title&quot;:&quot;/signin&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/auth.test.js&quot;,&quot;file&quot;:&quot;/test/auth.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should respond with 400 if input are missing (SCHEMA VALIDATION)&quot;,&quot;fullTitle&quot;:&quot;/api/auth /signin should respond with 400 if input are missing (SCHEMA VALIDATION)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signin\&quot;)\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7c245d52-3ac0-4e96-883a-89e7b8b3c354&quot;,&quot;parentUUID&quot;:&quot;6ffcb754-eff3-4584-8065-60c8f07ac6aa&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 401 when phone number notfound `backend side`&quot;,&quot;fullTitle&quot;:&quot;/api/auth /signin should respond with 401 when phone number notfound `backend side`&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n .post(\&quot;/api/auth/signin\&quot;)\n .send({\&quot;phone_number\&quot;:\&quot;01590243311\&quot;})\n .expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a842aa79-c0ba-4082-993f-93cc250c6cbd&quot;,&quot;parentUUID&quot;:&quot;6ffcb754-eff3-4584-8065-60c8f07ac6aa&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 200 if user loged in successfully&quot;,&quot;fullTitle&quot;:&quot;/api/auth /signin should respond with 200 if user loged in successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;01590243311\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;djdj84\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n}).expect(201);\nexpect(res.body.data.phone_number).to.equal(\&quot;01590243311\&quot;);\nres = await request(server)\n.post(\&quot;/api/auth/signin\&quot;)\n.send({\&quot;phone_number\&quot;:\&quot;01590243311\&quot;})\n.expect(200);\ndeleteUser(\&quot;01590243311\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e28a47ed-d381-4b1b-b6a0-b41ef0adbf79&quot;,&quot;parentUUID&quot;:&quot;6ffcb754-eff3-4584-8065-60c8f07ac6aa&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7c245d52-3ac0-4e96-883a-89e7b8b3c354&quot;,&quot;a842aa79-c0ba-4082-993f-93cc250c6cbd&quot;,&quot;e28a47ed-d381-4b1b-b6a0-b41ef0adbf79&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:14,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;45a11b5b-775c-44cd-98b1-2eb5f7690660&quot;,&quot;title&quot;:&quot;/updateFirebaseToken&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/auth.test.js&quot;,&quot;file&quot;:&quot;/test/auth.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 400 if one of inpus is missed (SCHEMA VALIDATION)&quot;,&quot;fullTitle&quot;:&quot;/api/auth /updateFirebaseToken Should respond with 400 if one of inpus is missed (SCHEMA VALIDATION)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01590243399\&quot;,1,\&quot;user\&quot;);\nlet res = await request(server)\n.patch(\&quot;/api/auth/updateFirebaseToken\&quot;)\n.send({\&quot;notInTheSchema\&quot;:\&quot;haka\&quot;})\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4d525713-37ff-4f9a-a4c9-3c9709b8bceb&quot;,&quot;parentUUID&quot;:&quot;45a11b5b-775c-44cd-98b1-2eb5f7690660&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 401 if phone number not found `backend side`&quot;,&quot;fullTitle&quot;:&quot;/api/auth /updateFirebaseToken should respond with 401 if phone number not found `backend side`&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243788\&quot;,1,\&quot;user\&quot;);\nlet res = await request(server)\n.patch(\&quot;/api/auth/updateFirebaseToken\&quot;)\n.send({\&quot;new_token\&quot;:\&quot;djkdjkdjk\&quot;})\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;efcab8c6-9afd-46fa-afbb-13083456484c&quot;,&quot;parentUUID&quot;:&quot;45a11b5b-775c-44cd-98b1-2eb5f7690660&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 200 if we updated the token_id successfully&quot;,&quot;fullTitle&quot;:&quot;/api/auth /updateFirebaseToken should respond with 200 if we updated the token_id successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;01590243388\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;test\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;\n}).expect(201);\nconst token = genToken(\&quot;01590243388\&quot;,1,\&quot;user\&quot;);\nres = await request(server)\n.patch(\&quot;/api/auth/updateFirebaseToken\&quot;)\n.send({\&quot;new_token\&quot;:\&quot;123456789elhamdullah\&quot;})\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(200);\nexpect(res.body.data.updated_token).to.equal(\&quot;123456789elhamdullah\&quot;);\ndeleteUser(\&quot;01590243388\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;56ad5db5-4299-41e8-9ca6-5b4df81d719d&quot;,&quot;parentUUID&quot;:&quot;45a11b5b-775c-44cd-98b1-2eb5f7690660&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 403 if user is blocked&quot;,&quot;fullTitle&quot;:&quot;/api/auth /updateFirebaseToken should respond with 403 if user is blocked&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:18,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;01590243399\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;test\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n}).expect(201);\nconst token = genToken(\&quot;01590243399\&quot;,1,\&quot;user\&quot;);\nawait blockUser(\&quot;01590243399\&quot;);\nres = await request(server)\n.patch(\&quot;/api/auth/updateFirebaseToken\&quot;)\n.send({\&quot;new_token\&quot;:\&quot;123456789elhamdullah\&quot;})\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(403);\ndeleteUser(\&quot;01590243399\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b024b9c3-3128-49fc-b4d5-fa7d83b17ba8&quot;,&quot;parentUUID&quot;:&quot;45a11b5b-775c-44cd-98b1-2eb5f7690660&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 401 if user is not authorized &quot;,&quot;fullTitle&quot;:&quot;/api/auth /updateFirebaseToken should respond with 401 if user is not authorized &quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;01590243391\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;test\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n}).expect(201);\n// const token = genToken(\&quot;01590243399\&quot;,\&quot;user\&quot;);\nres = await request(server)\n.patch(\&quot;/api/auth/updateFirebaseToken\&quot;)\n.send({\&quot;new_token\&quot;:\&quot;123456789elhamdullah\&quot;})\n// .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(401);\ndeleteUser(\&quot;01590243391\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6518b611-edcf-4807-9643-e89ebe807059&quot;,&quot;parentUUID&quot;:&quot;45a11b5b-775c-44cd-98b1-2eb5f7690660&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4d525713-37ff-4f9a-a4c9-3c9709b8bceb&quot;,&quot;efcab8c6-9afd-46fa-afbb-13083456484c&quot;,&quot;56ad5db5-4299-41e8-9ca6-5b4df81d719d&quot;,&quot;b024b9c3-3128-49fc-b4d5-fa7d83b17ba8&quot;,&quot;6518b611-edcf-4807-9643-e89ebe807059&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:50,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;77d39c48-9d00-4c32-9fbb-425fa7e1a840&quot;,&quot;title&quot;:&quot;/signDoctor&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/auth.test.js&quot;,&quot;file&quot;:&quot;/test/auth.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should respond with 400 if any inputs are incorrect or missed (SCHEMA VALIDATION)&quot;,&quot;fullTitle&quot;:&quot;/api/auth /signDoctor should respond with 400 if any inputs are incorrect or missed (SCHEMA VALIDATION)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signDoctor\&quot;)\n.send({phone_number:\&quot;02903\&quot;})\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6fd71de8-6ee1-4a3a-8199-dc11b9380f7e&quot;,&quot;parentUUID&quot;:&quot;77d39c48-9d00-4c32-9fbb-425fa7e1a840&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 401 if phone number or password are incorrect `backend side`&quot;,&quot;fullTitle&quot;:&quot;/api/auth /signDoctor should respond with 401 if phone number or password are incorrect `backend side`&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01590243399\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/controlPanel/addDoctor\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;phone_number\&quot;:\&quot;01090243795\&quot;,\n    \&quot;password\&quot;:\&quot;testtest\&quot;,\n    \&quot;first_name\&quot;:\&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;: \&quot;ahmed\&quot;,\n    \&quot;country\&quot;:\&quot;egypt\&quot;,\n    \&quot;category_id\&quot;:1,\n    \&quot;picture\&quot;:\&quot;fkfjkfj\&quot;,\n    \&quot;price\&quot;:\&quot;200\&quot;\n})\n.expect(201);\nres = await request(server)\n.post(\&quot;/api/auth/signDoctor\&quot;)\n.send({phone_number:\&quot;01090243794\&quot;,password:\&quot;01288\&quot;})\n.expect(401);\ndeleteDoctor(\&quot;01090243795\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1a9d6307-44b4-4545-9fca-60e4545e5f04&quot;,&quot;parentUUID&quot;:&quot;77d39c48-9d00-4c32-9fbb-425fa7e1a840&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;6fd71de8-6ee1-4a3a-8199-dc11b9380f7e&quot;,&quot;1a9d6307-44b4-4545-9fca-60e4545e5f04&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:16,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;11072902-ed7f-4afa-83e4-b34784f55040&quot;,&quot;title&quot;:&quot;/updateDoctorFirebaseToken&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/auth.test.js&quot;,&quot;file&quot;:&quot;/test/auth.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 400 if one of inpus is missed (SCHEMA VALIDATION)&quot;,&quot;fullTitle&quot;:&quot;/api/auth /updateDoctorFirebaseToken Should respond with 400 if one of inpus is missed (SCHEMA VALIDATION)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01590243399\&quot;,1,\&quot;doctor\&quot;);\nlet res = await request(server)\n.patch(\&quot;/api/auth/updateDoctorFirebaseToken\&quot;)\n.send({\&quot;notInTheSchema\&quot;:\&quot;haka\&quot;})\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;663a6556-3529-4f9c-b0c8-bdeead779e95&quot;,&quot;parentUUID&quot;:&quot;11072902-ed7f-4afa-83e4-b34784f55040&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 401 if phone number not found `backend side`&quot;,&quot;fullTitle&quot;:&quot;/api/auth /updateDoctorFirebaseToken should respond with 401 if phone number not found `backend side`&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243788\&quot;,1,\&quot;doctor\&quot;);\nlet res = await request(server)\n.patch(\&quot;/api/auth/updateDoctorFirebaseToken\&quot;)\n.send({\&quot;new_token\&quot;:\&quot;djkdjkdjk\&quot;})\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bf29bd15-4448-49b2-ae32-518cee40bbaf&quot;,&quot;parentUUID&quot;:&quot;11072902-ed7f-4afa-83e4-b34784f55040&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 200 if we updated the Doctor token_id successfully&quot;,&quot;fullTitle&quot;:&quot;/api/auth /updateDoctorFirebaseToken should respond with 200 if we updated the Doctor token_id successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243788\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/controlPanel/addDoctor\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;phone_number\&quot;:\&quot;01090243795\&quot;,\n    \&quot;password\&quot;:\&quot;testtest\&quot;,\n    \&quot;first_name\&quot;:\&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;: \&quot;ahmed\&quot;,\n    \&quot;country\&quot;:\&quot;egypt\&quot;,\n    \&quot;category_id\&quot;:1,\n    \&quot;picture\&quot;:\&quot;fkfjkfj\&quot;,\n    \&quot;price\&quot;:\&quot;200\&quot;\n})\n.expect(201);\nexpect(res.body.data.phone_number).to.equal(\&quot;01090243795\&quot;);\nconst token2 = genToken(\&quot;01090243795\&quot;,1,\&quot;doctor\&quot;);\nres = await request(server)\n.patch(\&quot;/api/auth/updateDoctorFirebaseToken\&quot;)\n.send({\&quot;new_token\&quot;:\&quot;123456789elhamdullah\&quot;})\n.set(\&quot;Authorization\&quot;, `Bearer ${token2}`)\n.expect(200);\nexpect(res.body.data.updated_token).to.equal(\&quot;123456789elhamdullah\&quot;);\ndeleteDoctor(\&quot;01090243795\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f2abc108-4221-492a-967b-cfd4fcc42271&quot;,&quot;parentUUID&quot;:&quot;11072902-ed7f-4afa-83e4-b34784f55040&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 401 if Doctor is not authorized &quot;,&quot;fullTitle&quot;:&quot;/api/auth /updateDoctorFirebaseToken should respond with 401 if Doctor is not authorized &quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/controlPanel/addDoctor\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;phone_number\&quot;:\&quot;01010243795\&quot;,\n    \&quot;password\&quot;:\&quot;testtest\&quot;,\n    \&quot;first_name\&quot;:\&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;: \&quot;ahmed\&quot;,\n    \&quot;country\&quot;:\&quot;egypt\&quot;,\n    \&quot;category_id\&quot;:1,\n    \&quot;picture\&quot;:\&quot;fkfjkfj\&quot;,\n    \&quot;price\&quot;:\&quot;200\&quot;\n})\n.expect(201);\n// const token = genToken(\&quot;01590243399\&quot;,\&quot;doctor\&quot;);\nres = await request(server)\n.patch(\&quot;/api/auth/updateFirebaseToken\&quot;)\n.send({\&quot;new_token\&quot;:\&quot;123456789elhamdullah\&quot;})\n// .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(401);\ndeleteDoctor(\&quot;01010243795\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ccd7d52d-8802-49cc-a8c4-b2804a981ee5&quot;,&quot;parentUUID&quot;:&quot;11072902-ed7f-4afa-83e4-b34784f55040&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;663a6556-3529-4f9c-b0c8-bdeead779e95&quot;,&quot;bf29bd15-4448-49b2-ae32-518cee40bbaf&quot;,&quot;f2abc108-4221-492a-967b-cfd4fcc42271&quot;,&quot;ccd7d52d-8802-49cc-a8c4-b2804a981ee5&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:29,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;46390a44-897c-4d14-9bb9-2e5189d6ece2&quot;,&quot;title&quot;:&quot;/api/categories&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/categories.js&quot;,&quot;file&quot;:&quot;/test/categories.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/categories \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;server = require(\&quot;../app\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ad4f4b0f-19a4-4225-bf3d-7f0ff78e2757&quot;,&quot;parentUUID&quot;:&quot;46390a44-897c-4d14-9bb9-2e5189d6ece2&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/categories \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cea86d2d-6c72-4fb2-9142-80bfe775dd32&quot;,&quot;parentUUID&quot;:&quot;46390a44-897c-4d14-9bb9-2e5189d6ece2&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;18523e27-b66d-4796-9b6e-d0e847fbcfb8&quot;,&quot;title&quot;:&quot;/getCategories&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/categories.js&quot;,&quot;file&quot;:&quot;/test/categories.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/categories /getCategories Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.get(\&quot;/api/categories/getCategories\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;639f7d07-a93e-4312-bc18-5acdd03266f7&quot;,&quot;parentUUID&quot;:&quot;18523e27-b66d-4796-9b6e-d0e847fbcfb8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 200 if got categories successfully&quot;,&quot;fullTitle&quot;:&quot;/api/categories /getCategories Should respond 200 if got categories successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;user\&quot;);\nlet res = await request(server)\n.get(\&quot;/api/categories/getCategories\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;15fdc965-2f1f-4b7f-a0c3-03c0cab1cc23&quot;,&quot;parentUUID&quot;:&quot;18523e27-b66d-4796-9b6e-d0e847fbcfb8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;639f7d07-a93e-4312-bc18-5acdd03266f7&quot;,&quot;15fdc965-2f1f-4b7f-a0c3-03c0cab1cc23&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:6,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;f1422a7c-9323-4849-af8e-26f3c812a012&quot;,&quot;title&quot;:&quot;/api/controlPanel&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/controlPanel.test.js&quot;,&quot;file&quot;:&quot;/test/controlPanel.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;server = require(\&quot;../app\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0725976d-8c7b-429c-a504-8dffdcbfe273&quot;,&quot;parentUUID&quot;:&quot;f1422a7c-9323-4849-af8e-26f3c812a012&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4808ce21-8caa-46d0-908c-77511529f101&quot;,&quot;parentUUID&quot;:&quot;f1422a7c-9323-4849-af8e-26f3c812a012&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;135a1210-4855-426b-9663-1fd4069e617c&quot;,&quot;title&quot;:&quot;/addingDoctor&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/controlPanel.test.js&quot;,&quot;file&quot;:&quot;/test/controlPanel.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 400 if one of inpus is missed or incorrect (SCHEMA VALIDATION)&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /addingDoctor Should respond with 400 if one of inpus is missed or incorrect (SCHEMA VALIDATION)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1, \&quot;admin\&quot;);\nconst res = await request(server)\n  .post(\&quot;/api/controlPanel/addDoctor\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cdd49c7e-0f2b-436c-bdd8-23c9e4821420&quot;,&quot;parentUUID&quot;:&quot;135a1210-4855-426b-9663-1fd4069e617c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 201 if doctor created successfully&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /addingDoctor Should respond with 201 if doctor created successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;11090243799\&quot;,1, \&quot;admin\&quot;);\nlet res = await request(server)\n  .post(\&quot;/api/controlPanel/addDoctor\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({\n    phone_number: \&quot;11090243799\&quot;,\n    password: \&quot;testtest\&quot;,\n    first_name: \&quot;fawzi\&quot;,\n    last_name: \&quot;ahmed\&quot;,\n    country: \&quot;egypt\&quot;,\n    category_id: 1,\n    picture: \&quot;fkfjkfj\&quot;,\n    price: \&quot;100\&quot;,\n  })\n  .expect(201);\nexpect(res.body.data.phone_number).to.equal(\&quot;11090243799\&quot;);\ndeleteDoctor(\&quot;11090243799\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a998ccfa-5b72-4031-ba10-69af0b9b31f3&quot;,&quot;parentUUID&quot;:&quot;135a1210-4855-426b-9663-1fd4069e617c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 403 if the phone number is already registered&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /addingDoctor Should respond with 403 if the phone number is already registered&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243798\&quot;,1, \&quot;admin\&quot;);\nlet res = await request(server)\n  .post(\&quot;/api/controlPanel/addDoctor\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({\n    phone_number: \&quot;01090243798\&quot;,\n    password: \&quot;testtest\&quot;,\n    first_name: \&quot;fawzi\&quot;,\n    last_name: \&quot;ahmed\&quot;,\n    country: \&quot;egypt\&quot;,\n    category_id: 1,\n    picture: \&quot;fkfjkfj\&quot;,\n    price: \&quot;100\&quot;,\n  })\n  .expect(201);\nexpect(res.body.data.phone_number).to.equal(\&quot;01090243798\&quot;);\nres = await request(server)\n  .post(\&quot;/api/controlPanel/addDoctor\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({\n    phone_number: \&quot;01090243798\&quot;,\n    password: \&quot;testtest\&quot;,\n    first_name: \&quot;fawzi\&quot;,\n    last_name: \&quot;ahmed\&quot;,\n    country: \&quot;egypt\&quot;,\n    category_id: 1,\n    picture: \&quot;fkfjkfj\&quot;,\n    price: \&quot;100\&quot;,\n  })\n  .expect(403);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6991a0df-e044-4b89-b62e-8f0d9c5912d4&quot;,&quot;parentUUID&quot;:&quot;135a1210-4855-426b-9663-1fd4069e617c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;cdd49c7e-0f2b-436c-bdd8-23c9e4821420&quot;,&quot;a998ccfa-5b72-4031-ba10-69af0b9b31f3&quot;,&quot;6991a0df-e044-4b89-b62e-8f0d9c5912d4&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:20,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;d0fcf870-346c-4226-9965-d5b817601b39&quot;,&quot;title&quot;:&quot;/addingAdmin&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/controlPanel.test.js&quot;,&quot;file&quot;:&quot;/test/controlPanel.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 400 if one of inpus is missed or incorrect (SCHEMA VALIDATION&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /addingAdmin Should respond with 400 if one of inpus is missed or incorrect (SCHEMA VALIDATION&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1, \&quot;admin\&quot;);\nlet res = await request(server)\n  .post(\&quot;/api/controlPanel/addAdmin\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({ name: \&quot;fawzi\&quot; })\n  .expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8258a46c-190b-42b3-a056-16ef5f3a6282&quot;,&quot;parentUUID&quot;:&quot;d0fcf870-346c-4226-9965-d5b817601b39&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 201 if created successfully&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /addingAdmin Should respond with 201 if created successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;11090243799\&quot;,1, \&quot;admin\&quot;);\nlet res = await request(server)\n  .post(\&quot;/api/controlPanel/addAdmin\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({\n    phone_number: \&quot;11090243799\&quot;,\n    password: \&quot;testtest\&quot;,\n    name: \&quot;Fawzi E. Abdulfattah\&quot;,\n    role: \&quot;admin\&quot;,\n  })\n  .expect(201);\nexpect(res.body.data.phone_number).to.equal(\&quot;11090243799\&quot;);\ndeleteAdmin(\&quot;11090243799\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;df518a18-4383-4ddb-9e7c-7065f34a03cb&quot;,&quot;parentUUID&quot;:&quot;d0fcf870-346c-4226-9965-d5b817601b39&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should Respond with 403 if phone number is already Registered&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /addingAdmin Should Respond with 403 if phone number is already Registered&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1, \&quot;admin\&quot;);\nlet res = await request(server)\n  .post(\&quot;/api/controlPanel/addAdmin\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({\n    phone_number: \&quot;01090243795\&quot;,\n    password: \&quot;testtest\&quot;,\n    name: \&quot;Fawzi E. Abdulfattah\&quot;,\n    role: \&quot;admin\&quot;,\n  })\n  .expect(403);\ndeleteAdmin(\&quot;01090243795\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1e0de1e6-f505-4857-832a-1daf25ff92a9&quot;,&quot;parentUUID&quot;:&quot;d0fcf870-346c-4226-9965-d5b817601b39&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8258a46c-190b-42b3-a056-16ef5f3a6282&quot;,&quot;df518a18-4383-4ddb-9e7c-7065f34a03cb&quot;,&quot;1e0de1e6-f505-4857-832a-1daf25ff92a9&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:17,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;aca1a084-6255-43ef-9ab7-a55f81b6baa2&quot;,&quot;title&quot;:&quot;/signAdmin&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/controlPanel.test.js&quot;,&quot;file&quot;:&quot;/test/controlPanel.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should respond with 400 if input are missing (SCHEMA VALIDATION)&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /signAdmin should respond with 400 if input are missing (SCHEMA VALIDATION)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n  .post(\&quot;/api/controlPanel/signAdmin\&quot;)\n  .expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;05b4cec7-71cd-4a29-961b-e0f0de7ef78f&quot;,&quot;parentUUID&quot;:&quot;aca1a084-6255-43ef-9ab7-a55f81b6baa2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 401 when phone number is not found `backend side`&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /signAdmin should respond with 401 when phone number is not found `backend side`&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n  .post(\&quot;/api/controlPanel/signAdmin\&quot;)\n  .send({ phone_number: \&quot;01090243795\&quot;, password: \&quot;testest\&quot; })\n  .expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e693d545-cfe4-4966-9730-e831aa1fd6ab&quot;,&quot;parentUUID&quot;:&quot;aca1a084-6255-43ef-9ab7-a55f81b6baa2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 200 if admin loged in successfully&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /signAdmin should respond with 200 if admin loged in successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:18,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1, \&quot;admin\&quot;);\nlet res = await request(server)\n  .post(\&quot;/api/controlPanel/addAdmin\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({\n    phone_number: \&quot;01090243795\&quot;,\n    password: \&quot;testtest\&quot;,\n    name: \&quot;Fawzi E. Abdulfattah\&quot;,\n    role: \&quot;admin\&quot;,\n  })\n  .expect(201);\nexpect(res.body.data.phone_number).to.equal(\&quot;01090243795\&quot;);\nres = await request(server)\n  .post(\&quot;/api/controlPanel/signAdmin\&quot;)\n  .send({ phone_number: \&quot;01090243795\&quot;, password: \&quot;testtest\&quot; })\n  .expect(200);\nexpect(res.body.data.phone_number).to.equal(\&quot;01090243795\&quot;);\ndeleteAdmin(\&quot;01090243795\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0abab72e-49b0-4240-9a8a-ad3ee46af97b&quot;,&quot;parentUUID&quot;:&quot;aca1a084-6255-43ef-9ab7-a55f81b6baa2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;05b4cec7-71cd-4a29-961b-e0f0de7ef78f&quot;,&quot;e693d545-cfe4-4966-9730-e831aa1fd6ab&quot;,&quot;0abab72e-49b0-4240-9a8a-ad3ee46af97b&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:22,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;192f29df-3a5e-495c-8c55-184367570482&quot;,&quot;title&quot;:&quot;/checkAdminByToken&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/controlPanel.test.js&quot;,&quot;file&quot;:&quot;/test/controlPanel.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 401 if admin is not authorized&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /checkAdminByToken Should respond with 401 if admin is not authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109024379785\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n  .post(\&quot;/api/controlPanel/checkAdminByToken\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2b8f1d07-3854-4b3b-83f6-c4e5b326cc2f&quot;,&quot;parentUUID&quot;:&quot;192f29df-3a5e-495c-8c55-184367570482&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 200 if token is valid and referanced to admin&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /checkAdminByToken Should respond with 200 if token is valid and referanced to admin&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1, \&quot;admin\&quot;);\nlet res = await request(server)\n  .post(\&quot;/api/controlPanel/addAdmin\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({\n    phone_number: \&quot;01090243795\&quot;,\n    password: \&quot;testtest\&quot;,\n    name: \&quot;Fawzi E. Abdulfattah\&quot;,\n    role: \&quot;admin\&quot;,\n  })\n  .expect(201);\nres = await request(server)\n  .post(\&quot;/api/controlPanel/checkAdminByToken\&quot;)\n  .send({})\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .expect(200);\ndeleteAdmin(\&quot;01090243795\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;388d5096-847e-4e35-b290-2ccea48a5a1e&quot;,&quot;parentUUID&quot;:&quot;192f29df-3a5e-495c-8c55-184367570482&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;2b8f1d07-3854-4b3b-83f6-c4e5b326cc2f&quot;,&quot;388d5096-847e-4e35-b290-2ccea48a5a1e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:16,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;48a04420-8209-46c8-93ea-c98444e5b5c2&quot;,&quot;title&quot;:&quot;/addImage&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/controlPanel.test.js&quot;,&quot;file&quot;:&quot;/test/controlPanel.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should responed with 201 if uploaded&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /addImage Should responed with 201 if uploaded&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1, \&quot;admin\&quot;);\nlet res = await request(server)\n  .post(\&quot;/api/controlPanel/addImage\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .set(\&quot;Content-Type\&quot;, \&quot;application/x-www-form-urlencoded\&quot;)\n  .attach(\&quot;file\&quot;, path.resolve(__dirname, \&quot;../logo.png\&quot;))\n  .expect(201);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f8b299fc-095c-41b4-b427-5215aead8bbe&quot;,&quot;parentUUID&quot;:&quot;48a04420-8209-46c8-93ea-c98444e5b5c2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should responed with 403 if type not allowed&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /addImage Should responed with 403 if type not allowed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:41,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1, \&quot;admin\&quot;);\nlet res = await request(server)\n  .post(\&quot;/api/controlPanel/addImage\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .set(\&quot;Content-Type\&quot;, \&quot;application/x-www-form-urlencoded\&quot;)\n  .attach(\&quot;file\&quot;, path.resolve(__dirname, \&quot;../udemy-accs.txt\&quot;))\n  .expect(403);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fd37098a-87f8-480a-92a9-02d00c1be8ec&quot;,&quot;parentUUID&quot;:&quot;48a04420-8209-46c8-93ea-c98444e5b5c2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f8b299fc-095c-41b4-b427-5215aead8bbe&quot;,&quot;fd37098a-87f8-480a-92a9-02d00c1be8ec&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:55,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;a9a3138c-8772-4ac4-bbaa-453b77bbeeed&quot;,&quot;title&quot;:&quot;/getCategories&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/controlPanel.test.js&quot;,&quot;file&quot;:&quot;/test/controlPanel.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 401 if not authorized&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /getCategories Should respond with 401 if not authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n  .get(\&quot;/api/controlPanel/getCategories\&quot;)\n  .expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a793520e-95e0-4232-8c29-6dedb6484b4f&quot;,&quot;parentUUID&quot;:&quot;a9a3138c-8772-4ac4-bbaa-453b77bbeeed&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 200 if got categories successfully&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /getCategories Should respond with 200 if got categories successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1, \&quot;admin\&quot;);\nlet res = await request(server)\n  .get(\&quot;/api/controlPanel/getCategories\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .expect(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;25a04f5d-ef06-4534-8c4c-cf0e43d91fdd&quot;,&quot;parentUUID&quot;:&quot;a9a3138c-8772-4ac4-bbaa-453b77bbeeed&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a793520e-95e0-4232-8c29-6dedb6484b4f&quot;,&quot;25a04f5d-ef06-4534-8c4c-cf0e43d91fdd&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:7,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;0ea2c103-ad1e-4c4d-be13-3423602636a7&quot;,&quot;title&quot;:&quot;/getDoctors&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/controlPanel.test.js&quot;,&quot;file&quot;:&quot;/test/controlPanel.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 401 if not authorized&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /getDoctors Should respond with 401 if not authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n  .get(\&quot;/api/controlPanel/getCategories\&quot;)\n  .expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0eed8fd4-811d-4ff7-9ae6-b8e03ffd2b0c&quot;,&quot;parentUUID&quot;:&quot;0ea2c103-ad1e-4c4d-be13-3423602636a7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 200 if got categories successfully&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /getDoctors Should respond with 200 if got categories successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1, \&quot;admin\&quot;);\nlet res = await request(server)\n  .get(\&quot;/api/controlPanel/getDoctors\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .expect(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ce6114b6-7316-49f8-8783-bcea91973e4d&quot;,&quot;parentUUID&quot;:&quot;0ea2c103-ad1e-4c4d-be13-3423602636a7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0eed8fd4-811d-4ff7-9ae6-b8e03ffd2b0c&quot;,&quot;ce6114b6-7316-49f8-8783-bcea91973e4d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:6,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;5120c27a-714b-4317-bbaa-0ca1e55cb2ee&quot;,&quot;title&quot;:&quot;/deleteDoctor&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/controlPanel.test.js&quot;,&quot;file&quot;:&quot;/test/controlPanel.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 401 if not authorized&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /deleteDoctor Should respond with 401 if not authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n  .get(\&quot;/api/controlPanel/getCategories\&quot;)\n  .expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;eed3992d-7498-45f3-b2cc-d906bab78288&quot;,&quot;parentUUID&quot;:&quot;5120c27a-714b-4317-bbaa-0ca1e55cb2ee&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 404 if doctor not found&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /deleteDoctor Should respond with 404 if doctor not found&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1, \&quot;admin\&quot;);\nlet res = await request(server)\n  .delete(\&quot;/api/controlPanel/deleteDoctor\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({ phone_number: \&quot;0109024371111212129511113\&quot;})\n  .expect(404);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;af255a56-1947-4ff2-906d-d59211fbaa29&quot;,&quot;parentUUID&quot;:&quot;5120c27a-714b-4317-bbaa-0ca1e55cb2ee&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 200 if doctor deleted successfully&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /deleteDoctor Should respond with 200 if doctor deleted successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1, \&quot;admin\&quot;);\nlet res = await request(server)\n  .delete(\&quot;/api/controlPanel/deleteDoctor\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({ phone_number: \&quot;01090243798\&quot;}) // this tee number which registered above\n  .expect(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e94c6bf5-36f9-453b-a600-7c200fc4d857&quot;,&quot;parentUUID&quot;:&quot;5120c27a-714b-4317-bbaa-0ca1e55cb2ee&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;eed3992d-7498-45f3-b2cc-d906bab78288&quot;,&quot;af255a56-1947-4ff2-906d-d59211fbaa29&quot;,&quot;e94c6bf5-36f9-453b-a600-7c200fc4d857&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:7,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;a4ae74e3-533f-48b7-a313-a60b8b6a0b95&quot;,&quot;title&quot;:&quot;/toggleBlock&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/controlPanel.test.js&quot;,&quot;file&quot;:&quot;/test/controlPanel.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 401 if not authorized&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /toggleBlock Should respond with 401 if not authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n  .patch(\&quot;/api/controlPanel/toggleBlock\&quot;)\n  .expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b097f829-9905-4e1b-a833-e46be2723a53&quot;,&quot;parentUUID&quot;:&quot;a4ae74e3-533f-48b7-a313-a60b8b6a0b95&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 404 if user not found&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /toggleBlock Should respond with 404 if user not found&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1, \&quot;admin\&quot;);\nlet res = await request(server)\n  .patch(\&quot;/api/controlPanel/toggleBlock\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({ phone_number: \&quot;0109024371111212129511113\&quot;})\n  .expect(404);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4ec1da16-59fb-4095-8605-51ff11d38adc&quot;,&quot;parentUUID&quot;:&quot;a4ae74e3-533f-48b7-a313-a60b8b6a0b95&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 200 if toggle user&#x27;s block successfully&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /toggleBlock Should respond with 200 if toggle user&#x27;s block successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;015902433199\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;djdj84\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n})\n.expect(201);\nconst token = genToken(\&quot;01090243795\&quot;,1, \&quot;admin\&quot;);\nres = await request(server)\n  .patch(\&quot;/api/controlPanel/toggleBlock\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({ phone_number: \&quot;015902433199\&quot;})\n  .expect(200);\n  deleteUser(\&quot;015902433199\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;09c06522-de7b-4ed1-8367-d76b874af15a&quot;,&quot;parentUUID&quot;:&quot;a4ae74e3-533f-48b7-a313-a60b8b6a0b95&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b097f829-9905-4e1b-a833-e46be2723a53&quot;,&quot;4ec1da16-59fb-4095-8605-51ff11d38adc&quot;,&quot;09c06522-de7b-4ed1-8367-d76b874af15a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:18,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;f571ddc9-2a73-467a-bf44-f432a74e5bce&quot;,&quot;title&quot;:&quot;/getDoctorSlots&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/controlPanel.test.js&quot;,&quot;file&quot;:&quot;/test/controlPanel.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 401 if not authorized&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /getDoctorSlots Should respond with 401 if not authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n  .post(\&quot;/api/controlPanel/getDoctorSlots\&quot;)\n  .expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;691b2551-205f-4d37-86b6-49a0d8bd67fd&quot;,&quot;parentUUID&quot;:&quot;f571ddc9-2a73-467a-bf44-f432a74e5bce&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 400 doctor_id is missing or incorrect&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /getDoctorSlots Should respond with 400 doctor_id is missing or incorrect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1, \&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/controlPanel/getDoctorSlots\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({ doctor_id: \&quot;ahmed\&quot;})\n  .expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0330d3df-2365-4b7b-98c9-ac1b247b48eb&quot;,&quot;parentUUID&quot;:&quot;f571ddc9-2a73-467a-bf44-f432a74e5bce&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 200 if got doctor&#x27;s slots successfully&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /getDoctorSlots Should respond with 200 if got doctor&#x27;s slots successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1, \&quot;admin\&quot;);\nlet res = await request(server)\n  .post(\&quot;/api/controlPanel/getDoctorSlots\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({ doctor_id: 11})\n  .expect(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cd426cd4-8a5f-4760-8cfa-d27a9bd3d66f&quot;,&quot;parentUUID&quot;:&quot;f571ddc9-2a73-467a-bf44-f432a74e5bce&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;691b2551-205f-4d37-86b6-49a0d8bd67fd&quot;,&quot;0330d3df-2365-4b7b-98c9-ac1b247b48eb&quot;,&quot;cd426cd4-8a5f-4760-8cfa-d27a9bd3d66f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:12,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;c697922c-524d-408a-9fe6-5c9525892d8f&quot;,&quot;title&quot;:&quot;/api/doctors&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/doctors.js&quot;,&quot;file&quot;:&quot;/test/doctors.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/doctors \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;server = require(\&quot;../app\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2231df7a-afc1-47d3-bdb5-e55a8a2dfd9f&quot;,&quot;parentUUID&quot;:&quot;c697922c-524d-408a-9fe6-5c9525892d8f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/doctors \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;588bab9c-09bd-4b4d-8eb1-f593d228964a&quot;,&quot;parentUUID&quot;:&quot;c697922c-524d-408a-9fe6-5c9525892d8f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;139f0d96-4f9f-4efd-8d55-ed27fde5d3c3&quot;,&quot;title&quot;:&quot;/getDoctor&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/doctors.js&quot;,&quot;file&quot;:&quot;/test/doctors.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 400 if phone doctor_id is missing (validation schema)&quot;,&quot;fullTitle&quot;:&quot;/api/doctors /getDoctor Should respond with 400 if phone doctor_id is missing (validation schema)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/doctors/getDoctor\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({})\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a1276c18-6e28-4768-8f5f-1f59e6020941&quot;,&quot;parentUUID&quot;:&quot;139f0d96-4f9f-4efd-8d55-ed27fde5d3c3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 401 if not authorized&quot;,&quot;fullTitle&quot;:&quot;/api/doctors /getDoctor Should respond with 401 if not authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/doctors/getDoctor\&quot;)\n.send({doctor_id: \&quot;1233\&quot;})\n.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0713d1fc-afca-493d-83a2-9649df5ad7fc&quot;,&quot;parentUUID&quot;:&quot;139f0d96-4f9f-4efd-8d55-ed27fde5d3c3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 404 if doctor not found&quot;,&quot;fullTitle&quot;:&quot;/api/doctors /getDoctor Should respond with 404 if doctor not found&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1,\&quot;user\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/doctors/getDoctor\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({doctor_id: 54878785})\n.expect(404);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;88032df0-f13b-47ee-963a-e5bf19105414&quot;,&quot;parentUUID&quot;:&quot;139f0d96-4f9f-4efd-8d55-ed27fde5d3c3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 200 if got doctor successfully&quot;,&quot;fullTitle&quot;:&quot;/api/doctors /getDoctor Should respond with 200 if got doctor successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/controlPanel/addDoctor\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;phone_number\&quot;:\&quot;01090113795\&quot;,\n    \&quot;password\&quot;:\&quot;testtest\&quot;,\n    \&quot;first_name\&quot;:\&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;: \&quot;ahmed\&quot;,\n    \&quot;country\&quot;:\&quot;egypt\&quot;,\n    \&quot;category_id\&quot;:1,\n    \&quot;picture\&quot;:\&quot;fkfjkfj\&quot;,\n    \&quot;price\&quot;: \&quot;100\&quot;,\n})\n.expect(201);\nconst doctor_id = res.body.data.doctor_id;\nres = await request(server)\n.post(\&quot;/api/doctors/getDoctor\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({doctor_id: doctor_id})\n.expect(200);\ndeleteDoctor(\&quot;01090113795\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1350fe47-5926-47db-8b93-e032477ddbb9&quot;,&quot;parentUUID&quot;:&quot;139f0d96-4f9f-4efd-8d55-ed27fde5d3c3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a1276c18-6e28-4768-8f5f-1f59e6020941&quot;,&quot;0713d1fc-afca-493d-83a2-9649df5ad7fc&quot;,&quot;88032df0-f13b-47ee-963a-e5bf19105414&quot;,&quot;1350fe47-5926-47db-8b93-e032477ddbb9&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:25,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;cc7e92b7-70c7-4e01-b8d5-80a3e4ef32fe&quot;,&quot;title&quot;:&quot;/getDoctors&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/doctors.js&quot;,&quot;file&quot;:&quot;/test/doctors.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 401 if not authorized&quot;,&quot;fullTitle&quot;:&quot;/api/doctors /getDoctors Should respond with 401 if not authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/doctors/getDoctors\&quot;)\n.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8db99230-a28b-4cc1-b194-4f49002283e0&quot;,&quot;parentUUID&quot;:&quot;cc7e92b7-70c7-4e01-b8d5-80a3e4ef32fe&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 200 if got doctors successfully&quot;,&quot;fullTitle&quot;:&quot;/api/doctors /getDoctors Should respond with 200 if got doctors successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1,\&quot;user\&quot;);\n            let res = await request(server)\n            .post(\&quot;/api/doctors/getDoctors\&quot;)\n            .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n            .send({category_id: 42})\n            .expect(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e4402d42-8d71-4a9c-a2e8-0ff38c490f35&quot;,&quot;parentUUID&quot;:&quot;cc7e92b7-70c7-4e01-b8d5-80a3e4ef32fe&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8db99230-a28b-4cc1-b194-4f49002283e0&quot;,&quot;e4402d42-8d71-4a9c-a2e8-0ff38c490f35&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:8,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;8c3fe950-c116-4723-b790-23f2f7b6aa8b&quot;,&quot;title&quot;:&quot;/updateDoctor&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/doctors.js&quot;,&quot;file&quot;:&quot;/test/doctors.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 401 if not authorized&quot;,&quot;fullTitle&quot;:&quot;/api/doctors /updateDoctor Should respond with 401 if not authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.patch(\&quot;/api/doctors/updateDoctor\&quot;)\n.send({\&quot;phone_number\&quot;:\&quot;3487\&quot;})\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0f33cbdd-b336-470c-a67b-4417b59e4f8d&quot;,&quot;parentUUID&quot;:&quot;8c3fe950-c116-4723-b790-23f2f7b6aa8b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 400 if field is nor allowed&quot;,&quot;fullTitle&quot;:&quot;/api/doctors /updateDoctor Should respond with 400 if field is nor allowed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01590243311\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.patch(\&quot;/api/doctors/updateDoctor\&quot;)\n.send({\&quot;fb_token_id\&quot;:\&quot;3487\&quot;})\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;15f70b12-b9d4-4099-9450-96bd48d7c5b2&quot;,&quot;parentUUID&quot;:&quot;8c3fe950-c116-4723-b790-23f2f7b6aa8b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 200 if successfully updated&quot;,&quot;fullTitle&quot;:&quot;/api/doctors /updateDoctor Should respond with 200 if successfully updated&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;11090243799\&quot;,1, \&quot;admin\&quot;);\nlet res = await request(server)\n  .post(\&quot;/api/controlPanel/addDoctor\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({\n    phone_number: \&quot;11090243799\&quot;,\n    password: \&quot;testtest\&quot;,\n    first_name: \&quot;fawzi\&quot;,\n    last_name: \&quot;ahmed\&quot;,\n    country: \&quot;egypt\&quot;,\n    category_id: 1,\n    picture: \&quot;fkfjkfj\&quot;,\n    price: \&quot;100\&quot;,\n  })\n  .expect(201);\n  const docId = res.body.data.doctor_id;\nres = await request(server)\n .patch(\&quot;/api/doctors/updateDoctor\&quot;)\n.send({\n    doctor_id: docId,\n    phone_number: \&quot;112345\&quot;,\n    password: \&quot;t123\&quot;,\n    first_name: \&quot;fawziiiii\&quot;,\n    last_name: \&quot;ahmedddddd\&quot;,\n    country: \&quot;saudiarabia\&quot;,\n    category_id: 5,\n    picture: \&quot;fkfjkfj\&quot;,\n    price: \&quot;300\&quot;,\n})\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(200);\nexpect(res.body.data.phone_number).to.equal(\&quot;112345\&quot;);\nexpect(res.body.data.password).to.equal(\&quot;t123\&quot;);\nexpect(res.body.data.first_name).to.equal(\&quot;fawziiiii\&quot;);\nexpect(res.body.data.last_name).to.equal(\&quot;ahmedddddd\&quot;);\nexpect(res.body.data.country).to.equal(\&quot;saudiarabia\&quot;);\nexpect(res.body.data.category_id).to.equal(5);\nexpect(res.body.data.picture).to.equal(\&quot;fkfjkfj\&quot;);\nexpect(res.body.data.price).to.equal(\&quot;300\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2171befc-87ec-4fce-816e-62cb8b77eb1e&quot;,&quot;parentUUID&quot;:&quot;8c3fe950-c116-4723-b790-23f2f7b6aa8b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 403 if new phone number is already registered&quot;,&quot;fullTitle&quot;:&quot;/api/doctors /updateDoctor Should respond with 403 if new phone number is already registered&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01590243313\&quot;,1,\&quot;admin\&quot;);\n          let res = await request(server)\n.post(\&quot;/api/controlPanel/addDoctor\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n  phone_number: \&quot;110902411\&quot;,\n  password: \&quot;testtest\&quot;,\n  first_name: \&quot;fawzi\&quot;,\n  last_name: \&quot;ahmed\&quot;,\n  country: \&quot;egypt\&quot;,\n  category_id: 1,\n  picture: \&quot;fkfjkfj\&quot;,\n  price: \&quot;100\&quot;,\n})\n.expect(201);\nconst docId = res.body.data.doctor_id;\nres = await request(server)\n.patch(\&quot;/api/doctors/updateDoctor\&quot;)\n.send({\n    doctor_id: docId,\n    phone_number: \&quot;112345\&quot;,\n})\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(403);\ndeleteDoctor(\&quot;110902411\&quot;);\ndeleteDoctor(\&quot;112345\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b8dbb557-aa0d-49a3-a9d6-43b961607ed6&quot;,&quot;parentUUID&quot;:&quot;8c3fe950-c116-4723-b790-23f2f7b6aa8b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0f33cbdd-b336-470c-a67b-4417b59e4f8d&quot;,&quot;15f70b12-b9d4-4099-9450-96bd48d7c5b2&quot;,&quot;2171befc-87ec-4fce-816e-62cb8b77eb1e&quot;,&quot;b8dbb557-aa0d-49a3-a9d6-43b961607ed6&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:32,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;3e637ec1-6336-479f-a7c3-f6e8ed04fcda&quot;,&quot;title&quot;:&quot;/api/slots&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/slots.test.js&quot;,&quot;file&quot;:&quot;/test/slots.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/slots \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;server = require(\&quot;../app\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fa93b1d3-3f9d-4334-a85f-24223d599151&quot;,&quot;parentUUID&quot;:&quot;3e637ec1-6336-479f-a7c3-f6e8ed04fcda&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/slots \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;881b3932-e451-4799-aed1-88c74b2c511d&quot;,&quot;parentUUID&quot;:&quot;3e637ec1-6336-479f-a7c3-f6e8ed04fcda&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;bbb32a84-cc97-4e89-a8b6-65d00a8cc5f1&quot;,&quot;title&quot;:&quot;/addSlot&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/slots.test.js&quot;,&quot;file&quot;:&quot;/test/slots.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/slots /addSlot Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/slots/addSlot\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;64b03d2b-16bb-4218-a8b8-7628364d1717&quot;,&quot;parentUUID&quot;:&quot;bbb32a84-cc97-4e89-a8b6-65d00a8cc5f1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;fullTitle&quot;:&quot;/api/slots /addSlot Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/slots/addSlot\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;day\&quot;:\&quot;mon\&quot;,\n    \&quot;slot_time\&quot;:\&quot;60:00\&quot;,\n    \&quot;available\&quot;:false\n    })\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;237406da-d47e-4d7d-8d9b-098cb603024b&quot;,&quot;parentUUID&quot;:&quot;bbb32a84-cc97-4e89-a8b6-65d00a8cc5f1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 200 addedd Successfully&quot;,&quot;fullTitle&quot;:&quot;/api/slots /addSlot Should respond 200 addedd Successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/controlPanel/addDoctor\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;phone_number\&quot;:\&quot;01090113795\&quot;,\n    \&quot;password\&quot;:\&quot;testtest\&quot;,\n    \&quot;first_name\&quot;:\&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;: \&quot;ahmed\&quot;,\n    \&quot;country\&quot;:\&quot;egypt\&quot;,\n    \&quot;category_id\&quot;:1,\n    \&quot;picture\&quot;:\&quot;fkfjkfj\&quot;,\n    \&quot;price\&quot;: \&quot;100\&quot;,\n})\n.expect(201);\nconst docId = res.body.data.doctor_id;\nres = await request(server)\n.post(\&quot;/api/slots/addSlot\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;doctor_id\&quot;:docId,\n    \&quot;day\&quot;:\&quot;mon\&quot;,\n    \&quot;start_time\&quot;:\&quot;23:00\&quot;,\n    \&quot;slot_time\&quot;:\&quot;60:00\&quot;,\n    \&quot;available\&quot;:false\n    })\n.expect(201);\nconst slotId = res.body.data.slot_id;\ndeleteDoctor(\&quot;01090113795\&quot;);\ndeleteSlot(slotId);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;78f8a5ab-0a7e-4ff1-a09a-384c218fd56c&quot;,&quot;parentUUID&quot;:&quot;bbb32a84-cc97-4e89-a8b6-65d00a8cc5f1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;64b03d2b-16bb-4218-a8b8-7628364d1717&quot;,&quot;237406da-d47e-4d7d-8d9b-098cb603024b&quot;,&quot;78f8a5ab-0a7e-4ff1-a09a-384c218fd56c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:19,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;62043c97-0e08-47a2-b8b9-7058ec92871c&quot;,&quot;title&quot;:&quot;/updateSlot&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/slots.test.js&quot;,&quot;file&quot;:&quot;/test/slots.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/slots /updateSlot Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.patch(\&quot;/api/slots/updateSlot\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;745162ae-4d50-4472-a5a0-1b9894571735&quot;,&quot;parentUUID&quot;:&quot;62043c97-0e08-47a2-b8b9-7058ec92871c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 400 if one of inputs is incorrect&quot;,&quot;fullTitle&quot;:&quot;/api/slots /updateSlot Should respond 400 if one of inputs is incorrect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.patch(\&quot;/api/slots/updateSlot\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;ahmed\&quot;:\&quot;mon\&quot;,\n    })\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;203781b4-f7d9-4c90-8621-81aefeab4f72&quot;,&quot;parentUUID&quot;:&quot;62043c97-0e08-47a2-b8b9-7058ec92871c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 200 updated Successfully&quot;,&quot;fullTitle&quot;:&quot;/api/slots /updateSlot Should respond 200 updated Successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.patch(\&quot;/api/slots/updateSlot\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;slot_id\&quot;:1,\n    \&quot;day\&quot;:\&quot;wed\&quot;,\n    \&quot;start_time\&quot;:\&quot;21:00\&quot;,\n    \&quot;slot_time\&quot;:\&quot;30:00\&quot;,\n    \&quot;available\&quot;:true\n    })\n.expect(200);\nexpect(res.body.data.day).to.equal(\&quot;wed\&quot;);\nconst slotId = res.body.data.slot_id;\ndeleteSlot(slotId);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;30d6fd74-8bbf-4047-94f9-8adebf7a37a1&quot;,&quot;parentUUID&quot;:&quot;62043c97-0e08-47a2-b8b9-7058ec92871c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;745162ae-4d50-4472-a5a0-1b9894571735&quot;,&quot;203781b4-f7d9-4c90-8621-81aefeab4f72&quot;,&quot;30d6fd74-8bbf-4047-94f9-8adebf7a37a1&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:7,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;06b53ddb-ea1a-464e-a292-f8750eb13975&quot;,&quot;title&quot;:&quot;/getOpenSlots&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/slots.test.js&quot;,&quot;file&quot;:&quot;/test/slots.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/slots /getOpenSlots Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/slots/getOpenSlots\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0123e884-309f-4e31-a0b4-e6fe5fdd4ef6&quot;,&quot;parentUUID&quot;:&quot;06b53ddb-ea1a-464e-a292-f8750eb13975&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;fullTitle&quot;:&quot;/api/slots /getOpenSlots Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;user\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/slots/getOpenSlots\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;doctor_id\&quot;:44554,\n    })\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3ea0cd0a-c66f-419b-b899-0724e2ff2c5c&quot;,&quot;parentUUID&quot;:&quot;06b53ddb-ea1a-464e-a292-f8750eb13975&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 200 got slots Successfully&quot;,&quot;fullTitle&quot;:&quot;/api/slots /getOpenSlots Should respond 200 got slots Successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:24,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;user\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;01590243399\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;djdj84\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n})\n.expect(201);\nconst userId = res.body.data.user_id;\n res = await request(server)\n.post(\&quot;/api/slots/getOpenSlots\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;doctor_id\&quot;: 11,\n    \&quot;searchIn\&quot;:30,\n    })\n.expect(200);\ndeleteUser(\&quot;01590243399\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d1ba4483-ff67-49e6-b5ac-5572f49143ba&quot;,&quot;parentUUID&quot;:&quot;06b53ddb-ea1a-464e-a292-f8750eb13975&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0123e884-309f-4e31-a0b4-e6fe5fdd4ef6&quot;,&quot;3ea0cd0a-c66f-419b-b899-0724e2ff2c5c&quot;,&quot;d1ba4483-ff67-49e6-b5ac-5572f49143ba&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:27,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;8157bfa3-8d47-4e07-9b01-16c0868b7863&quot;,&quot;title&quot;:&quot;/getDoctorDays&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/slots.test.js&quot;,&quot;file&quot;:&quot;/test/slots.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/slots /getDoctorDays Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\t\n            .post(\&quot;/api/slots/addSlot\&quot;)\t\n            .expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b2bdd2de-f474-4719-aef1-43e9b43517ab&quot;,&quot;parentUUID&quot;:&quot;8157bfa3-8d47-4e07-9b01-16c0868b7863&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 200 if got days susccessfully&quot;,&quot;fullTitle&quot;:&quot;/api/slots /getDoctorDays Should respond 200 if got days susccessfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:18,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;admin\&quot;);\t\n            let res = await request(server)\t\n            .post(\&quot;/api/controlPanel/addDoctor\&quot;)\t\n            .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\t\n            .send({\t\n                \&quot;phone_number\&quot;:\&quot;01090113785\&quot;,\t\n                \&quot;password\&quot;:\&quot;testtest\&quot;,\t\n                \&quot;first_name\&quot;:\&quot;fawzi\&quot;,\t\n                \&quot;last_name\&quot;: \&quot;ahmed\&quot;,\t\n                \&quot;country\&quot;:\&quot;egypt\&quot;,\t\n                \&quot;category_id\&quot;:1,\t\n                \&quot;picture\&quot;:\&quot;fkfjkfj\&quot;,\t\n                \&quot;price\&quot;: \&quot;100\&quot;,\t\n            })\t\n            .expect(201);\t\n            const docId = res.body.data.doctor_id;\t\n            res = await request(server)\t\n            .post(\&quot;/api/slots/addSlot\&quot;)\t\n            .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\t\n            .send({\t\n                \&quot;doctor_id\&quot;:docId,\t\n                \&quot;day\&quot;:\&quot;mon\&quot;,\t\n                \&quot;start_time\&quot;:\&quot;23:00\&quot;,\t\n                \&quot;slot_time\&quot;:\&quot;60:00\&quot;,\t\n                \&quot;available\&quot;:false\t\n                })\t\n            .expect(201);\t\n            const doctorToken = genToken(\&quot;01090113795\&quot;,1,\&quot;doctor\&quot;);\t\n            res = await request(server)\t\n            .post(\&quot;/api/slots/getDoctorDays\&quot;)\t\n            .set(\&quot;Authorization\&quot;, `Bearer ${doctorToken}`)\t\n            .expect(200);\t\n            const slotId = res.body.data.slot_id;\t\n            deleteDoctor(\&quot;01090113785\&quot;);\t\n            deleteSlot(slotId);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;971ebab8-189b-4019-a18e-8523a405b674&quot;,&quot;parentUUID&quot;:&quot;8157bfa3-8d47-4e07-9b01-16c0868b7863&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b2bdd2de-f474-4719-aef1-43e9b43517ab&quot;,&quot;971ebab8-189b-4019-a18e-8523a405b674&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:19,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;a9a97674-7d64-4235-9950-7876fb24452e&quot;,&quot;title&quot;:&quot;/api/user&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/user.js&quot;,&quot;file&quot;:&quot;/test/user.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/user \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;server = require(\&quot;../app\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;20f7529e-79f6-45eb-8278-360a20180f85&quot;,&quot;parentUUID&quot;:&quot;a9a97674-7d64-4235-9950-7876fb24452e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/user \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8679525d-07c3-47f8-a8d8-570283271b9b&quot;,&quot;parentUUID&quot;:&quot;a9a97674-7d64-4235-9950-7876fb24452e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;1f767711-81c5-4f4c-a563-01d40e76ebdc&quot;,&quot;title&quot;:&quot;/updateInfo&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/user.js&quot;,&quot;file&quot;:&quot;/test/user.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 401 if not authorized&quot;,&quot;fullTitle&quot;:&quot;/api/user /updateInfo Should respond with 401 if not authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.patch(\&quot;/api/user/updateInfo\&quot;)\n.send({\&quot;phone_number\&quot;:\&quot;3487\&quot;})\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d3c2516f-8515-48e4-b467-499940fef4b0&quot;,&quot;parentUUID&quot;:&quot;1f767711-81c5-4f4c-a563-01d40e76ebdc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 400 if field is nor allowed&quot;,&quot;fullTitle&quot;:&quot;/api/user /updateInfo Should respond with 400 if field is nor allowed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01590243311\&quot;,1,\&quot;user\&quot;);\nlet res = await request(server)\n.patch(\&quot;/api/user/updateInfo\&quot;)\n.send({\&quot;fb_token_id\&quot;:\&quot;3487\&quot;})\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;adcb0d47-5734-4032-a679-3d4df5bde4ec&quot;,&quot;parentUUID&quot;:&quot;1f767711-81c5-4f4c-a563-01d40e76ebdc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 200 if successfully updated&quot;,&quot;fullTitle&quot;:&quot;/api/user /updateInfo Should respond with 200 if successfully updated&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:31,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;01590243311\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;djdj84\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n}).expect(201);\nexpect(res.body.data.phone_number).to.equal(\&quot;01590243311\&quot;);\nconst token = genToken(\&quot;01590243311\&quot;,1,\&quot;user\&quot;);\n res = await request(server)\n.patch(\&quot;/api/user/updateInfo\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;12345\&quot;,\n    \&quot;first_name\&quot;: \&quot;ahmed\&quot;,\n    \&quot;last_name\&quot;:\&quot;mohammed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-22\&quot;,\n    \&quot;weight\&quot;: 200,\n    \&quot;height\&quot;: 300,\n    \&quot;bmi\&quot;: 50,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n})\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(200);\nexpect(res.body.data.phone_number).to.equal(\&quot;12345\&quot;);\nexpect(res.body.data.first_name).to.equal(\&quot;ahmed\&quot;);\nexpect(res.body.data.last_name).to.equal(\&quot;mohammed\&quot;);\nexpect(res.body.data.birth_date).to.equal(\&quot;1999-03-22\&quot;);\nexpect(res.body.data.weight).to.equal(200);\nexpect(res.body.data.height).to.equal(300);\nexpect(res.body.data.bmi).to.equal(50);\nexpect(res.body.data.gender).to.equal(\&quot;male\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f0e46094-1dba-4684-aaa3-a4b217707221&quot;,&quot;parentUUID&quot;:&quot;1f767711-81c5-4f4c-a563-01d40e76ebdc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 403 if phone number is already registered&quot;,&quot;fullTitle&quot;:&quot;/api/user /updateInfo Should respond with 403 if phone number is already registered&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:27,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;01590243313\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;djdj84\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n}).expect(201);\nexpect(res.body.data.phone_number).to.equal(\&quot;01590243313\&quot;);\nconst token = genToken(\&quot;01590243313\&quot;,1,\&quot;user\&quot;);\n res = await request(server)\n.patch(\&quot;/api/user/updateInfo\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;12345\&quot;,\n    \&quot;first_name\&quot;: \&quot;ahmed\&quot;,\n    \&quot;last_name\&quot;:\&quot;mohammed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-22\&quot;,\n    \&quot;weight\&quot;: 200,\n    \&quot;height\&quot;: 300,\n    \&quot;bmi\&quot;: 50,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n})\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(403);\ndeleteUser(\&quot;01590243313\&quot;);\ndeleteUser(\&quot;12345\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;84554317-96d6-4015-9c4e-200301acbdd9&quot;,&quot;parentUUID&quot;:&quot;1f767711-81c5-4f4c-a563-01d40e76ebdc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d3c2516f-8515-48e4-b467-499940fef4b0&quot;,&quot;adcb0d47-5734-4032-a679-3d4df5bde4ec&quot;,&quot;f0e46094-1dba-4684-aaa3-a4b217707221&quot;,&quot;84554317-96d6-4015-9c4e-200301acbdd9&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:63,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;1f07ea92-a9ed-4b71-8761-c1bc4ebcc3bb&quot;,&quot;title&quot;:&quot;/notBlocked&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/user.js&quot;,&quot;file&quot;:&quot;/test/user.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 401 if not authorized&quot;,&quot;fullTitle&quot;:&quot;/api/user /notBlocked Should respond with 401 if not authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.get(\&quot;/api/user/notBlocked\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3ef05bb8-18b9-48dc-a1d7-2f7f2b7c42d1&quot;,&quot;parentUUID&quot;:&quot;1f07ea92-a9ed-4b71-8761-c1bc4ebcc3bb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 403 if user is blocked&quot;,&quot;fullTitle&quot;:&quot;/api/user /notBlocked should respond with 403 if user is blocked&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:22,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;01590243399\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;test\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n}).expect(201);\nconst token = genToken(\&quot;01590243399\&quot;,1,\&quot;user\&quot;);\nawait blockUser(\&quot;01590243399\&quot;);\nres = await request(server)\n.get(\&quot;/api/user/notBlocked\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(403);\ndeleteUser(\&quot;01590243399\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;811bda3a-107e-4680-8fda-033e9c2430e1&quot;,&quot;parentUUID&quot;:&quot;1f07ea92-a9ed-4b71-8761-c1bc4ebcc3bb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3ef05bb8-18b9-48dc-a1d7-2f7f2b7c42d1&quot;,&quot;811bda3a-107e-4680-8fda-033e9c2430e1&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:24,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;39d2ccb6-aa49-4e94-b2f5-d96ef8b99150&quot;,&quot;title&quot;:&quot;/api/user/updateImage&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/user.js&quot;,&quot;file&quot;:&quot;/test/user.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should responed with 200 if updated&quot;,&quot;fullTitle&quot;:&quot;/api/user /api/user/updateImage Should responed with 200 if updated&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:18,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;01590243399\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;test\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n}).expect(201);\nconst token = genToken(\&quot;01590243399\&quot;,1,\&quot;user\&quot;);\nres = await request(server)\n.patch(\&quot;/api/user/updateImage\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.set(&#x27;Content-Type&#x27;, &#x27;application/x-www-form-urlencoded&#x27;)\n.attach(&#x27;file&#x27;,path.resolve(__dirname, \&quot;../logo.png\&quot;))\n.expect(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d049313d-a5ea-4fa0-a551-41b2f0703529&quot;,&quot;parentUUID&quot;:&quot;39d2ccb6-aa49-4e94-b2f5-d96ef8b99150&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should responed with 403 if type not allowed&quot;,&quot;fullTitle&quot;:&quot;/api/user /api/user/updateImage Should responed with 403 if type not allowed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:43,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01590243399\&quot;,1,\&quot;user\&quot;);\nlet res = await request(server)\n.patch(\&quot;/api/user/updateImage\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.set(&#x27;Content-Type&#x27;, &#x27;application/x-www-form-urlencoded&#x27;)\n.attach(&#x27;file&#x27;,path.resolve(__dirname, \&quot;../udemy-accs.txt\&quot;))\n.expect(403);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6ba90028-fdd5-4559-89b4-ea979f696464&quot;,&quot;parentUUID&quot;:&quot;39d2ccb6-aa49-4e94-b2f5-d96ef8b99150&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should responed with 401 not authorized&quot;,&quot;fullTitle&quot;:&quot;/api/user /api/user/updateImage Should responed with 401 not authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01590241\&quot;,1,\&quot;user\&quot;);\nlet res = await request(server)\n.patch(\&quot;/api/user/updateImage\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.set(&#x27;Content-Type&#x27;, &#x27;application/x-www-form-urlencoded&#x27;)\n.attach(&#x27;file&#x27;,path.resolve(__dirname, \&quot;../logo.png\&quot;))\n.expect(401);\ndeleteUser(\&quot;01590243399\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c1a6bbdc-7a4c-4291-80d8-0e8a94b09901&quot;,&quot;parentUUID&quot;:&quot;39d2ccb6-aa49-4e94-b2f5-d96ef8b99150&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d049313d-a5ea-4fa0-a551-41b2f0703529&quot;,&quot;6ba90028-fdd5-4559-89b4-ea979f696464&quot;,&quot;c1a6bbdc-7a4c-4291-80d8-0e8a94b09901&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:65,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;d64409bc-3a95-4a30-a4bd-a9ad48734607&quot;,&quot;title&quot;:&quot;/getUser&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/user.js&quot;,&quot;file&quot;:&quot;/test/user.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 401 if not authorized&quot;,&quot;fullTitle&quot;:&quot;/api/user /getUser Should respond with 401 if not authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/user/getUser\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b5bd0a29-66e8-47b7-ab1f-5926f4118661&quot;,&quot;parentUUID&quot;:&quot;d64409bc-3a95-4a30-a4bd-a9ad48734607&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 404 if user not found&quot;,&quot;fullTitle&quot;:&quot;/api/user /getUser should respond with 404 if user not found&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01590243399\&quot;,1,\&quot;user\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/user/getUser\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({ \&quot;phone_number\&quot;: \&quot;9868956981256\&quot;, })\n.expect(404);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f241c5d5-8023-4a79-80d2-03c646346b86&quot;,&quot;parentUUID&quot;:&quot;d64409bc-3a95-4a30-a4bd-a9ad48734607&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 200 if got user successfully&quot;,&quot;fullTitle&quot;:&quot;/api/user /getUser should respond with 200 if got user successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;01590243399\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;test\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n}).expect(201);\nconst token = genToken(\&quot;015902433399\&quot;,1,\&quot;user\&quot;);\nres = await request(server)\n.post(\&quot;/api/user/getUser\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({ \&quot;phone_number\&quot;: \&quot;01590243399\&quot;, })\n.expect(200);\ndeleteUser(\&quot;01590243399\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3acc8f63-518d-4eec-871f-e83b35c55917&quot;,&quot;parentUUID&quot;:&quot;d64409bc-3a95-4a30-a4bd-a9ad48734607&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b5bd0a29-66e8-47b7-ab1f-5926f4118661&quot;,&quot;f241c5d5-8023-4a79-80d2-03c646346b86&quot;,&quot;3acc8f63-518d-4eec-871f-e83b35c55917&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:12,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;7.1.2&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;6.1.1&quot;},&quot;marge&quot;:{&quot;version&quot;:&quot;5.1.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;reportDir&quot;:&quot;mochawesome-report&quot;,&quot;reportTitle&quot;:&quot;Hospital&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;mochawesome-report/assets&quot;,&quot;jsonFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/mochawesome-report/mochawesome.json&quot;,&quot;htmlFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/mochawesome-report/mochawesome.html&quot;}"><div id="report"></div><script src="assets/app.js"></script></body></html>