<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets/app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:45,&quot;tests&quot;:107,&quot;passes&quot;:107,&quot;pending&quot;:0,&quot;failures&quot;:0,&quot;start&quot;:&quot;2020-06-05T16:06:12.478Z&quot;,&quot;end&quot;:&quot;2020-06-05T16:06:13.895Z&quot;,&quot;duration&quot;:1417,&quot;testsRegistered&quot;:107,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;0deb587e-d844-491c-b8ca-d4d876faeb7b&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;37effaa4-3101-47d5-bab6-34258e40fd71&quot;,&quot;title&quot;:&quot;/api/appointments&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/appointments.test.js&quot;,&quot;file&quot;:&quot;/test/appointments.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/appointments \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;server = require(\&quot;../app\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6111fb91-f512-4a95-8118-d2c17766acfe&quot;,&quot;parentUUID&quot;:&quot;37effaa4-3101-47d5-bab6-34258e40fd71&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/appointments \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c1077aa6-7a83-475e-af85-916e92d4d32c&quot;,&quot;parentUUID&quot;:&quot;37effaa4-3101-47d5-bab6-34258e40fd71&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;1585f45b-b656-45b3-aa57-16f8852afcb3&quot;,&quot;title&quot;:&quot;/addAppointment&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/appointments.test.js&quot;,&quot;file&quot;:&quot;/test/appointments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /addAppointment Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:38,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/appointments/addAppointment\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4cdf6b1d-3097-468d-bd92-8e25227592b2&quot;,&quot;parentUUID&quot;:&quot;1585f45b-b656-45b3-aa57-16f8852afcb3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /addAppointment Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:31,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/appointments/addAppointment\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;slot_id\&quot;: 1,\n    \&quot;user_id\&quot;:44554,\n    })\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bd50a9fe-5c81-4529-b870-5d1926fef7c8&quot;,&quot;parentUUID&quot;:&quot;1585f45b-b656-45b3-aa57-16f8852afcb3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 200 addedd Successfully&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /addAppointment Should respond 200 addedd Successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:79,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;user\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/appointments/addAppointment\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;slot_id\&quot;: 1,\n    \&quot;date\&quot;:\&quot;2020-05-28\&quot;\n    })\n.expect(201);\nconst appID = res.body.data.appointment_id;\ndeleteUser(\&quot;01590243399\&quot;);\ndeleteAppointment(appID);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ac0b7e2d-b1fd-47b2-a12c-d983891e1aef&quot;,&quot;parentUUID&quot;:&quot;1585f45b-b656-45b3-aa57-16f8852afcb3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4cdf6b1d-3097-468d-bd92-8e25227592b2&quot;,&quot;bd50a9fe-5c81-4529-b870-5d1926fef7c8&quot;,&quot;ac0b7e2d-b1fd-47b2-a12c-d983891e1aef&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:148,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;95e1de51-1642-4da2-9d1f-23df77cea385&quot;,&quot;title&quot;:&quot;/addConfirmedAppointment&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/appointments.test.js&quot;,&quot;file&quot;:&quot;/test/appointments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /addConfirmedAppointment Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/appointments/addConfirmedAppointment\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0ab92651-5126-472f-a3b3-da60194cb712&quot;,&quot;parentUUID&quot;:&quot;95e1de51-1642-4da2-9d1f-23df77cea385&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /addConfirmedAppointment Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/appointments/addConfirmedAppointment\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;slot_id\&quot;: 1,\n    \&quot;user_id\&quot;:44554,\n    })\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2312b6f7-6ee4-4754-a00f-6bfb191f211c&quot;,&quot;parentUUID&quot;:&quot;95e1de51-1642-4da2-9d1f-23df77cea385&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 200 addedd Successfully&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /addConfirmedAppointment Should respond 200 addedd Successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:66,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;01590243399\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;djdj84\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n})\n.expect(201);\nconst userId = res.body.data.user_id;\n res = await request(server)\n.post(\&quot;/api/appointments/addConfirmedAppointment\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;slot_id\&quot;: 1,\n    \&quot;user_id\&quot;:userId,\n    \&quot;date\&quot;:\&quot;2020-05-28\&quot;\n    })\n.expect(201);\nexpect(res.body.data.appointment_status).to.equal(\&quot;upcoming\&quot;);\nconst appID = res.body.data.appointment_id;\ndeleteUser(\&quot;01590243399\&quot;);\ndeleteAppointment(appID);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d0c75d81-c275-401b-9a6e-0c2b5daafd42&quot;,&quot;parentUUID&quot;:&quot;95e1de51-1642-4da2-9d1f-23df77cea385&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0ab92651-5126-472f-a3b3-da60194cb712&quot;,&quot;2312b6f7-6ee4-4754-a00f-6bfb191f211c&quot;,&quot;d0c75d81-c275-401b-9a6e-0c2b5daafd42&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:73,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;d489a5ef-9ce7-4bf0-b978-acc960dd89b0&quot;,&quot;title&quot;:&quot;/getUserApps&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/appointments.test.js&quot;,&quot;file&quot;:&quot;/test/appointments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /getUserApps Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/appointments/getUserApps\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;558549e9-51d3-45b4-a692-05c95675d1cc&quot;,&quot;parentUUID&quot;:&quot;d489a5ef-9ce7-4bf0-b978-acc960dd89b0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /getUserApps Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/appointments/getUserApps\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;slot_id\&quot;: 1,\n    \&quot;user_id\&quot;:44554,\n    })\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6a3bb9c8-a127-4853-ba4d-518a06e1ce9a&quot;,&quot;parentUUID&quot;:&quot;d489a5ef-9ce7-4bf0-b978-acc960dd89b0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 200 got Successfully&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /getUserApps Should respond 200 got Successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/appointments/addAppointment\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;slot_id\&quot;: 1,\n    \&quot;date\&quot;:\&quot;2020-05-28\&quot;\n    })\n.expect(201);\nconst appID = res.body.data.appointment_id;\nres = await request(server)\n.post(\&quot;/api/appointments/getUserApps\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;user_id\&quot;:1,\n    })\n.expect(200);\ndeleteAppointment(appID);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b7234610-76ee-4aae-8fec-d1ba36276e4c&quot;,&quot;parentUUID&quot;:&quot;d489a5ef-9ce7-4bf0-b978-acc960dd89b0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;558549e9-51d3-45b4-a692-05c95675d1cc&quot;,&quot;6a3bb9c8-a127-4853-ba4d-518a06e1ce9a&quot;,&quot;b7234610-76ee-4aae-8fec-d1ba36276e4c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:17,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;26c6557b-02b5-46a6-9bce-f1e859666d76&quot;,&quot;title&quot;:&quot;/finishedAppointments&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/appointments.test.js&quot;,&quot;file&quot;:&quot;/test/appointments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /finishedAppointments Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.get(\&quot;/api/appointments/finishedAppointments\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0a9bb2f7-bb71-4f43-8b1b-b92bd3121eea&quot;,&quot;parentUUID&quot;:&quot;26c6557b-02b5-46a6-9bce-f1e859666d76&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 200 got Successfully&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /finishedAppointments Should respond 200 got Successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;user\&quot;);\nlet res = await request(server)\n.get(\&quot;/api/appointments/finishedAppointments\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;442cf462-511a-47d4-a5e3-daa10e85cc0a&quot;,&quot;parentUUID&quot;:&quot;26c6557b-02b5-46a6-9bce-f1e859666d76&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0a9bb2f7-bb71-4f43-8b1b-b92bd3121eea&quot;,&quot;442cf462-511a-47d4-a5e3-daa10e85cc0a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:5,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;da188729-3684-4fa8-85b0-a7c9bb0bdfad&quot;,&quot;title&quot;:&quot;/upcomingAppointments&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/appointments.test.js&quot;,&quot;file&quot;:&quot;/test/appointments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /upcomingAppointments Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.get(\&quot;/api/appointments/upcomingAppointments\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1644a12e-b329-4a28-9b0c-30e92a1d1a39&quot;,&quot;parentUUID&quot;:&quot;da188729-3684-4fa8-85b0-a7c9bb0bdfad&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 200 got Successfully&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /upcomingAppointments Should respond 200 got Successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;user\&quot;);\nlet res = await request(server)\n.get(\&quot;/api/appointments/upcomingAppointments\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4ddffd12-8757-4591-b093-b5c548b5e4b3&quot;,&quot;parentUUID&quot;:&quot;da188729-3684-4fa8-85b0-a7c9bb0bdfad&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1644a12e-b329-4a28-9b0c-30e92a1d1a39&quot;,&quot;4ddffd12-8757-4591-b093-b5c548b5e4b3&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;3ea177ba-8214-48b0-b886-da39d4c47c43&quot;,&quot;title&quot;:&quot;/doctorFinishedAppointments&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/appointments.test.js&quot;,&quot;file&quot;:&quot;/test/appointments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /doctorFinishedAppointments Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.get(\&quot;/api/appointments/doctorFinishedAppointments\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;91a2a966-2691-44f1-83ae-9382d63a78d9&quot;,&quot;parentUUID&quot;:&quot;3ea177ba-8214-48b0-b886-da39d4c47c43&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 200 got Successfully&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /doctorFinishedAppointments Should respond 200 got Successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;doctor\&quot;);\nlet res = await request(server)\n.get(\&quot;/api/appointments/doctorFinishedAppointments\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cb83b254-9ce8-4ea1-9e2c-e5675d0bd656&quot;,&quot;parentUUID&quot;:&quot;3ea177ba-8214-48b0-b886-da39d4c47c43&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;91a2a966-2691-44f1-83ae-9382d63a78d9&quot;,&quot;cb83b254-9ce8-4ea1-9e2c-e5675d0bd656&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:5,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;f2c2be9f-19e3-4127-a376-66715301cbbb&quot;,&quot;title&quot;:&quot;/doctorUpcomingAppointments&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/appointments.test.js&quot;,&quot;file&quot;:&quot;/test/appointments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /doctorUpcomingAppointments Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.get(\&quot;/api/appointments/doctorUpcomingAppointments\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;90184f36-5d59-4f3c-9d4a-31c39445eb86&quot;,&quot;parentUUID&quot;:&quot;f2c2be9f-19e3-4127-a376-66715301cbbb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 200 got Successfully&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /doctorUpcomingAppointments Should respond 200 got Successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;doctor\&quot;);\nlet res = await request(server)\n.get(\&quot;/api/appointments/doctorUpcomingAppointments\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;12074a69-4795-473b-977c-fd4a65acb30a&quot;,&quot;parentUUID&quot;:&quot;f2c2be9f-19e3-4127-a376-66715301cbbb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;90184f36-5d59-4f3c-9d4a-31c39445eb86&quot;,&quot;12074a69-4795-473b-977c-fd4a65acb30a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;593d909f-09eb-4730-b7df-1cd7a880076b&quot;,&quot;title&quot;:&quot;/getDocApps&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/appointments.test.js&quot;,&quot;file&quot;:&quot;/test/appointments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /getDocApps Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/appointments/getDocApps\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;82c270a2-53b0-4571-aafa-a7146c9e154f&quot;,&quot;parentUUID&quot;:&quot;593d909f-09eb-4730-b7df-1cd7a880076b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /getDocApps Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/appointments/getDocApps\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;slot_id\&quot;: 1,\n    \&quot;doctor_id\&quot;:44554,\n    })\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0a9227d7-dbab-4b07-8136-dfd8527d158a&quot;,&quot;parentUUID&quot;:&quot;593d909f-09eb-4730-b7df-1cd7a880076b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 200 got Successfully&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /getDocApps Should respond 200 got Successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/appointments/addAppointment\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;slot_id\&quot;: 1,\n    \&quot;date\&quot;:\&quot;2020-05-28\&quot;\n    })\n.expect(201);\nconst appID = res.body.data.appointment_id;\nres = await request(server)\n.post(\&quot;/api/appointments/getDocApps\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;doctor_id\&quot;:1,\n    })\n.expect(200);\ndeleteUser(\&quot;01595543366\&quot;);\ndeleteAppointment(appID);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;88d88ddd-94e8-41eb-aec4-676e2cff66a5&quot;,&quot;parentUUID&quot;:&quot;593d909f-09eb-4730-b7df-1cd7a880076b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;82c270a2-53b0-4571-aafa-a7146c9e154f&quot;,&quot;0a9227d7-dbab-4b07-8136-dfd8527d158a&quot;,&quot;88d88ddd-94e8-41eb-aec4-676e2cff66a5&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:12,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;800e4b4b-4d5b-4e1e-a4be-8b089c868a63&quot;,&quot;title&quot;:&quot;/cancelAppointment&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/appointments.test.js&quot;,&quot;file&quot;:&quot;/test/appointments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /cancelAppointment Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.patch(\&quot;/api/appointments/cancelAppointment\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2294f376-8f6e-440f-9c72-56d39aa07ee0&quot;,&quot;parentUUID&quot;:&quot;800e4b4b-4d5b-4e1e-a4be-8b089c868a63&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /cancelAppointment Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.patch(\&quot;/api/appointments/cancelAppointment\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;aapointment_id\&quot;:\&quot;djdkj\&quot;,\n    })\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5aa8d24f-16cd-4e63-91b9-397974718c58&quot;,&quot;parentUUID&quot;:&quot;800e4b4b-4d5b-4e1e-a4be-8b089c868a63&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 200 updated Successfully&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /cancelAppointment Should respond 200 updated Successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/appointments/addAppointment\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;slot_id\&quot;: 1,\n    \&quot;date\&quot;:\&quot;2020-05-28\&quot;\n    })\n.expect(201);\nconst appID = res.body.data.appointment_id;\nres = await request(server)\n.patch(\&quot;/api/appointments/cancelAppointment\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;appointment_id\&quot;:appID,\n    })\n.expect(200);\nexpect(res.body.data.appointment_status).to.equal(\&quot;canceled\&quot;);\ndeleteAppointment(appID);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ac531011-bf7d-4926-9cc6-08ae2426e262&quot;,&quot;parentUUID&quot;:&quot;800e4b4b-4d5b-4e1e-a4be-8b089c868a63&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;2294f376-8f6e-440f-9c72-56d39aa07ee0&quot;,&quot;5aa8d24f-16cd-4e63-91b9-397974718c58&quot;,&quot;ac531011-bf7d-4926-9cc6-08ae2426e262&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:18,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;11c32192-9840-439d-85a2-c3f273b5d5bb&quot;,&quot;title&quot;:&quot;/confirmAppointment&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/appointments.test.js&quot;,&quot;file&quot;:&quot;/test/appointments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /confirmAppointment Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.patch(\&quot;/api/appointments/confirmAppointment\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d632a021-afd4-4397-afd0-fba95808f215&quot;,&quot;parentUUID&quot;:&quot;11c32192-9840-439d-85a2-c3f273b5d5bb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /confirmAppointment Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;user\&quot;);\nlet res = await request(server)\n.patch(\&quot;/api/appointments/confirmAppointment\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;aapointment_id\&quot;:\&quot;djdkj\&quot;,\n    })\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;69c21bc8-8e8f-4434-9416-a6e33f1a6ee7&quot;,&quot;parentUUID&quot;:&quot;11c32192-9840-439d-85a2-c3f273b5d5bb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 200 updated Successfully&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /confirmAppointment Should respond 200 updated Successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;user\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/appointments/addAppointment\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;slot_id\&quot;: 1,\n    \&quot;date\&quot;:\&quot;2020-05-28\&quot;\n    })\n.expect(201);\nconst appID = res.body.data.appointment_id;\nres = await request(server)\n.patch(\&quot;/api/appointments/confirmAppointment\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;appointment_id\&quot;:appID,\n    })\n.expect(200);\nexpect(res.body.data.appointment_status).to.equal(\&quot;upcoming\&quot;);\ndeleteAppointment(appID);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;391ae474-b42b-4fd0-8e1c-b7b2f25300bb&quot;,&quot;parentUUID&quot;:&quot;11c32192-9840-439d-85a2-c3f273b5d5bb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d632a021-afd4-4397-afd0-fba95808f215&quot;,&quot;69c21bc8-8e8f-4434-9416-a6e33f1a6ee7&quot;,&quot;391ae474-b42b-4fd0-8e1c-b7b2f25300bb&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:17,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;15ddc677-0b7b-4c2f-86fd-d3c949dd6bfb&quot;,&quot;title&quot;:&quot;/docAppsByDate&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/appointments.test.js&quot;,&quot;file&quot;:&quot;/test/appointments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /docAppsByDate Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/appointments/docAppsByDate\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;255272a6-6cfa-48dc-8e15-89ba03844a2a&quot;,&quot;parentUUID&quot;:&quot;15ddc677-0b7b-4c2f-86fd-d3c949dd6bfb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /docAppsByDate Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;doctor\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/appointments/docAppsByDate\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;aapointment_id\&quot;:\&quot;djdkj\&quot;,\n    })\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;405eb365-f259-49a7-b651-02d3e7f8ebe6&quot;,&quot;parentUUID&quot;:&quot;15ddc677-0b7b-4c2f-86fd-d3c949dd6bfb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 200 if we got the apps successfully&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /docAppsByDate Should respond with 200 if we got the apps successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(&#x27;01090243795&#x27;,1,\&quot;doctor\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/appointments/docAppsByDate\&quot;)\n.set(&#x27;Authorization&#x27;,`Bearer ${token}`)\n.send({\n    \&quot;date\&quot;:&#x27;2020-03-20&#x27;\n})\n.expect(200)\n// expect(res.body.data[0].date).to.equal(\&quot;2020-03-20\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;37482841-403d-4ad8-be69-20124575ab33&quot;,&quot;parentUUID&quot;:&quot;15ddc677-0b7b-4c2f-86fd-d3c949dd6bfb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;255272a6-6cfa-48dc-8e15-89ba03844a2a&quot;,&quot;405eb365-f259-49a7-b651-02d3e7f8ebe6&quot;,&quot;37482841-403d-4ad8-be69-20124575ab33&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:7,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;291e6bc6-47ab-4f98-a773-e993089fc39b&quot;,&quot;title&quot;:&quot;/api/auth&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/auth.test.js&quot;,&quot;file&quot;:&quot;/test/auth.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/auth \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;server = require(\&quot;../app\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c96719f8-6c45-41bb-97d0-fc81b399fc88&quot;,&quot;parentUUID&quot;:&quot;291e6bc6-47ab-4f98-a773-e993089fc39b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/auth \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;804af161-4743-4b45-8d07-24cf938b3fb3&quot;,&quot;parentUUID&quot;:&quot;291e6bc6-47ab-4f98-a773-e993089fc39b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;3c8e24fe-19cd-4f6e-80de-1f13192c1c32&quot;,&quot;title&quot;:&quot;/signup&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/auth.test.js&quot;,&quot;file&quot;:&quot;/test/auth.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should respond with 400 if one of inputs is incorrect or missing (SCHEMA VALIDATION)&quot;,&quot;fullTitle&quot;:&quot;/api/auth /signup should respond with 400 if one of inputs is incorrect or missing (SCHEMA VALIDATION)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;).expect(400);  \nres = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({password:\&quot;fawzi\&quot;})\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a5a16cd9-f4de-4302-81d8-1fbb8f936eb5&quot;,&quot;parentUUID&quot;:&quot;3c8e24fe-19cd-4f6e-80de-1f13192c1c32&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 201 if user succefully registered&quot;,&quot;fullTitle&quot;:&quot;/api/auth /signup should respond with 201 if user succefully registered&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;01590243399\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;djdj84\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n})\n.expect(201);\nexpect(res.body.data.phone_number).to.equal(\&quot;01590243399\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;14f3c7f3-7b99-497f-bd1e-73da1d8c6fff&quot;,&quot;parentUUID&quot;:&quot;3c8e24fe-19cd-4f6e-80de-1f13192c1c32&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 403 if phone_number is already registered&quot;,&quot;fullTitle&quot;:&quot;/api/auth /signup should respond with 403 if phone_number is already registered&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;01590243399\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;djdj84\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n})\n.expect(403);\ndeleteUser(\&quot;01590243399\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9fa7c24a-c55a-47f1-84d9-54e8f65bd66c&quot;,&quot;parentUUID&quot;:&quot;3c8e24fe-19cd-4f6e-80de-1f13192c1c32&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a5a16cd9-f4de-4302-81d8-1fbb8f936eb5&quot;,&quot;14f3c7f3-7b99-497f-bd1e-73da1d8c6fff&quot;,&quot;9fa7c24a-c55a-47f1-84d9-54e8f65bd66c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:16,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;71fd2bcd-28c6-4399-9bb3-c888f64e1a5b&quot;,&quot;title&quot;:&quot;/signin&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/auth.test.js&quot;,&quot;file&quot;:&quot;/test/auth.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should respond with 400 if input are missing (SCHEMA VALIDATION)&quot;,&quot;fullTitle&quot;:&quot;/api/auth /signin should respond with 400 if input are missing (SCHEMA VALIDATION)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signin\&quot;)\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;df6f42c4-ef5e-4077-b781-a64252a53b4f&quot;,&quot;parentUUID&quot;:&quot;71fd2bcd-28c6-4399-9bb3-c888f64e1a5b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 401 when phone number notfound `backend side`&quot;,&quot;fullTitle&quot;:&quot;/api/auth /signin should respond with 401 when phone number notfound `backend side`&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n .post(\&quot;/api/auth/signin\&quot;)\n .send({\&quot;phone_number\&quot;:\&quot;01590243311\&quot;})\n .expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c693412e-23f4-4110-9481-c809bc60da30&quot;,&quot;parentUUID&quot;:&quot;71fd2bcd-28c6-4399-9bb3-c888f64e1a5b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 200 if user loged in successfully&quot;,&quot;fullTitle&quot;:&quot;/api/auth /signin should respond with 200 if user loged in successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;01590243311\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;djdj84\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n}).expect(201);\nexpect(res.body.data.phone_number).to.equal(\&quot;01590243311\&quot;);\nres = await request(server)\n.post(\&quot;/api/auth/signin\&quot;)\n.send({\&quot;phone_number\&quot;:\&quot;01590243311\&quot;})\n.expect(200);\ndeleteUser(\&quot;01590243311\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ce8a2dfa-310c-4f7c-b536-8e6d6f119d9f&quot;,&quot;parentUUID&quot;:&quot;71fd2bcd-28c6-4399-9bb3-c888f64e1a5b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;df6f42c4-ef5e-4077-b781-a64252a53b4f&quot;,&quot;c693412e-23f4-4110-9481-c809bc60da30&quot;,&quot;ce8a2dfa-310c-4f7c-b536-8e6d6f119d9f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:17,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;42b71a7d-3c60-4010-be2d-c52e9238e3bc&quot;,&quot;title&quot;:&quot;/updateFirebaseToken&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/auth.test.js&quot;,&quot;file&quot;:&quot;/test/auth.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 400 if one of inpus is missed (SCHEMA VALIDATION)&quot;,&quot;fullTitle&quot;:&quot;/api/auth /updateFirebaseToken Should respond with 400 if one of inpus is missed (SCHEMA VALIDATION)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01590243399\&quot;,1,\&quot;user\&quot;);\nlet res = await request(server)\n.patch(\&quot;/api/auth/updateFirebaseToken\&quot;)\n.send({\&quot;notInTheSchema\&quot;:\&quot;haka\&quot;})\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e2b03303-ab04-4ac3-8303-5e9c2006278e&quot;,&quot;parentUUID&quot;:&quot;42b71a7d-3c60-4010-be2d-c52e9238e3bc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 401 if phone number not found `backend side`&quot;,&quot;fullTitle&quot;:&quot;/api/auth /updateFirebaseToken should respond with 401 if phone number not found `backend side`&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243788\&quot;,1,\&quot;user\&quot;);\nlet res = await request(server)\n.patch(\&quot;/api/auth/updateFirebaseToken\&quot;)\n.send({\&quot;new_token\&quot;:\&quot;djkdjkdjk\&quot;})\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;47c876ca-bc3c-49db-b831-3b136ed7602f&quot;,&quot;parentUUID&quot;:&quot;42b71a7d-3c60-4010-be2d-c52e9238e3bc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 200 if we updated the token_id successfully&quot;,&quot;fullTitle&quot;:&quot;/api/auth /updateFirebaseToken should respond with 200 if we updated the token_id successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;01590243388\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;test\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;\n}).expect(201);\nconst token = genToken(\&quot;01590243388\&quot;,1,\&quot;user\&quot;);\nres = await request(server)\n.patch(\&quot;/api/auth/updateFirebaseToken\&quot;)\n.send({\&quot;new_token\&quot;:\&quot;123456789elhamdullah\&quot;})\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(200);\nexpect(res.body.data.updated_token).to.equal(\&quot;123456789elhamdullah\&quot;);\ndeleteUser(\&quot;01590243388\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bc9a0c64-a1c1-4b95-bdc4-ac2ad2362816&quot;,&quot;parentUUID&quot;:&quot;42b71a7d-3c60-4010-be2d-c52e9238e3bc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 403 if user is blocked&quot;,&quot;fullTitle&quot;:&quot;/api/auth /updateFirebaseToken should respond with 403 if user is blocked&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:22,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;01590243399\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;test\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n}).expect(201);\nconst token = genToken(\&quot;01590243399\&quot;,1,\&quot;user\&quot;);\nawait blockUser(\&quot;01590243399\&quot;);\nres = await request(server)\n.patch(\&quot;/api/auth/updateFirebaseToken\&quot;)\n.send({\&quot;new_token\&quot;:\&quot;123456789elhamdullah\&quot;})\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(403);\ndeleteUser(\&quot;01590243399\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c429239f-fadf-4bbf-8d7b-43c6e01a26f8&quot;,&quot;parentUUID&quot;:&quot;42b71a7d-3c60-4010-be2d-c52e9238e3bc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 401 if user is not authorized &quot;,&quot;fullTitle&quot;:&quot;/api/auth /updateFirebaseToken should respond with 401 if user is not authorized &quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;01590243391\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;test\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n}).expect(201);\n// const token = genToken(\&quot;01590243399\&quot;,\&quot;user\&quot;);\nres = await request(server)\n.patch(\&quot;/api/auth/updateFirebaseToken\&quot;)\n.send({\&quot;new_token\&quot;:\&quot;123456789elhamdullah\&quot;})\n// .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(401);\ndeleteUser(\&quot;01590243391\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;caa1efa1-f400-468d-9246-f2ecfef55c27&quot;,&quot;parentUUID&quot;:&quot;42b71a7d-3c60-4010-be2d-c52e9238e3bc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e2b03303-ab04-4ac3-8303-5e9c2006278e&quot;,&quot;47c876ca-bc3c-49db-b831-3b136ed7602f&quot;,&quot;bc9a0c64-a1c1-4b95-bdc4-ac2ad2362816&quot;,&quot;c429239f-fadf-4bbf-8d7b-43c6e01a26f8&quot;,&quot;caa1efa1-f400-468d-9246-f2ecfef55c27&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:49,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;786cd766-6f6c-4d25-9a10-51383acb1006&quot;,&quot;title&quot;:&quot;/signDoctor&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/auth.test.js&quot;,&quot;file&quot;:&quot;/test/auth.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should respond with 400 if any inputs are incorrect or missed (SCHEMA VALIDATION)&quot;,&quot;fullTitle&quot;:&quot;/api/auth /signDoctor should respond with 400 if any inputs are incorrect or missed (SCHEMA VALIDATION)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signDoctor\&quot;)\n.send({phone_number:\&quot;02903\&quot;})\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ce5eacaf-60b6-42c7-b6e8-83067df8b59b&quot;,&quot;parentUUID&quot;:&quot;786cd766-6f6c-4d25-9a10-51383acb1006&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 401 if phone number or password are incorrect `backend side`&quot;,&quot;fullTitle&quot;:&quot;/api/auth /signDoctor should respond with 401 if phone number or password are incorrect `backend side`&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01590243399\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/controlPanel/addDoctor\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;phone_number\&quot;:\&quot;01090243795\&quot;,\n    \&quot;password\&quot;:\&quot;testtest\&quot;,\n    \&quot;first_name\&quot;:\&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;: \&quot;ahmed\&quot;,\n    \&quot;country\&quot;:\&quot;egypt\&quot;,\n    \&quot;category_id\&quot;:1,\n    \&quot;picture\&quot;:\&quot;fkfjkfj\&quot;,\n    \&quot;price\&quot;:\&quot;200\&quot;\n})\n.expect(201);\nres = await request(server)\n.post(\&quot;/api/auth/signDoctor\&quot;)\n.send({phone_number:\&quot;01090243794\&quot;,password:\&quot;01288\&quot;})\n.expect(401);\ndeleteDoctor(\&quot;01090243795\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fe1061ae-e973-4b4e-9329-0311ed03de01&quot;,&quot;parentUUID&quot;:&quot;786cd766-6f6c-4d25-9a10-51383acb1006&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ce5eacaf-60b6-42c7-b6e8-83067df8b59b&quot;,&quot;fe1061ae-e973-4b4e-9329-0311ed03de01&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:13,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;df71625a-204a-404d-b0c3-3229b6df3138&quot;,&quot;title&quot;:&quot;/updateDoctorFirebaseToken&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/auth.test.js&quot;,&quot;file&quot;:&quot;/test/auth.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 400 if one of inpus is missed (SCHEMA VALIDATION)&quot;,&quot;fullTitle&quot;:&quot;/api/auth /updateDoctorFirebaseToken Should respond with 400 if one of inpus is missed (SCHEMA VALIDATION)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01590243399\&quot;,1,\&quot;doctor\&quot;);\nlet res = await request(server)\n.patch(\&quot;/api/auth/updateDoctorFirebaseToken\&quot;)\n.send({\&quot;notInTheSchema\&quot;:\&quot;haka\&quot;})\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2090c8bd-8c24-444b-b5d1-92219b140f55&quot;,&quot;parentUUID&quot;:&quot;df71625a-204a-404d-b0c3-3229b6df3138&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 401 if phone number not found `backend side`&quot;,&quot;fullTitle&quot;:&quot;/api/auth /updateDoctorFirebaseToken should respond with 401 if phone number not found `backend side`&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243788\&quot;,1,\&quot;doctor\&quot;);\nlet res = await request(server)\n.patch(\&quot;/api/auth/updateDoctorFirebaseToken\&quot;)\n.send({\&quot;new_token\&quot;:\&quot;djkdjkdjk\&quot;})\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;140bda13-e90b-43bd-835d-654157161c4b&quot;,&quot;parentUUID&quot;:&quot;df71625a-204a-404d-b0c3-3229b6df3138&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 200 if we updated the Doctor token_id successfully&quot;,&quot;fullTitle&quot;:&quot;/api/auth /updateDoctorFirebaseToken should respond with 200 if we updated the Doctor token_id successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243788\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/controlPanel/addDoctor\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;phone_number\&quot;:\&quot;01090243795\&quot;,\n    \&quot;password\&quot;:\&quot;testtest\&quot;,\n    \&quot;first_name\&quot;:\&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;: \&quot;ahmed\&quot;,\n    \&quot;country\&quot;:\&quot;egypt\&quot;,\n    \&quot;category_id\&quot;:1,\n    \&quot;picture\&quot;:\&quot;fkfjkfj\&quot;,\n    \&quot;price\&quot;:\&quot;200\&quot;\n})\n.expect(201);\nexpect(res.body.data.phone_number).to.equal(\&quot;01090243795\&quot;);\nconst token2 = genToken(\&quot;01090243795\&quot;,1,\&quot;doctor\&quot;);\nres = await request(server)\n.patch(\&quot;/api/auth/updateDoctorFirebaseToken\&quot;)\n.send({\&quot;new_token\&quot;:\&quot;123456789elhamdullah\&quot;})\n.set(\&quot;Authorization\&quot;, `Bearer ${token2}`)\n.expect(200);\nexpect(res.body.data.updated_token).to.equal(\&quot;123456789elhamdullah\&quot;);\ndeleteDoctor(\&quot;01090243795\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;430eb056-2991-4a3a-a8ad-054cc325ecab&quot;,&quot;parentUUID&quot;:&quot;df71625a-204a-404d-b0c3-3229b6df3138&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 401 if Doctor is not authorized &quot;,&quot;fullTitle&quot;:&quot;/api/auth /updateDoctorFirebaseToken should respond with 401 if Doctor is not authorized &quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/controlPanel/addDoctor\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;phone_number\&quot;:\&quot;01010243795\&quot;,\n    \&quot;password\&quot;:\&quot;testtest\&quot;,\n    \&quot;first_name\&quot;:\&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;: \&quot;ahmed\&quot;,\n    \&quot;country\&quot;:\&quot;egypt\&quot;,\n    \&quot;category_id\&quot;:1,\n    \&quot;picture\&quot;:\&quot;fkfjkfj\&quot;,\n    \&quot;price\&quot;:\&quot;200\&quot;\n})\n.expect(201);\n// const token = genToken(\&quot;01590243399\&quot;,\&quot;doctor\&quot;);\nres = await request(server)\n.patch(\&quot;/api/auth/updateFirebaseToken\&quot;)\n.send({\&quot;new_token\&quot;:\&quot;123456789elhamdullah\&quot;})\n// .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(401);\ndeleteDoctor(\&quot;01010243795\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2ee9def6-75f4-42ca-86d0-667b220cd1c4&quot;,&quot;parentUUID&quot;:&quot;df71625a-204a-404d-b0c3-3229b6df3138&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;2090c8bd-8c24-444b-b5d1-92219b140f55&quot;,&quot;140bda13-e90b-43bd-835d-654157161c4b&quot;,&quot;430eb056-2991-4a3a-a8ad-054cc325ecab&quot;,&quot;2ee9def6-75f4-42ca-86d0-667b220cd1c4&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:24,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;e4bbf224-0cd4-488d-bf5e-d82df01a6c4b&quot;,&quot;title&quot;:&quot;/api/categories&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/categories.js&quot;,&quot;file&quot;:&quot;/test/categories.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/categories \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;server = require(\&quot;../app\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7470b5ed-72d1-46c7-98df-8cada676c4da&quot;,&quot;parentUUID&quot;:&quot;e4bbf224-0cd4-488d-bf5e-d82df01a6c4b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/categories \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b89f1ecc-6d6c-4071-9b3c-cef75ebf881f&quot;,&quot;parentUUID&quot;:&quot;e4bbf224-0cd4-488d-bf5e-d82df01a6c4b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;e1865b48-3e9c-4bdb-928a-4dbcfc8536da&quot;,&quot;title&quot;:&quot;/getCategories&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/categories.js&quot;,&quot;file&quot;:&quot;/test/categories.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/categories /getCategories Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.get(\&quot;/api/categories/getCategories\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;58631b8c-3abc-4287-b4ec-ec7663227dcc&quot;,&quot;parentUUID&quot;:&quot;e1865b48-3e9c-4bdb-928a-4dbcfc8536da&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 200 if got categories successfully&quot;,&quot;fullTitle&quot;:&quot;/api/categories /getCategories Should respond 200 if got categories successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;user\&quot;);\nlet res = await request(server)\n.get(\&quot;/api/categories/getCategories\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;28ea4c86-7496-4b9b-bf0b-c137db37d268&quot;,&quot;parentUUID&quot;:&quot;e1865b48-3e9c-4bdb-928a-4dbcfc8536da&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;58631b8c-3abc-4287-b4ec-ec7663227dcc&quot;,&quot;28ea4c86-7496-4b9b-bf0b-c137db37d268&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:9,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;dfdbcca3-e41c-4707-9f00-eaef434f7052&quot;,&quot;title&quot;:&quot;/api/controlPanel&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/controlPanel.test.js&quot;,&quot;file&quot;:&quot;/test/controlPanel.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;server = require(\&quot;../app\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d1b16a34-f566-4018-9c76-33c88d4a7465&quot;,&quot;parentUUID&quot;:&quot;dfdbcca3-e41c-4707-9f00-eaef434f7052&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cf498511-f713-4ac1-a800-58eecfa71884&quot;,&quot;parentUUID&quot;:&quot;dfdbcca3-e41c-4707-9f00-eaef434f7052&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;837c5adb-51e2-4926-869a-ad96bbce133c&quot;,&quot;title&quot;:&quot;/addingDoctor&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/controlPanel.test.js&quot;,&quot;file&quot;:&quot;/test/controlPanel.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 400 if one of inpus is missed or incorrect (SCHEMA VALIDATION)&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /addingDoctor Should respond with 400 if one of inpus is missed or incorrect (SCHEMA VALIDATION)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1, \&quot;admin\&quot;);\nconst res = await request(server)\n  .post(\&quot;/api/controlPanel/addDoctor\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5b4e1ba2-d656-468d-9254-cfe6cd632488&quot;,&quot;parentUUID&quot;:&quot;837c5adb-51e2-4926-869a-ad96bbce133c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 201 if doctor created successfully&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /addingDoctor Should respond with 201 if doctor created successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;11090243799\&quot;,1, \&quot;admin\&quot;);\nlet res = await request(server)\n  .post(\&quot;/api/controlPanel/addDoctor\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({\n    phone_number: \&quot;11090243799\&quot;,\n    password: \&quot;testtest\&quot;,\n    first_name: \&quot;fawzi\&quot;,\n    last_name: \&quot;ahmed\&quot;,\n    country: \&quot;egypt\&quot;,\n    category_id: 1,\n    picture: \&quot;fkfjkfj\&quot;,\n    price: \&quot;100\&quot;,\n  })\n  .expect(201);\nexpect(res.body.data.phone_number).to.equal(\&quot;11090243799\&quot;);\ndeleteDoctor(\&quot;11090243799\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9de7d37c-1bcc-4319-890a-b91ddf0297d4&quot;,&quot;parentUUID&quot;:&quot;837c5adb-51e2-4926-869a-ad96bbce133c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 403 if the phone number is already registered&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /addingDoctor Should respond with 403 if the phone number is already registered&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243798\&quot;,1, \&quot;admin\&quot;);\nlet res = await request(server)\n  .post(\&quot;/api/controlPanel/addDoctor\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({\n    phone_number: \&quot;01090243798\&quot;,\n    password: \&quot;testtest\&quot;,\n    first_name: \&quot;fawzi\&quot;,\n    last_name: \&quot;ahmed\&quot;,\n    country: \&quot;egypt\&quot;,\n    category_id: 1,\n    picture: \&quot;fkfjkfj\&quot;,\n    price: \&quot;100\&quot;,\n  })\n  .expect(201);\nexpect(res.body.data.phone_number).to.equal(\&quot;01090243798\&quot;);\nres = await request(server)\n  .post(\&quot;/api/controlPanel/addDoctor\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({\n    phone_number: \&quot;01090243798\&quot;,\n    password: \&quot;testtest\&quot;,\n    first_name: \&quot;fawzi\&quot;,\n    last_name: \&quot;ahmed\&quot;,\n    country: \&quot;egypt\&quot;,\n    category_id: 1,\n    picture: \&quot;fkfjkfj\&quot;,\n    price: \&quot;100\&quot;,\n  })\n  .expect(403);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b0ab3229-62bd-43d1-b130-9d19b7229424&quot;,&quot;parentUUID&quot;:&quot;837c5adb-51e2-4926-869a-ad96bbce133c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;5b4e1ba2-d656-468d-9254-cfe6cd632488&quot;,&quot;9de7d37c-1bcc-4319-890a-b91ddf0297d4&quot;,&quot;b0ab3229-62bd-43d1-b130-9d19b7229424&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:15,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;55379d11-b318-4293-a2d5-2227f59391fb&quot;,&quot;title&quot;:&quot;/addingAdmin&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/controlPanel.test.js&quot;,&quot;file&quot;:&quot;/test/controlPanel.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 400 if one of inpus is missed or incorrect (SCHEMA VALIDATION&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /addingAdmin Should respond with 400 if one of inpus is missed or incorrect (SCHEMA VALIDATION&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1, \&quot;admin\&quot;);\nlet res = await request(server)\n  .post(\&quot;/api/controlPanel/addAdmin\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({ name: \&quot;fawzi\&quot; })\n  .expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d1704088-de9f-4e46-8e4b-e99206dd9b0f&quot;,&quot;parentUUID&quot;:&quot;55379d11-b318-4293-a2d5-2227f59391fb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 201 if created successfully&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /addingAdmin Should respond with 201 if created successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;11090243799\&quot;,1, \&quot;admin\&quot;);\nlet res = await request(server)\n  .post(\&quot;/api/controlPanel/addAdmin\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({\n    phone_number: \&quot;11090243799\&quot;,\n    password: \&quot;testtest\&quot;,\n    name: \&quot;Fawzi E. Abdulfattah\&quot;,\n    role: \&quot;admin\&quot;,\n  })\n  .expect(201);\nexpect(res.body.data.phone_number).to.equal(\&quot;11090243799\&quot;);\ndeleteAdmin(\&quot;11090243799\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8524b548-fe8b-4f10-8e1f-b6a99b8d21d9&quot;,&quot;parentUUID&quot;:&quot;55379d11-b318-4293-a2d5-2227f59391fb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should Respond with 403 if phone number is already Registered&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /addingAdmin Should Respond with 403 if phone number is already Registered&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1, \&quot;admin\&quot;);\nlet res = await request(server)\n  .post(\&quot;/api/controlPanel/addAdmin\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({\n    phone_number: \&quot;01090243795\&quot;,\n    password: \&quot;testtest\&quot;,\n    name: \&quot;Fawzi E. Abdulfattah\&quot;,\n    role: \&quot;admin\&quot;,\n  })\n  .expect(403);\ndeleteAdmin(\&quot;01090243795\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e3dfdba7-18c1-4283-b602-2e0281587fbb&quot;,&quot;parentUUID&quot;:&quot;55379d11-b318-4293-a2d5-2227f59391fb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d1704088-de9f-4e46-8e4b-e99206dd9b0f&quot;,&quot;8524b548-fe8b-4f10-8e1f-b6a99b8d21d9&quot;,&quot;e3dfdba7-18c1-4283-b602-2e0281587fbb&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:17,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;1a62de07-e7b7-40f9-8d1c-dd8cbb49bb7d&quot;,&quot;title&quot;:&quot;/signAdmin&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/controlPanel.test.js&quot;,&quot;file&quot;:&quot;/test/controlPanel.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should respond with 400 if input are missing (SCHEMA VALIDATION)&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /signAdmin should respond with 400 if input are missing (SCHEMA VALIDATION)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n  .post(\&quot;/api/controlPanel/signAdmin\&quot;)\n  .expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;03ad5b8e-aafc-4a8f-9d7d-9a9e965a17d4&quot;,&quot;parentUUID&quot;:&quot;1a62de07-e7b7-40f9-8d1c-dd8cbb49bb7d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 401 when phone number is not found `backend side`&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /signAdmin should respond with 401 when phone number is not found `backend side`&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n  .post(\&quot;/api/controlPanel/signAdmin\&quot;)\n  .send({ phone_number: \&quot;01090243795\&quot;, password: \&quot;testest\&quot; })\n  .expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2f95c3c1-c564-4793-8681-ce8769c525a4&quot;,&quot;parentUUID&quot;:&quot;1a62de07-e7b7-40f9-8d1c-dd8cbb49bb7d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 200 if admin loged in successfully&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /signAdmin should respond with 200 if admin loged in successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1, \&quot;admin\&quot;);\nlet res = await request(server)\n  .post(\&quot;/api/controlPanel/addAdmin\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({\n    phone_number: \&quot;01090243795\&quot;,\n    password: \&quot;testtest\&quot;,\n    name: \&quot;Fawzi E. Abdulfattah\&quot;,\n    role: \&quot;admin\&quot;,\n  })\n  .expect(201);\nexpect(res.body.data.phone_number).to.equal(\&quot;01090243795\&quot;);\nres = await request(server)\n  .post(\&quot;/api/controlPanel/signAdmin\&quot;)\n  .send({ phone_number: \&quot;01090243795\&quot;, password: \&quot;testtest\&quot; })\n  .expect(200);\nexpect(res.body.data.phone_number).to.equal(\&quot;01090243795\&quot;);\ndeleteAdmin(\&quot;01090243795\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4a4e23b1-adde-4eaa-9e53-e18ff8b26224&quot;,&quot;parentUUID&quot;:&quot;1a62de07-e7b7-40f9-8d1c-dd8cbb49bb7d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;03ad5b8e-aafc-4a8f-9d7d-9a9e965a17d4&quot;,&quot;2f95c3c1-c564-4793-8681-ce8769c525a4&quot;,&quot;4a4e23b1-adde-4eaa-9e53-e18ff8b26224&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:19,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;3a7cee84-d7fc-4475-b2bf-f9a964adc1fc&quot;,&quot;title&quot;:&quot;/checkAdminByToken&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/controlPanel.test.js&quot;,&quot;file&quot;:&quot;/test/controlPanel.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 401 if admin is not authorized&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /checkAdminByToken Should respond with 401 if admin is not authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109024379785\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n  .post(\&quot;/api/controlPanel/checkAdminByToken\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1b5e0508-93eb-42ab-aedd-5738287cc93a&quot;,&quot;parentUUID&quot;:&quot;3a7cee84-d7fc-4475-b2bf-f9a964adc1fc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 200 if token is valid and referanced to admin&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /checkAdminByToken Should respond with 200 if token is valid and referanced to admin&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1, \&quot;admin\&quot;);\nlet res = await request(server)\n  .post(\&quot;/api/controlPanel/addAdmin\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({\n    phone_number: \&quot;01090243795\&quot;,\n    password: \&quot;testtest\&quot;,\n    name: \&quot;Fawzi E. Abdulfattah\&quot;,\n    role: \&quot;admin\&quot;,\n  })\n  .expect(201);\nres = await request(server)\n  .post(\&quot;/api/controlPanel/checkAdminByToken\&quot;)\n  .send({})\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .expect(200);\ndeleteAdmin(\&quot;01090243795\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a833a943-9d00-4d2d-9877-1e0170eef46a&quot;,&quot;parentUUID&quot;:&quot;3a7cee84-d7fc-4475-b2bf-f9a964adc1fc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1b5e0508-93eb-42ab-aedd-5738287cc93a&quot;,&quot;a833a943-9d00-4d2d-9877-1e0170eef46a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:16,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;dd0f3d3b-3194-46a5-a9ef-47ba0865fc6b&quot;,&quot;title&quot;:&quot;/addImage&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/controlPanel.test.js&quot;,&quot;file&quot;:&quot;/test/controlPanel.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should responed with 201 if uploaded&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /addImage Should responed with 201 if uploaded&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1, \&quot;admin\&quot;);\nlet res = await request(server)\n  .post(\&quot;/api/controlPanel/addImage\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .set(\&quot;Content-Type\&quot;, \&quot;application/x-www-form-urlencoded\&quot;)\n  .attach(\&quot;file\&quot;, path.resolve(__dirname, \&quot;../logo.png\&quot;))\n  .expect(201);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5d0d7827-aee6-4b58-b4a9-0e07078a01f3&quot;,&quot;parentUUID&quot;:&quot;dd0f3d3b-3194-46a5-a9ef-47ba0865fc6b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should responed with 403 if type not allowed&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /addImage Should responed with 403 if type not allowed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:45,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1, \&quot;admin\&quot;);\nlet res = await request(server)\n  .post(\&quot;/api/controlPanel/addImage\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .set(\&quot;Content-Type\&quot;, \&quot;application/x-www-form-urlencoded\&quot;)\n  .attach(\&quot;file\&quot;, path.resolve(__dirname, \&quot;../udemy-accs.txt\&quot;))\n  .expect(403);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;912b111d-c683-4627-a7de-936fae08fc54&quot;,&quot;parentUUID&quot;:&quot;dd0f3d3b-3194-46a5-a9ef-47ba0865fc6b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;5d0d7827-aee6-4b58-b4a9-0e07078a01f3&quot;,&quot;912b111d-c683-4627-a7de-936fae08fc54&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:59,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;b2b0ebe4-14d1-445b-896e-6d942484b84b&quot;,&quot;title&quot;:&quot;/getCategories&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/controlPanel.test.js&quot;,&quot;file&quot;:&quot;/test/controlPanel.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 401 if not authorized&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /getCategories Should respond with 401 if not authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n  .get(\&quot;/api/controlPanel/getCategories\&quot;)\n  .expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;554da1ac-12f3-4bc4-bb39-533785f41b0b&quot;,&quot;parentUUID&quot;:&quot;b2b0ebe4-14d1-445b-896e-6d942484b84b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 200 if got categories successfully&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /getCategories Should respond with 200 if got categories successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1, \&quot;admin\&quot;);\nlet res = await request(server)\n  .get(\&quot;/api/controlPanel/getCategories\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .expect(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c7c8b2ca-e419-433e-80c5-eecb4087c2d1&quot;,&quot;parentUUID&quot;:&quot;b2b0ebe4-14d1-445b-896e-6d942484b84b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;554da1ac-12f3-4bc4-bb39-533785f41b0b&quot;,&quot;c7c8b2ca-e419-433e-80c5-eecb4087c2d1&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:6,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;befd33b5-43d8-4e57-9897-1923ee2c99ef&quot;,&quot;title&quot;:&quot;/getDoctors&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/controlPanel.test.js&quot;,&quot;file&quot;:&quot;/test/controlPanel.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 401 if not authorized&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /getDoctors Should respond with 401 if not authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n  .get(\&quot;/api/controlPanel/getCategories\&quot;)\n  .expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fe64d438-7925-4921-a99a-d5b3d25e8dfb&quot;,&quot;parentUUID&quot;:&quot;befd33b5-43d8-4e57-9897-1923ee2c99ef&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 200 if got categories successfully&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /getDoctors Should respond with 200 if got categories successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1, \&quot;admin\&quot;);\nlet res = await request(server)\n  .get(\&quot;/api/controlPanel/getDoctors\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .expect(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0bdc8675-4163-4e75-963f-5eca053eb853&quot;,&quot;parentUUID&quot;:&quot;befd33b5-43d8-4e57-9897-1923ee2c99ef&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;fe64d438-7925-4921-a99a-d5b3d25e8dfb&quot;,&quot;0bdc8675-4163-4e75-963f-5eca053eb853&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:6,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;3aab423b-365f-44f9-88f5-e93b20738fc9&quot;,&quot;title&quot;:&quot;/deleteDoctor&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/controlPanel.test.js&quot;,&quot;file&quot;:&quot;/test/controlPanel.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 401 if not authorized&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /deleteDoctor Should respond with 401 if not authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n  .get(\&quot;/api/controlPanel/getCategories\&quot;)\n  .expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;636ac73f-7980-4185-996e-b0b3ce666bea&quot;,&quot;parentUUID&quot;:&quot;3aab423b-365f-44f9-88f5-e93b20738fc9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 404 if doctor not found&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /deleteDoctor Should respond with 404 if doctor not found&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1, \&quot;admin\&quot;);\nlet res = await request(server)\n  .delete(\&quot;/api/controlPanel/deleteDoctor\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({ phone_number: \&quot;0109024371111212129511113\&quot;})\n  .expect(404);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;06c70cc2-acae-43da-a9bd-b3c6f7a1194b&quot;,&quot;parentUUID&quot;:&quot;3aab423b-365f-44f9-88f5-e93b20738fc9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 200 if doctor deleted successfully&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /deleteDoctor Should respond with 200 if doctor deleted successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1, \&quot;admin\&quot;);\nlet res = await request(server)\n  .delete(\&quot;/api/controlPanel/deleteDoctor\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({ phone_number: \&quot;01090243798\&quot;}) // this tee number which registered above\n  .expect(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5adc6448-5d5c-450f-a2bd-760ef1c3812e&quot;,&quot;parentUUID&quot;:&quot;3aab423b-365f-44f9-88f5-e93b20738fc9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;636ac73f-7980-4185-996e-b0b3ce666bea&quot;,&quot;06c70cc2-acae-43da-a9bd-b3c6f7a1194b&quot;,&quot;5adc6448-5d5c-450f-a2bd-760ef1c3812e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:7,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;262b520c-02e8-4a2a-8c87-d413f65fb1c7&quot;,&quot;title&quot;:&quot;/toggleBlock&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/controlPanel.test.js&quot;,&quot;file&quot;:&quot;/test/controlPanel.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 401 if not authorized&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /toggleBlock Should respond with 401 if not authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n  .patch(\&quot;/api/controlPanel/toggleBlock\&quot;)\n  .expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;34e87e16-3653-4211-a80f-c5e4b93f1997&quot;,&quot;parentUUID&quot;:&quot;262b520c-02e8-4a2a-8c87-d413f65fb1c7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 404 if user not found&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /toggleBlock Should respond with 404 if user not found&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1, \&quot;admin\&quot;);\nlet res = await request(server)\n  .patch(\&quot;/api/controlPanel/toggleBlock\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({ phone_number: \&quot;0109024371111212129511113\&quot;})\n  .expect(404);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;45d6982c-b526-4a44-9d2a-bf3bf5a1089f&quot;,&quot;parentUUID&quot;:&quot;262b520c-02e8-4a2a-8c87-d413f65fb1c7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 200 if toggle user&#x27;s block successfully&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /toggleBlock Should respond with 200 if toggle user&#x27;s block successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;015902433199\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;djdj84\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n})\n.expect(201);\nconst token = genToken(\&quot;01090243795\&quot;,1, \&quot;admin\&quot;);\nres = await request(server)\n  .patch(\&quot;/api/controlPanel/toggleBlock\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({ phone_number: \&quot;015902433199\&quot;})\n  .expect(200);\n  deleteUser(\&quot;015902433199\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2f59e23a-54db-4d81-a45b-282c58fb31ee&quot;,&quot;parentUUID&quot;:&quot;262b520c-02e8-4a2a-8c87-d413f65fb1c7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;34e87e16-3653-4211-a80f-c5e4b93f1997&quot;,&quot;45d6982c-b526-4a44-9d2a-bf3bf5a1089f&quot;,&quot;2f59e23a-54db-4d81-a45b-282c58fb31ee&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:16,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;ce78121e-e7dc-4c1f-b59f-5411c00a7a91&quot;,&quot;title&quot;:&quot;/getDoctorSlots&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/controlPanel.test.js&quot;,&quot;file&quot;:&quot;/test/controlPanel.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 401 if not authorized&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /getDoctorSlots Should respond with 401 if not authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n  .post(\&quot;/api/controlPanel/getDoctorSlots\&quot;)\n  .expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;985fa14c-f090-4af5-99ad-06dce183de56&quot;,&quot;parentUUID&quot;:&quot;ce78121e-e7dc-4c1f-b59f-5411c00a7a91&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 400 doctor_id is missing or incorrect&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /getDoctorSlots Should respond with 400 doctor_id is missing or incorrect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1, \&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/controlPanel/getDoctorSlots\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({ doctor_id: \&quot;ahmed\&quot;})\n  .expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e8597d28-7504-4d5b-ae02-9eeefcb8502a&quot;,&quot;parentUUID&quot;:&quot;ce78121e-e7dc-4c1f-b59f-5411c00a7a91&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 200 if got doctor&#x27;s slots successfully&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /getDoctorSlots Should respond with 200 if got doctor&#x27;s slots successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1, \&quot;admin\&quot;);\nlet res = await request(server)\n  .post(\&quot;/api/controlPanel/getDoctorSlots\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({ doctor_id: 11})\n  .expect(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;71795de0-0fca-4198-b4e8-6658ada7abed&quot;,&quot;parentUUID&quot;:&quot;ce78121e-e7dc-4c1f-b59f-5411c00a7a91&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;985fa14c-f090-4af5-99ad-06dce183de56&quot;,&quot;e8597d28-7504-4d5b-ae02-9eeefcb8502a&quot;,&quot;71795de0-0fca-4198-b4e8-6658ada7abed&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:7,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;6fa1a5cf-af4c-48f9-bc0b-52a944827528&quot;,&quot;title&quot;:&quot;/api/doctors&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/doctors.js&quot;,&quot;file&quot;:&quot;/test/doctors.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/doctors \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;server = require(\&quot;../app\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c46b7c0b-365d-41ff-b84a-fd1335217822&quot;,&quot;parentUUID&quot;:&quot;6fa1a5cf-af4c-48f9-bc0b-52a944827528&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/doctors \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;54d5e2b5-509a-4dab-bdf5-77bb92a79aba&quot;,&quot;parentUUID&quot;:&quot;6fa1a5cf-af4c-48f9-bc0b-52a944827528&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;7b420f89-6399-4b79-86d2-1d84c2d9d212&quot;,&quot;title&quot;:&quot;/getDoctor&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/doctors.js&quot;,&quot;file&quot;:&quot;/test/doctors.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 400 if phone doctor_id is missing (validation schema)&quot;,&quot;fullTitle&quot;:&quot;/api/doctors /getDoctor Should respond with 400 if phone doctor_id is missing (validation schema)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/doctors/getDoctor\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({})\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c8644f1f-888b-45a8-ad85-d5cbfb6a5dc5&quot;,&quot;parentUUID&quot;:&quot;7b420f89-6399-4b79-86d2-1d84c2d9d212&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 401 if not authorized&quot;,&quot;fullTitle&quot;:&quot;/api/doctors /getDoctor Should respond with 401 if not authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/doctors/getDoctor\&quot;)\n.send({doctor_id: \&quot;1233\&quot;})\n.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bef37e6b-e37d-4b13-99a9-dffea3b69dc8&quot;,&quot;parentUUID&quot;:&quot;7b420f89-6399-4b79-86d2-1d84c2d9d212&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 404 if doctor not found&quot;,&quot;fullTitle&quot;:&quot;/api/doctors /getDoctor Should respond with 404 if doctor not found&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1,\&quot;user\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/doctors/getDoctor\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({doctor_id: 54878785})\n.expect(404);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1cea3f10-dda6-42ff-8d72-0e8cf8579019&quot;,&quot;parentUUID&quot;:&quot;7b420f89-6399-4b79-86d2-1d84c2d9d212&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 200 if got doctor successfully&quot;,&quot;fullTitle&quot;:&quot;/api/doctors /getDoctor Should respond with 200 if got doctor successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/controlPanel/addDoctor\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;phone_number\&quot;:\&quot;01090113795\&quot;,\n    \&quot;password\&quot;:\&quot;testtest\&quot;,\n    \&quot;first_name\&quot;:\&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;: \&quot;ahmed\&quot;,\n    \&quot;country\&quot;:\&quot;egypt\&quot;,\n    \&quot;category_id\&quot;:1,\n    \&quot;picture\&quot;:\&quot;fkfjkfj\&quot;,\n    \&quot;price\&quot;: \&quot;100\&quot;,\n})\n.expect(201);\nconst doctor_id = res.body.data.doctor_id;\nres = await request(server)\n.post(\&quot;/api/doctors/getDoctor\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({doctor_id: doctor_id})\n.expect(200);\ndeleteDoctor(\&quot;01090113795\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;85eb4265-fdc6-4bab-85e3-05b96c404fbd&quot;,&quot;parentUUID&quot;:&quot;7b420f89-6399-4b79-86d2-1d84c2d9d212&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c8644f1f-888b-45a8-ad85-d5cbfb6a5dc5&quot;,&quot;bef37e6b-e37d-4b13-99a9-dffea3b69dc8&quot;,&quot;1cea3f10-dda6-42ff-8d72-0e8cf8579019&quot;,&quot;85eb4265-fdc6-4bab-85e3-05b96c404fbd&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:22,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;038a84e8-68a2-4e4b-8493-e5f8a7bdbabf&quot;,&quot;title&quot;:&quot;/getDoctors&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/doctors.js&quot;,&quot;file&quot;:&quot;/test/doctors.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 401 if not authorized&quot;,&quot;fullTitle&quot;:&quot;/api/doctors /getDoctors Should respond with 401 if not authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/doctors/getDoctors\&quot;)\n.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2905d103-05fe-4b42-99a0-cc9a134bae97&quot;,&quot;parentUUID&quot;:&quot;038a84e8-68a2-4e4b-8493-e5f8a7bdbabf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 200 if got doctors successfully&quot;,&quot;fullTitle&quot;:&quot;/api/doctors /getDoctors Should respond with 200 if got doctors successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1,\&quot;user\&quot;);\n            let res = await request(server)\n            .post(\&quot;/api/doctors/getDoctors\&quot;)\n            .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n            .send({category_id: 42})\n            .expect(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c576196d-be86-4fd6-90cd-0788f5f3a7ed&quot;,&quot;parentUUID&quot;:&quot;038a84e8-68a2-4e4b-8493-e5f8a7bdbabf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;2905d103-05fe-4b42-99a0-cc9a134bae97&quot;,&quot;c576196d-be86-4fd6-90cd-0788f5f3a7ed&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:7,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;26214ca2-00fe-499a-8581-cd8788424e4d&quot;,&quot;title&quot;:&quot;/updateDoctor&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/doctors.js&quot;,&quot;file&quot;:&quot;/test/doctors.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 401 if not authorized&quot;,&quot;fullTitle&quot;:&quot;/api/doctors /updateDoctor Should respond with 401 if not authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.patch(\&quot;/api/doctors/updateDoctor\&quot;)\n.send({\&quot;phone_number\&quot;:\&quot;3487\&quot;})\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;100e9fb8-3ad4-4da3-b75d-3e2861d1d2a0&quot;,&quot;parentUUID&quot;:&quot;26214ca2-00fe-499a-8581-cd8788424e4d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 400 if field is nor allowed&quot;,&quot;fullTitle&quot;:&quot;/api/doctors /updateDoctor Should respond with 400 if field is nor allowed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01590243311\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.patch(\&quot;/api/doctors/updateDoctor\&quot;)\n.send({\&quot;fb_token_id\&quot;:\&quot;3487\&quot;})\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4f862a18-b957-43d0-bd13-c640e49b2975&quot;,&quot;parentUUID&quot;:&quot;26214ca2-00fe-499a-8581-cd8788424e4d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 200 if successfully updated&quot;,&quot;fullTitle&quot;:&quot;/api/doctors /updateDoctor Should respond with 200 if successfully updated&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;11090243799\&quot;,1, \&quot;admin\&quot;);\nlet res = await request(server)\n  .post(\&quot;/api/controlPanel/addDoctor\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({\n    phone_number: \&quot;11090243799\&quot;,\n    password: \&quot;testtest\&quot;,\n    first_name: \&quot;fawzi\&quot;,\n    last_name: \&quot;ahmed\&quot;,\n    country: \&quot;egypt\&quot;,\n    category_id: 1,\n    picture: \&quot;fkfjkfj\&quot;,\n    price: \&quot;100\&quot;,\n  })\n  .expect(201);\n  const docId = res.body.data.doctor_id;\nres = await request(server)\n .patch(\&quot;/api/doctors/updateDoctor\&quot;)\n.send({\n    doctor_id: docId,\n    phone_number: \&quot;112345\&quot;,\n    password: \&quot;t123\&quot;,\n    first_name: \&quot;fawziiiii\&quot;,\n    last_name: \&quot;ahmedddddd\&quot;,\n    country: \&quot;saudiarabia\&quot;,\n    category_id: 5,\n    picture: \&quot;fkfjkfj\&quot;,\n    price: \&quot;300\&quot;,\n})\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(200);\nexpect(res.body.data.phone_number).to.equal(\&quot;112345\&quot;);\nexpect(res.body.data.password).to.equal(\&quot;t123\&quot;);\nexpect(res.body.data.first_name).to.equal(\&quot;fawziiiii\&quot;);\nexpect(res.body.data.last_name).to.equal(\&quot;ahmedddddd\&quot;);\nexpect(res.body.data.country).to.equal(\&quot;saudiarabia\&quot;);\nexpect(res.body.data.category_id).to.equal(5);\nexpect(res.body.data.picture).to.equal(\&quot;fkfjkfj\&quot;);\nexpect(res.body.data.price).to.equal(\&quot;300\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;16610c34-e2fb-4a76-8098-257c42a3885a&quot;,&quot;parentUUID&quot;:&quot;26214ca2-00fe-499a-8581-cd8788424e4d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 403 if new phone number is already registered&quot;,&quot;fullTitle&quot;:&quot;/api/doctors /updateDoctor Should respond with 403 if new phone number is already registered&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01590243313\&quot;,1,\&quot;admin\&quot;);\n          let res = await request(server)\n.post(\&quot;/api/controlPanel/addDoctor\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n  phone_number: \&quot;110902411\&quot;,\n  password: \&quot;testtest\&quot;,\n  first_name: \&quot;fawzi\&quot;,\n  last_name: \&quot;ahmed\&quot;,\n  country: \&quot;egypt\&quot;,\n  category_id: 1,\n  picture: \&quot;fkfjkfj\&quot;,\n  price: \&quot;100\&quot;,\n})\n.expect(201);\nconst docId = res.body.data.doctor_id;\nres = await request(server)\n.patch(\&quot;/api/doctors/updateDoctor\&quot;)\n.send({\n    doctor_id: docId,\n    phone_number: \&quot;112345\&quot;,\n})\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(403);\ndeleteDoctor(\&quot;110902411\&quot;);\ndeleteDoctor(\&quot;112345\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c3644966-edf2-445a-9f55-e7d21c5560e0&quot;,&quot;parentUUID&quot;:&quot;26214ca2-00fe-499a-8581-cd8788424e4d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;100e9fb8-3ad4-4da3-b75d-3e2861d1d2a0&quot;,&quot;4f862a18-b957-43d0-bd13-c640e49b2975&quot;,&quot;16610c34-e2fb-4a76-8098-257c42a3885a&quot;,&quot;c3644966-edf2-445a-9f55-e7d21c5560e0&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:25,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;b4684113-7339-4b21-8289-afdd555caa8b&quot;,&quot;title&quot;:&quot;/api/slots&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/slots.test.js&quot;,&quot;file&quot;:&quot;/test/slots.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/slots \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;server = require(\&quot;../app\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b1f9ef0a-2837-4061-9f48-4493fdac5c2c&quot;,&quot;parentUUID&quot;:&quot;b4684113-7339-4b21-8289-afdd555caa8b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/slots \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4b8e2261-80ae-4181-b4b6-72d010980a04&quot;,&quot;parentUUID&quot;:&quot;b4684113-7339-4b21-8289-afdd555caa8b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;fbc5c4e4-c123-493c-92d9-e14bb689bf6f&quot;,&quot;title&quot;:&quot;/addSlot&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/slots.test.js&quot;,&quot;file&quot;:&quot;/test/slots.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/slots /addSlot Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/slots/addSlot\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c458331f-f58f-4afb-a317-60c704443d66&quot;,&quot;parentUUID&quot;:&quot;fbc5c4e4-c123-493c-92d9-e14bb689bf6f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;fullTitle&quot;:&quot;/api/slots /addSlot Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/slots/addSlot\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;day\&quot;:\&quot;mon\&quot;,\n    \&quot;slot_time\&quot;:\&quot;60:00\&quot;,\n    \&quot;available\&quot;:false\n    })\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c4ca4848-2277-4ee5-82b4-432a14a0a4eb&quot;,&quot;parentUUID&quot;:&quot;fbc5c4e4-c123-493c-92d9-e14bb689bf6f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 200 addedd Successfully&quot;,&quot;fullTitle&quot;:&quot;/api/slots /addSlot Should respond 200 addedd Successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/controlPanel/addDoctor\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;phone_number\&quot;:\&quot;01090113795\&quot;,\n    \&quot;password\&quot;:\&quot;testtest\&quot;,\n    \&quot;first_name\&quot;:\&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;: \&quot;ahmed\&quot;,\n    \&quot;country\&quot;:\&quot;egypt\&quot;,\n    \&quot;category_id\&quot;:1,\n    \&quot;picture\&quot;:\&quot;fkfjkfj\&quot;,\n    \&quot;price\&quot;: \&quot;100\&quot;,\n})\n.expect(201);\nconst docId = res.body.data.doctor_id;\nres = await request(server)\n.post(\&quot;/api/slots/addSlot\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;doctor_id\&quot;:docId,\n    \&quot;day\&quot;:\&quot;mon\&quot;,\n    \&quot;start_time\&quot;:\&quot;23:00\&quot;,\n    \&quot;slot_time\&quot;:\&quot;3300\&quot;,\n    \&quot;available\&quot;:false\n    })\n.expect(201);\nconst slotId = res.body.data.slot_id;\ndeleteDoctor(\&quot;01090113795\&quot;);\n// deleteSlot(slotId);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cd11cfc0-acca-49d4-86ee-f0fe52fb0ef6&quot;,&quot;parentUUID&quot;:&quot;fbc5c4e4-c123-493c-92d9-e14bb689bf6f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c458331f-f58f-4afb-a317-60c704443d66&quot;,&quot;c4ca4848-2277-4ee5-82b4-432a14a0a4eb&quot;,&quot;cd11cfc0-acca-49d4-86ee-f0fe52fb0ef6&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:13,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;b1031f2e-2a47-4fcf-816c-aa6c0e8d325e&quot;,&quot;title&quot;:&quot;/updateSlot&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/slots.test.js&quot;,&quot;file&quot;:&quot;/test/slots.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/slots /updateSlot Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.patch(\&quot;/api/slots/updateSlot\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;235074d0-28e3-435f-ad09-2e355cac338e&quot;,&quot;parentUUID&quot;:&quot;b1031f2e-2a47-4fcf-816c-aa6c0e8d325e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 400 if one of inputs is incorrect&quot;,&quot;fullTitle&quot;:&quot;/api/slots /updateSlot Should respond 400 if one of inputs is incorrect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.patch(\&quot;/api/slots/updateSlot\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;ahmed\&quot;:\&quot;mon\&quot;,\n    })\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;906b5636-96de-4a35-8858-5b1900cb6a45&quot;,&quot;parentUUID&quot;:&quot;b1031f2e-2a47-4fcf-816c-aa6c0e8d325e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 200 updated Successfully&quot;,&quot;fullTitle&quot;:&quot;/api/slots /updateSlot Should respond 200 updated Successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.patch(\&quot;/api/slots/updateSlot\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;slot_id\&quot;:1,\n    \&quot;day\&quot;:\&quot;wed\&quot;,\n    \&quot;start_time\&quot;:\&quot;21:00\&quot;,\n    \&quot;slot_time\&quot;:\&quot;30:00\&quot;,\n    \&quot;available\&quot;:true\n    })\n.expect(200);\nexpect(res.body.data.day).to.equal(\&quot;wed\&quot;);\nconst slotId = res.body.data.slot_id;\n// deleteSlot(slotId);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ca8f1cca-f269-46e5-b44b-0aa558f5fdf0&quot;,&quot;parentUUID&quot;:&quot;b1031f2e-2a47-4fcf-816c-aa6c0e8d325e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;235074d0-28e3-435f-ad09-2e355cac338e&quot;,&quot;906b5636-96de-4a35-8858-5b1900cb6a45&quot;,&quot;ca8f1cca-f269-46e5-b44b-0aa558f5fdf0&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:13,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;7b3535ee-580c-4fee-8700-e1f32c6f6fd2&quot;,&quot;title&quot;:&quot;/getOpenSlots&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/slots.test.js&quot;,&quot;file&quot;:&quot;/test/slots.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/slots /getOpenSlots Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/slots/getOpenSlots\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ca6a6fc9-77bb-4c49-9b06-47653423e1f4&quot;,&quot;parentUUID&quot;:&quot;7b3535ee-580c-4fee-8700-e1f32c6f6fd2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;fullTitle&quot;:&quot;/api/slots /getOpenSlots Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;user\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/slots/getOpenSlots\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;doctor_id\&quot;:44554,\n    })\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bda87e40-a746-42e8-becb-a9c18c61e898&quot;,&quot;parentUUID&quot;:&quot;7b3535ee-580c-4fee-8700-e1f32c6f6fd2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 200 got slots Successfully&quot;,&quot;fullTitle&quot;:&quot;/api/slots /getOpenSlots Should respond 200 got slots Successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:50,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;user\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;01590243399\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;djdj84\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n})\n.expect(201);\nconst userId = res.body.data.user_id;\n res = await request(server)\n.post(\&quot;/api/slots/getOpenSlots\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;doctor_id\&quot;: 11,\n    \&quot;searchIn\&quot;:30,\n    })\n.expect(200);\ndeleteUser(\&quot;01590243399\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4e313587-d93a-4d7d-9301-be3cc247e274&quot;,&quot;parentUUID&quot;:&quot;7b3535ee-580c-4fee-8700-e1f32c6f6fd2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ca6a6fc9-77bb-4c49-9b06-47653423e1f4&quot;,&quot;bda87e40-a746-42e8-becb-a9c18c61e898&quot;,&quot;4e313587-d93a-4d7d-9301-be3cc247e274&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:52,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;0304a785-4987-471d-a100-4d7ad36a50f7&quot;,&quot;title&quot;:&quot;/getDoctorDays&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/slots.test.js&quot;,&quot;file&quot;:&quot;/test/slots.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/slots /getDoctorDays Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\t\n            .post(\&quot;/api/slots/addSlot\&quot;)\t\n            .expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2f3dbf0f-b14c-4d3d-bd6a-e185132afd42&quot;,&quot;parentUUID&quot;:&quot;0304a785-4987-471d-a100-4d7ad36a50f7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 200 if got days susccessfully&quot;,&quot;fullTitle&quot;:&quot;/api/slots /getDoctorDays Should respond 200 if got days susccessfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;admin\&quot;);\t\n            let res = await request(server)\t\n            .post(\&quot;/api/controlPanel/addDoctor\&quot;)\t\n            .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\t\n            .send({\t\n                \&quot;phone_number\&quot;:\&quot;01090113785\&quot;,\t\n                \&quot;password\&quot;:\&quot;testtest\&quot;,\t\n                \&quot;first_name\&quot;:\&quot;fawzi\&quot;,\t\n                \&quot;last_name\&quot;: \&quot;ahmed\&quot;,\t\n                \&quot;country\&quot;:\&quot;egypt\&quot;,\t\n                \&quot;category_id\&quot;:1,\t\n                \&quot;picture\&quot;:\&quot;fkfjkfj\&quot;,\t\n                \&quot;price\&quot;: \&quot;100\&quot;,\t\n            })\t\n            .expect(201);\t\n            const docId = res.body.data.doctor_id;\t\n            res = await request(server)\t\n            .post(\&quot;/api/slots/addSlot\&quot;)\t\n            .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\t\n            .send({\t\n                \&quot;doctor_id\&quot;:docId,\t\n                \&quot;day\&quot;:\&quot;mon\&quot;,\t\n                \&quot;start_time\&quot;:\&quot;23:00\&quot;,\t\n                \&quot;slot_time\&quot;:\&quot;60:00\&quot;,\t\n                \&quot;available\&quot;:false\t\n                })\t\n            .expect(201);\t\n            const slotId = res.body.data.slot_id;\t\n            const doctorToken = genToken(\&quot;01090113795\&quot;,1,\&quot;doctor\&quot;);\t\n            res = await request(server)\t\n            .post(\&quot;/api/slots/getDoctorDays\&quot;)\t\n            .set(\&quot;Authorization\&quot;, `Bearer ${doctorToken}`)\t\n            .expect(200);\t\n            deleteDoctor(\&quot;01090113785\&quot;);\t\n            // deleteSlot(slotId);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d0976169-60d5-4cff-9f87-096c69696c9c&quot;,&quot;parentUUID&quot;:&quot;0304a785-4987-471d-a100-4d7ad36a50f7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;2f3dbf0f-b14c-4d3d-bd6a-e185132afd42&quot;,&quot;d0976169-60d5-4cff-9f87-096c69696c9c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:15,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;0bedd225-2ba8-4f8b-ae1f-4765e0fcc239&quot;,&quot;title&quot;:&quot;/api/user&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/user.js&quot;,&quot;file&quot;:&quot;/test/user.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/user \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;server = require(\&quot;../app\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e2020cef-9286-4ca5-a6f3-76bd1fac90bb&quot;,&quot;parentUUID&quot;:&quot;0bedd225-2ba8-4f8b-ae1f-4765e0fcc239&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/user \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e237bd83-e9f9-4067-acad-e6ee47efd7ba&quot;,&quot;parentUUID&quot;:&quot;0bedd225-2ba8-4f8b-ae1f-4765e0fcc239&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;456e6d94-03eb-439a-ba33-555697cd0635&quot;,&quot;title&quot;:&quot;/updateInfo&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/user.js&quot;,&quot;file&quot;:&quot;/test/user.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 401 if not authorized&quot;,&quot;fullTitle&quot;:&quot;/api/user /updateInfo Should respond with 401 if not authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.patch(\&quot;/api/user/updateInfo\&quot;)\n.send({\&quot;phone_number\&quot;:\&quot;3487\&quot;})\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;721ec014-0622-42bf-9fa7-55832c42c138&quot;,&quot;parentUUID&quot;:&quot;456e6d94-03eb-439a-ba33-555697cd0635&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 400 if field is nor allowed&quot;,&quot;fullTitle&quot;:&quot;/api/user /updateInfo Should respond with 400 if field is nor allowed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01590243311\&quot;,1,\&quot;user\&quot;);\nlet res = await request(server)\n.patch(\&quot;/api/user/updateInfo\&quot;)\n.send({\&quot;fb_token_id\&quot;:\&quot;3487\&quot;})\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4d745bd0-5e4c-4ca4-9409-63b1763b4c50&quot;,&quot;parentUUID&quot;:&quot;456e6d94-03eb-439a-ba33-555697cd0635&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 200 if successfully updated&quot;,&quot;fullTitle&quot;:&quot;/api/user /updateInfo Should respond with 200 if successfully updated&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;01590243311\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;djdj84\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n}).expect(201);\nexpect(res.body.data.phone_number).to.equal(\&quot;01590243311\&quot;);\nconst token = genToken(\&quot;01590243311\&quot;,1,\&quot;user\&quot;);\n res = await request(server)\n.patch(\&quot;/api/user/updateInfo\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;12345\&quot;,\n    \&quot;first_name\&quot;: \&quot;ahmed\&quot;,\n    \&quot;last_name\&quot;:\&quot;mohammed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-22\&quot;,\n    \&quot;weight\&quot;: 200,\n    \&quot;height\&quot;: 300,\n    \&quot;bmi\&quot;: 50,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n})\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(200);\nexpect(res.body.data.phone_number).to.equal(\&quot;12345\&quot;);\nexpect(res.body.data.first_name).to.equal(\&quot;ahmed\&quot;);\nexpect(res.body.data.last_name).to.equal(\&quot;mohammed\&quot;);\nexpect(res.body.data.birth_date).to.equal(\&quot;1999-03-22\&quot;);\nexpect(res.body.data.weight).to.equal(200);\nexpect(res.body.data.height).to.equal(300);\nexpect(res.body.data.bmi).to.equal(50);\nexpect(res.body.data.gender).to.equal(\&quot;male\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3d4aa838-e2d2-44ef-af39-9edf7dd42b2d&quot;,&quot;parentUUID&quot;:&quot;456e6d94-03eb-439a-ba33-555697cd0635&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 403 if phone number is already registered&quot;,&quot;fullTitle&quot;:&quot;/api/user /updateInfo Should respond with 403 if phone number is already registered&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;01590243313\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;djdj84\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n}).expect(201);\nexpect(res.body.data.phone_number).to.equal(\&quot;01590243313\&quot;);\nconst token = genToken(\&quot;01590243313\&quot;,1,\&quot;user\&quot;);\n res = await request(server)\n.patch(\&quot;/api/user/updateInfo\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;12345\&quot;,\n    \&quot;first_name\&quot;: \&quot;ahmed\&quot;,\n    \&quot;last_name\&quot;:\&quot;mohammed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-22\&quot;,\n    \&quot;weight\&quot;: 200,\n    \&quot;height\&quot;: 300,\n    \&quot;bmi\&quot;: 50,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n})\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(403);\ndeleteUser(\&quot;01590243313\&quot;);\ndeleteUser(\&quot;12345\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5d436c18-ab92-4198-9b79-8dd458668cfd&quot;,&quot;parentUUID&quot;:&quot;456e6d94-03eb-439a-ba33-555697cd0635&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;721ec014-0622-42bf-9fa7-55832c42c138&quot;,&quot;4d745bd0-5e4c-4ca4-9409-63b1763b4c50&quot;,&quot;3d4aa838-e2d2-44ef-af39-9edf7dd42b2d&quot;,&quot;5d436c18-ab92-4198-9b79-8dd458668cfd&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:28,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;789e56b3-cf17-49ff-aad0-c79b9821b148&quot;,&quot;title&quot;:&quot;/notBlocked&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/user.js&quot;,&quot;file&quot;:&quot;/test/user.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 401 if not authorized&quot;,&quot;fullTitle&quot;:&quot;/api/user /notBlocked Should respond with 401 if not authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.get(\&quot;/api/user/notBlocked\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;eeeab056-1ab4-40f6-8ca0-b3b676a823c2&quot;,&quot;parentUUID&quot;:&quot;789e56b3-cf17-49ff-aad0-c79b9821b148&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 403 if user is blocked&quot;,&quot;fullTitle&quot;:&quot;/api/user /notBlocked should respond with 403 if user is blocked&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;01590243399\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;test\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n}).expect(201);\nconst token = genToken(\&quot;01590243399\&quot;,1,\&quot;user\&quot;);\nawait blockUser(\&quot;01590243399\&quot;);\nres = await request(server)\n.get(\&quot;/api/user/notBlocked\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(403);\ndeleteUser(\&quot;01590243399\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6e2ebe97-6bbe-40e6-a7a5-83d22541af55&quot;,&quot;parentUUID&quot;:&quot;789e56b3-cf17-49ff-aad0-c79b9821b148&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;eeeab056-1ab4-40f6-8ca0-b3b676a823c2&quot;,&quot;6e2ebe97-6bbe-40e6-a7a5-83d22541af55&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:13,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;af1f1959-19b7-407c-9c7d-251551f3d08b&quot;,&quot;title&quot;:&quot;/api/user/updateImage&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/user.js&quot;,&quot;file&quot;:&quot;/test/user.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should responed with 200 if updated&quot;,&quot;fullTitle&quot;:&quot;/api/user /api/user/updateImage Should responed with 200 if updated&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;01590243399\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;test\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n}).expect(201);\nconst token = genToken(\&quot;01590243399\&quot;,1,\&quot;user\&quot;);\nres = await request(server)\n.patch(\&quot;/api/user/updateImage\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.set(&#x27;Content-Type&#x27;, &#x27;application/x-www-form-urlencoded&#x27;)\n.attach(&#x27;file&#x27;,path.resolve(__dirname, \&quot;../logo.png\&quot;))\n.expect(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8c7acfd3-ca76-44bb-9193-cbd21a606245&quot;,&quot;parentUUID&quot;:&quot;af1f1959-19b7-407c-9c7d-251551f3d08b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should responed with 403 if type not allowed&quot;,&quot;fullTitle&quot;:&quot;/api/user /api/user/updateImage Should responed with 403 if type not allowed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:32,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01590243399\&quot;,1,\&quot;user\&quot;);\nlet res = await request(server)\n.patch(\&quot;/api/user/updateImage\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.set(&#x27;Content-Type&#x27;, &#x27;application/x-www-form-urlencoded&#x27;)\n.attach(&#x27;file&#x27;,path.resolve(__dirname, \&quot;../udemy-accs.txt\&quot;))\n.expect(403);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0d332200-78ff-4c1e-a751-0d604f1d4ffa&quot;,&quot;parentUUID&quot;:&quot;af1f1959-19b7-407c-9c7d-251551f3d08b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should responed with 401 not authorized&quot;,&quot;fullTitle&quot;:&quot;/api/user /api/user/updateImage Should responed with 401 not authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01590241\&quot;,1,\&quot;user\&quot;);\nlet res = await request(server)\n.patch(\&quot;/api/user/updateImage\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.set(&#x27;Content-Type&#x27;, &#x27;application/x-www-form-urlencoded&#x27;)\n.attach(&#x27;file&#x27;,path.resolve(__dirname, \&quot;../logo.png\&quot;))\n.expect(401);\ndeleteUser(\&quot;01590243399\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d43d9d41-8f8d-4083-8da4-2c1353fdf165&quot;,&quot;parentUUID&quot;:&quot;af1f1959-19b7-407c-9c7d-251551f3d08b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8c7acfd3-ca76-44bb-9193-cbd21a606245&quot;,&quot;0d332200-78ff-4c1e-a751-0d604f1d4ffa&quot;,&quot;d43d9d41-8f8d-4083-8da4-2c1353fdf165&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:48,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;af2a8f41-a0b4-43c2-ae87-eeb99ad776ec&quot;,&quot;title&quot;:&quot;/getUser&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/user.js&quot;,&quot;file&quot;:&quot;/test/user.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 401 if not authorized&quot;,&quot;fullTitle&quot;:&quot;/api/user /getUser Should respond with 401 if not authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/user/getUser\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2a851e89-87b2-4e75-b236-4d31dc44854e&quot;,&quot;parentUUID&quot;:&quot;af2a8f41-a0b4-43c2-ae87-eeb99ad776ec&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 404 if user not found&quot;,&quot;fullTitle&quot;:&quot;/api/user /getUser should respond with 404 if user not found&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01590243399\&quot;,1,\&quot;user\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/user/getUser\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({ \&quot;phone_number\&quot;: \&quot;9868956981256\&quot;, })\n.expect(404);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;80d35aad-3fa1-4aac-92bb-c8fc5e17ebd6&quot;,&quot;parentUUID&quot;:&quot;af2a8f41-a0b4-43c2-ae87-eeb99ad776ec&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 200 if got user successfully&quot;,&quot;fullTitle&quot;:&quot;/api/user /getUser should respond with 200 if got user successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;01590243399\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;test\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n}).expect(201);\nconst token = genToken(\&quot;015902433399\&quot;,1,\&quot;user\&quot;);\nres = await request(server)\n.post(\&quot;/api/user/getUser\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({ \&quot;phone_number\&quot;: \&quot;01590243399\&quot;, })\n.expect(200);\ndeleteUser(\&quot;01590243399\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5dec4653-1605-4153-b1d8-3cd44b52cd7d&quot;,&quot;parentUUID&quot;:&quot;af2a8f41-a0b4-43c2-ae87-eeb99ad776ec&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;2a851e89-87b2-4e75-b236-4d31dc44854e&quot;,&quot;80d35aad-3fa1-4aac-92bb-c8fc5e17ebd6&quot;,&quot;5dec4653-1605-4153-b1d8-3cd44b52cd7d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:11,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;7.1.2&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;6.1.1&quot;},&quot;marge&quot;:{&quot;version&quot;:&quot;5.1.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;reportDir&quot;:&quot;mochawesome-report&quot;,&quot;reportTitle&quot;:&quot;Hospital&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;mochawesome-report/assets&quot;,&quot;jsonFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/mochawesome-report/mochawesome.json&quot;,&quot;htmlFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/mochawesome-report/mochawesome.html&quot;}"><div id="report"></div><script src="assets/app.js"></script></body></html>