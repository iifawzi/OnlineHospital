<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets/app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:48,&quot;tests&quot;:112,&quot;passes&quot;:112,&quot;pending&quot;:0,&quot;failures&quot;:0,&quot;start&quot;:&quot;2020-06-07T21:13:22.478Z&quot;,&quot;end&quot;:&quot;2020-06-07T21:13:24.098Z&quot;,&quot;duration&quot;:1620,&quot;testsRegistered&quot;:112,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;75c1e0b8-1f94-403f-a7c1-824a0481603e&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;ae8b4333-0fc6-4f62-9192-bfd73872529b&quot;,&quot;title&quot;:&quot;/api/appointments&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/appointments.test.js&quot;,&quot;file&quot;:&quot;/test/appointments.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/appointments \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;server = require(\&quot;../app\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;97ae16ff-965a-41fe-bf3c-3d69a7ef84ae&quot;,&quot;parentUUID&quot;:&quot;ae8b4333-0fc6-4f62-9192-bfd73872529b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/appointments \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e6c4dd25-e02e-4a85-9b8d-315de9272c4a&quot;,&quot;parentUUID&quot;:&quot;ae8b4333-0fc6-4f62-9192-bfd73872529b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;8d88b92b-3529-42a2-9c57-b565545e3948&quot;,&quot;title&quot;:&quot;/addAppointment&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/appointments.test.js&quot;,&quot;file&quot;:&quot;/test/appointments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /addAppointment Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:20,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/appointments/addAppointment\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;aa5583c6-bd4a-4293-a74e-3de9d640c749&quot;,&quot;parentUUID&quot;:&quot;8d88b92b-3529-42a2-9c57-b565545e3948&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /addAppointment Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:25,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/appointments/addAppointment\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;slot_id\&quot;: 1,\n    \&quot;user_id\&quot;:44554,\n    })\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8f733ae6-87bd-47fc-aa6f-707befe22e86&quot;,&quot;parentUUID&quot;:&quot;8d88b92b-3529-42a2-9c57-b565545e3948&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 200 addedd Successfully&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /addAppointment Should respond 200 addedd Successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:50,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;user\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/appointments/addAppointment\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;slot_id\&quot;: 1,\n    \&quot;date\&quot;:\&quot;2020-05-28\&quot;\n    })\n.expect(201);\nconst appID = res.body.data.appointment_id;\ndeleteUser(\&quot;01590243399\&quot;);\ndeleteAppointment(appID);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;883f268c-12a3-461f-8523-bb39af1c73b8&quot;,&quot;parentUUID&quot;:&quot;8d88b92b-3529-42a2-9c57-b565545e3948&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;aa5583c6-bd4a-4293-a74e-3de9d640c749&quot;,&quot;8f733ae6-87bd-47fc-aa6f-707befe22e86&quot;,&quot;883f268c-12a3-461f-8523-bb39af1c73b8&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:95,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;67305c50-3497-4a73-8d03-a89879f1a882&quot;,&quot;title&quot;:&quot;/addConfirmedAppointment&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/appointments.test.js&quot;,&quot;file&quot;:&quot;/test/appointments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /addConfirmedAppointment Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/appointments/addConfirmedAppointment\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3e8f65e5-ed66-4322-9b20-8665f71348d7&quot;,&quot;parentUUID&quot;:&quot;67305c50-3497-4a73-8d03-a89879f1a882&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /addConfirmedAppointment Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/appointments/addConfirmedAppointment\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;slot_id\&quot;: 1,\n    \&quot;user_id\&quot;:44554,\n    })\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d3079afd-b68a-4b12-ac1f-07666a500de5&quot;,&quot;parentUUID&quot;:&quot;67305c50-3497-4a73-8d03-a89879f1a882&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 200 addedd Successfully&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /addConfirmedAppointment Should respond 200 addedd Successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:52,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;01590243399\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;djdj84\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n})\n.expect(201);\nconst userId = res.body.data.user_id;\n res = await request(server)\n.post(\&quot;/api/appointments/addConfirmedAppointment\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;slot_id\&quot;: 1,\n    \&quot;user_id\&quot;:userId,\n    \&quot;date\&quot;:\&quot;2020-05-28\&quot;\n    })\n.expect(201);\nexpect(res.body.data.appointment_status).to.equal(\&quot;upcoming\&quot;);\nconst appID = res.body.data.appointment_id;\ndeleteUser(\&quot;01590243399\&quot;);\ndeleteAppointment(appID);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7430b053-e6f9-4be9-aaa6-ce16233cbb02&quot;,&quot;parentUUID&quot;:&quot;67305c50-3497-4a73-8d03-a89879f1a882&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3e8f65e5-ed66-4322-9b20-8665f71348d7&quot;,&quot;d3079afd-b68a-4b12-ac1f-07666a500de5&quot;,&quot;7430b053-e6f9-4be9-aaa6-ce16233cbb02&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:59,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;a643f4a6-9c3a-429b-b927-19da5f65e673&quot;,&quot;title&quot;:&quot;/getUserApps&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/appointments.test.js&quot;,&quot;file&quot;:&quot;/test/appointments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /getUserApps Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/appointments/getUserApps\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3395d445-ddb3-43e4-b6fd-8a219d457f5a&quot;,&quot;parentUUID&quot;:&quot;a643f4a6-9c3a-429b-b927-19da5f65e673&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /getUserApps Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/appointments/getUserApps\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;slot_id\&quot;: 1,\n    \&quot;user_id\&quot;:44554,\n    })\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;48d92c95-6545-428f-a773-52152b455ef0&quot;,&quot;parentUUID&quot;:&quot;a643f4a6-9c3a-429b-b927-19da5f65e673&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 200 got Successfully&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /getUserApps Should respond 200 got Successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/appointments/addAppointment\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;slot_id\&quot;: 1,\n    \&quot;date\&quot;:\&quot;2020-05-28\&quot;\n    })\n.expect(201);\nconst appID = res.body.data.appointment_id;\nres = await request(server)\n.post(\&quot;/api/appointments/getUserApps\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;user_id\&quot;:1,\n    })\n.expect(200);\ndeleteAppointment(appID);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c6a3a0d6-4594-4911-be3a-459276e02184&quot;,&quot;parentUUID&quot;:&quot;a643f4a6-9c3a-429b-b927-19da5f65e673&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3395d445-ddb3-43e4-b6fd-8a219d457f5a&quot;,&quot;48d92c95-6545-428f-a773-52152b455ef0&quot;,&quot;c6a3a0d6-4594-4911-be3a-459276e02184&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:20,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;1f295af0-c28f-4142-8ed2-586ab285608c&quot;,&quot;title&quot;:&quot;/finishedAppointments&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/appointments.test.js&quot;,&quot;file&quot;:&quot;/test/appointments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /finishedAppointments Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.get(\&quot;/api/appointments/finishedAppointments\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c28ad66b-2ad4-4eb4-a5bf-180e5f8899f4&quot;,&quot;parentUUID&quot;:&quot;1f295af0-c28f-4142-8ed2-586ab285608c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 200 got Successfully&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /finishedAppointments Should respond 200 got Successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;user\&quot;);\nlet res = await request(server)\n.get(\&quot;/api/appointments/finishedAppointments\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;735d2284-99e8-4b92-b1e8-53475e389998&quot;,&quot;parentUUID&quot;:&quot;1f295af0-c28f-4142-8ed2-586ab285608c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c28ad66b-2ad4-4eb4-a5bf-180e5f8899f4&quot;,&quot;735d2284-99e8-4b92-b1e8-53475e389998&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:7,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;e3d87a6a-359a-4645-8728-26f97dd272f5&quot;,&quot;title&quot;:&quot;/upcomingAppointments&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/appointments.test.js&quot;,&quot;file&quot;:&quot;/test/appointments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /upcomingAppointments Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.get(\&quot;/api/appointments/upcomingAppointments\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;90322c74-7c39-4766-a317-ffc1db41c103&quot;,&quot;parentUUID&quot;:&quot;e3d87a6a-359a-4645-8728-26f97dd272f5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 200 got Successfully&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /upcomingAppointments Should respond 200 got Successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;user\&quot;);\nlet res = await request(server)\n.get(\&quot;/api/appointments/upcomingAppointments\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;92145cc4-ff82-4e45-acc7-9932cfebde31&quot;,&quot;parentUUID&quot;:&quot;e3d87a6a-359a-4645-8728-26f97dd272f5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;90322c74-7c39-4766-a317-ffc1db41c103&quot;,&quot;92145cc4-ff82-4e45-acc7-9932cfebde31&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;3f819d97-56bb-4be9-81f6-3c95f1da13e8&quot;,&quot;title&quot;:&quot;/doctorFinishedAppointments&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/appointments.test.js&quot;,&quot;file&quot;:&quot;/test/appointments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /doctorFinishedAppointments Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.get(\&quot;/api/appointments/doctorFinishedAppointments\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;746e494d-c210-4ccb-a44e-d6df119783bc&quot;,&quot;parentUUID&quot;:&quot;3f819d97-56bb-4be9-81f6-3c95f1da13e8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 200 got Successfully&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /doctorFinishedAppointments Should respond 200 got Successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;doctor\&quot;);\nlet res = await request(server)\n.get(\&quot;/api/appointments/doctorFinishedAppointments\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3ec332db-f2bb-4116-b0e4-0ebbccc039e4&quot;,&quot;parentUUID&quot;:&quot;3f819d97-56bb-4be9-81f6-3c95f1da13e8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;746e494d-c210-4ccb-a44e-d6df119783bc&quot;,&quot;3ec332db-f2bb-4116-b0e4-0ebbccc039e4&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:5,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;61353f4a-c965-4e7d-9547-e1959ad75ac7&quot;,&quot;title&quot;:&quot;/doctorUpcomingAppointments&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/appointments.test.js&quot;,&quot;file&quot;:&quot;/test/appointments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /doctorUpcomingAppointments Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.get(\&quot;/api/appointments/doctorUpcomingAppointments\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b512c3f9-f553-48db-9890-d69f710b4e56&quot;,&quot;parentUUID&quot;:&quot;61353f4a-c965-4e7d-9547-e1959ad75ac7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 200 got Successfully&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /doctorUpcomingAppointments Should respond 200 got Successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;doctor\&quot;);\nlet res = await request(server)\n.get(\&quot;/api/appointments/doctorUpcomingAppointments\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fa55e220-6e23-46b5-a5b1-f991b7345360&quot;,&quot;parentUUID&quot;:&quot;61353f4a-c965-4e7d-9547-e1959ad75ac7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b512c3f9-f553-48db-9890-d69f710b4e56&quot;,&quot;fa55e220-6e23-46b5-a5b1-f991b7345360&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;bb7f6777-07be-46bf-8421-949e807c2472&quot;,&quot;title&quot;:&quot;/getDocApps&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/appointments.test.js&quot;,&quot;file&quot;:&quot;/test/appointments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /getDocApps Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/appointments/getDocApps\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5cdcc5ec-22df-40e7-bdf0-675d394e4449&quot;,&quot;parentUUID&quot;:&quot;bb7f6777-07be-46bf-8421-949e807c2472&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /getDocApps Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/appointments/getDocApps\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;slot_id\&quot;: 1,\n    \&quot;doctor_id\&quot;:44554,\n    })\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ee438b29-9102-4829-b8fa-1f8a9d6e63b1&quot;,&quot;parentUUID&quot;:&quot;bb7f6777-07be-46bf-8421-949e807c2472&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 200 got Successfully&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /getDocApps Should respond 200 got Successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/appointments/addAppointment\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;slot_id\&quot;: 1,\n    \&quot;date\&quot;:\&quot;2020-05-28\&quot;\n    })\n.expect(201);\nconst appID = res.body.data.appointment_id;\nres = await request(server)\n.post(\&quot;/api/appointments/getDocApps\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;doctor_id\&quot;:1,\n    })\n.expect(200);\ndeleteUser(\&quot;01595543366\&quot;);\ndeleteAppointment(appID);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1d4adea8-4774-4281-8a7b-cae03983d6a5&quot;,&quot;parentUUID&quot;:&quot;bb7f6777-07be-46bf-8421-949e807c2472&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;5cdcc5ec-22df-40e7-bdf0-675d394e4449&quot;,&quot;ee438b29-9102-4829-b8fa-1f8a9d6e63b1&quot;,&quot;1d4adea8-4774-4281-8a7b-cae03983d6a5&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:15,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;a332ff87-a286-4b7e-be7b-e5100b39018c&quot;,&quot;title&quot;:&quot;/cancelAppointment&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/appointments.test.js&quot;,&quot;file&quot;:&quot;/test/appointments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /cancelAppointment Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.patch(\&quot;/api/appointments/cancelAppointment\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ce92df4f-32f6-46d1-9e22-2b3da6cf9e29&quot;,&quot;parentUUID&quot;:&quot;a332ff87-a286-4b7e-be7b-e5100b39018c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /cancelAppointment Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.patch(\&quot;/api/appointments/cancelAppointment\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;aapointment_id\&quot;:\&quot;djdkj\&quot;,\n    })\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f5b260b2-aad2-48d1-a40b-4d656e7a298e&quot;,&quot;parentUUID&quot;:&quot;a332ff87-a286-4b7e-be7b-e5100b39018c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 200 updated Successfully&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /cancelAppointment Should respond 200 updated Successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:22,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/appointments/addAppointment\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;slot_id\&quot;: 1,\n    \&quot;date\&quot;:\&quot;2020-05-28\&quot;\n    })\n.expect(201);\nconst appID = res.body.data.appointment_id;\nres = await request(server)\n.patch(\&quot;/api/appointments/cancelAppointment\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;appointment_id\&quot;:appID,\n    })\n.expect(200);\nexpect(res.body.data.appointment_status).to.equal(\&quot;canceled\&quot;);\ndeleteAppointment(appID);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;37a12000-031c-472d-9f0b-b43eda40a246&quot;,&quot;parentUUID&quot;:&quot;a332ff87-a286-4b7e-be7b-e5100b39018c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ce92df4f-32f6-46d1-9e22-2b3da6cf9e29&quot;,&quot;f5b260b2-aad2-48d1-a40b-4d656e7a298e&quot;,&quot;37a12000-031c-472d-9f0b-b43eda40a246&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:26,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;5a479824-4f87-4c32-b56a-74670f38bbdd&quot;,&quot;title&quot;:&quot;/confirmAppointment&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/appointments.test.js&quot;,&quot;file&quot;:&quot;/test/appointments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /confirmAppointment Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.patch(\&quot;/api/appointments/confirmAppointment\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7081eec8-14f1-4208-b1c0-7fc2e96e89a5&quot;,&quot;parentUUID&quot;:&quot;5a479824-4f87-4c32-b56a-74670f38bbdd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /confirmAppointment Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;user\&quot;);\nlet res = await request(server)\n.patch(\&quot;/api/appointments/confirmAppointment\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;aapointment_id\&quot;:\&quot;djdkj\&quot;,\n    })\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;052bafee-5626-476e-a2a9-8925cbd0e020&quot;,&quot;parentUUID&quot;:&quot;5a479824-4f87-4c32-b56a-74670f38bbdd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 200 updated Successfully&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /confirmAppointment Should respond 200 updated Successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:18,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;user\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/appointments/addAppointment\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;slot_id\&quot;: 1,\n    \&quot;date\&quot;:\&quot;2020-05-28\&quot;\n    })\n.expect(201);\nconst appID = res.body.data.appointment_id;\nres = await request(server)\n.patch(\&quot;/api/appointments/confirmAppointment\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;appointment_id\&quot;:appID,\n    })\n.expect(200);\nexpect(res.body.data.appointment_status).to.equal(\&quot;upcoming\&quot;);\ndeleteAppointment(appID);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;27d9e2bd-c7c0-4201-8feb-d22d49404c98&quot;,&quot;parentUUID&quot;:&quot;5a479824-4f87-4c32-b56a-74670f38bbdd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7081eec8-14f1-4208-b1c0-7fc2e96e89a5&quot;,&quot;052bafee-5626-476e-a2a9-8925cbd0e020&quot;,&quot;27d9e2bd-c7c0-4201-8feb-d22d49404c98&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:22,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;012a30bb-dffd-4977-b1db-eb128d8fb143&quot;,&quot;title&quot;:&quot;/docAppsByDate&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/appointments.test.js&quot;,&quot;file&quot;:&quot;/test/appointments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /docAppsByDate Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/appointments/docAppsByDate\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c3734f3d-5cfc-4522-8b07-a15638217e5f&quot;,&quot;parentUUID&quot;:&quot;012a30bb-dffd-4977-b1db-eb128d8fb143&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /docAppsByDate Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;doctor\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/appointments/docAppsByDate\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;aapointment_id\&quot;:\&quot;djdkj\&quot;,\n    })\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;42ecacb7-7eaf-44fa-ab22-7b31c5329f0c&quot;,&quot;parentUUID&quot;:&quot;012a30bb-dffd-4977-b1db-eb128d8fb143&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 200 if we got the apps successfully&quot;,&quot;fullTitle&quot;:&quot;/api/appointments /docAppsByDate Should respond with 200 if we got the apps successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(&#x27;01090243795&#x27;,1,\&quot;doctor\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/appointments/docAppsByDate\&quot;)\n.set(&#x27;Authorization&#x27;,`Bearer ${token}`)\n.send({\n    \&quot;date\&quot;:&#x27;2020-03-20&#x27;\n})\n.expect(200)\n// expect(res.body.data[0].date).to.equal(\&quot;2020-03-20\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e09cd9a0-ba03-47e6-8c7d-0702e183cb8f&quot;,&quot;parentUUID&quot;:&quot;012a30bb-dffd-4977-b1db-eb128d8fb143&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c3734f3d-5cfc-4522-8b07-a15638217e5f&quot;,&quot;42ecacb7-7eaf-44fa-ab22-7b31c5329f0c&quot;,&quot;e09cd9a0-ba03-47e6-8c7d-0702e183cb8f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:8,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;7a5351c2-abc6-4b76-a868-cae90c2bc8e0&quot;,&quot;title&quot;:&quot;/api/auth&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/auth.test.js&quot;,&quot;file&quot;:&quot;/test/auth.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/auth \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;server = require(\&quot;../app\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;66b409dc-edd5-49b7-b66c-af535e7d494e&quot;,&quot;parentUUID&quot;:&quot;7a5351c2-abc6-4b76-a868-cae90c2bc8e0&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/auth \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;64e9eb42-7f3d-4666-af70-93074c8d27c4&quot;,&quot;parentUUID&quot;:&quot;7a5351c2-abc6-4b76-a868-cae90c2bc8e0&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;16163185-9171-4a96-80e2-73fd6cff0d45&quot;,&quot;title&quot;:&quot;/signup&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/auth.test.js&quot;,&quot;file&quot;:&quot;/test/auth.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should respond with 400 if one of inputs is incorrect or missing (SCHEMA VALIDATION)&quot;,&quot;fullTitle&quot;:&quot;/api/auth /signup should respond with 400 if one of inputs is incorrect or missing (SCHEMA VALIDATION)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;).expect(400);  \nres = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({password:\&quot;fawzi\&quot;})\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;15204336-0e6d-4ca2-9bee-bf6f9c33ea4d&quot;,&quot;parentUUID&quot;:&quot;16163185-9171-4a96-80e2-73fd6cff0d45&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 201 if user succefully registered&quot;,&quot;fullTitle&quot;:&quot;/api/auth /signup should respond with 201 if user succefully registered&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;01590243399\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;djdj84\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n})\n.expect(201);\nexpect(res.body.data.phone_number).to.equal(\&quot;01590243399\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;09596f43-3f23-480c-a82b-49a84d5e0542&quot;,&quot;parentUUID&quot;:&quot;16163185-9171-4a96-80e2-73fd6cff0d45&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 403 if phone_number is already registered&quot;,&quot;fullTitle&quot;:&quot;/api/auth /signup should respond with 403 if phone_number is already registered&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;01590243399\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;djdj84\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n})\n.expect(403);\ndeleteUser(\&quot;01590243399\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6049c050-0ae5-492d-9fbf-16551c5eb070&quot;,&quot;parentUUID&quot;:&quot;16163185-9171-4a96-80e2-73fd6cff0d45&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;15204336-0e6d-4ca2-9bee-bf6f9c33ea4d&quot;,&quot;09596f43-3f23-480c-a82b-49a84d5e0542&quot;,&quot;6049c050-0ae5-492d-9fbf-16551c5eb070&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:24,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;1997ce12-90ee-4f4c-bcc7-1b89adcf5da8&quot;,&quot;title&quot;:&quot;/signin&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/auth.test.js&quot;,&quot;file&quot;:&quot;/test/auth.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should respond with 400 if input are missing (SCHEMA VALIDATION)&quot;,&quot;fullTitle&quot;:&quot;/api/auth /signin should respond with 400 if input are missing (SCHEMA VALIDATION)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signin\&quot;)\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bbceb5cf-d69e-4112-a1e2-6c1e51275420&quot;,&quot;parentUUID&quot;:&quot;1997ce12-90ee-4f4c-bcc7-1b89adcf5da8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 401 when phone number notfound `backend side`&quot;,&quot;fullTitle&quot;:&quot;/api/auth /signin should respond with 401 when phone number notfound `backend side`&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n .post(\&quot;/api/auth/signin\&quot;)\n .send({\&quot;phone_number\&quot;:\&quot;01590243311\&quot;})\n .expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2a0964e7-18ac-489b-ad7a-1583dc2c37a8&quot;,&quot;parentUUID&quot;:&quot;1997ce12-90ee-4f4c-bcc7-1b89adcf5da8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 200 if user loged in successfully&quot;,&quot;fullTitle&quot;:&quot;/api/auth /signin should respond with 200 if user loged in successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;01590243311\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;djdj84\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n}).expect(201);\nexpect(res.body.data.phone_number).to.equal(\&quot;01590243311\&quot;);\nres = await request(server)\n.post(\&quot;/api/auth/signin\&quot;)\n.send({\&quot;phone_number\&quot;:\&quot;01590243311\&quot;})\n.expect(200);\ndeleteUser(\&quot;01590243311\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6b90e9b2-0064-4c08-98b6-375eca2651c2&quot;,&quot;parentUUID&quot;:&quot;1997ce12-90ee-4f4c-bcc7-1b89adcf5da8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;bbceb5cf-d69e-4112-a1e2-6c1e51275420&quot;,&quot;2a0964e7-18ac-489b-ad7a-1583dc2c37a8&quot;,&quot;6b90e9b2-0064-4c08-98b6-375eca2651c2&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:13,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;c5d38452-9277-4c0e-89b7-972a7436ced0&quot;,&quot;title&quot;:&quot;/updateFirebaseToken&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/auth.test.js&quot;,&quot;file&quot;:&quot;/test/auth.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 400 if one of inpus is missed (SCHEMA VALIDATION)&quot;,&quot;fullTitle&quot;:&quot;/api/auth /updateFirebaseToken Should respond with 400 if one of inpus is missed (SCHEMA VALIDATION)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01590243399\&quot;,1,\&quot;user\&quot;);\nlet res = await request(server)\n.patch(\&quot;/api/auth/updateFirebaseToken\&quot;)\n.send({\&quot;notInTheSchema\&quot;:\&quot;haka\&quot;})\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6b9aee67-c0b0-48a0-8922-f308f90f45b0&quot;,&quot;parentUUID&quot;:&quot;c5d38452-9277-4c0e-89b7-972a7436ced0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 401 if phone number not found `backend side`&quot;,&quot;fullTitle&quot;:&quot;/api/auth /updateFirebaseToken should respond with 401 if phone number not found `backend side`&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243788\&quot;,1,\&quot;user\&quot;);\nlet res = await request(server)\n.patch(\&quot;/api/auth/updateFirebaseToken\&quot;)\n.send({\&quot;new_token\&quot;:\&quot;djkdjkdjk\&quot;})\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6c639b7b-c325-4d0f-951b-c319c8ff0c9d&quot;,&quot;parentUUID&quot;:&quot;c5d38452-9277-4c0e-89b7-972a7436ced0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 200 if we updated the token_id successfully&quot;,&quot;fullTitle&quot;:&quot;/api/auth /updateFirebaseToken should respond with 200 if we updated the token_id successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;01590243388\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;test\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;\n}).expect(201);\nconst token = genToken(\&quot;01590243388\&quot;,1,\&quot;user\&quot;);\nres = await request(server)\n.patch(\&quot;/api/auth/updateFirebaseToken\&quot;)\n.send({\&quot;new_token\&quot;:\&quot;123456789elhamdullah\&quot;})\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(200);\nexpect(res.body.data.updated_token).to.equal(\&quot;123456789elhamdullah\&quot;);\ndeleteUser(\&quot;01590243388\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9931cf84-073c-4b69-a9d5-1bc2b6cb08a7&quot;,&quot;parentUUID&quot;:&quot;c5d38452-9277-4c0e-89b7-972a7436ced0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 403 if user is blocked&quot;,&quot;fullTitle&quot;:&quot;/api/auth /updateFirebaseToken should respond with 403 if user is blocked&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:18,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;01590243399\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;test\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n}).expect(201);\nconst token = genToken(\&quot;01590243399\&quot;,1,\&quot;user\&quot;);\nawait blockUser(\&quot;01590243399\&quot;);\nres = await request(server)\n.patch(\&quot;/api/auth/updateFirebaseToken\&quot;)\n.send({\&quot;new_token\&quot;:\&quot;123456789elhamdullah\&quot;})\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(403);\ndeleteUser(\&quot;01590243399\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;aa960996-4bb2-4cbe-946a-18ae4dfa5067&quot;,&quot;parentUUID&quot;:&quot;c5d38452-9277-4c0e-89b7-972a7436ced0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 401 if user is not authorized &quot;,&quot;fullTitle&quot;:&quot;/api/auth /updateFirebaseToken should respond with 401 if user is not authorized &quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;01590243391\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;test\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n}).expect(201);\n// const token = genToken(\&quot;01590243399\&quot;,\&quot;user\&quot;);\nres = await request(server)\n.patch(\&quot;/api/auth/updateFirebaseToken\&quot;)\n.send({\&quot;new_token\&quot;:\&quot;123456789elhamdullah\&quot;})\n// .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(401);\ndeleteUser(\&quot;01590243391\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6d0f9a56-41bd-4dde-b41f-4eeecc11ce35&quot;,&quot;parentUUID&quot;:&quot;c5d38452-9277-4c0e-89b7-972a7436ced0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;6b9aee67-c0b0-48a0-8922-f308f90f45b0&quot;,&quot;6c639b7b-c325-4d0f-951b-c319c8ff0c9d&quot;,&quot;9931cf84-073c-4b69-a9d5-1bc2b6cb08a7&quot;,&quot;aa960996-4bb2-4cbe-946a-18ae4dfa5067&quot;,&quot;6d0f9a56-41bd-4dde-b41f-4eeecc11ce35&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:45,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;170e0bc9-289b-4755-b97b-df09e13d1a73&quot;,&quot;title&quot;:&quot;/signDoctor&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/auth.test.js&quot;,&quot;file&quot;:&quot;/test/auth.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should respond with 400 if any inputs are incorrect or missed (SCHEMA VALIDATION)&quot;,&quot;fullTitle&quot;:&quot;/api/auth /signDoctor should respond with 400 if any inputs are incorrect or missed (SCHEMA VALIDATION)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signDoctor\&quot;)\n.send({phone_number:\&quot;02903\&quot;})\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;37e01666-b4ab-49a0-b852-0c43dfdb2b95&quot;,&quot;parentUUID&quot;:&quot;170e0bc9-289b-4755-b97b-df09e13d1a73&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 401 if phone number or password are incorrect `backend side`&quot;,&quot;fullTitle&quot;:&quot;/api/auth /signDoctor should respond with 401 if phone number or password are incorrect `backend side`&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01590243399\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/controlPanel/addDoctor\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;phone_number\&quot;:\&quot;01090243795\&quot;,\n    \&quot;password\&quot;:\&quot;testtest\&quot;,\n    \&quot;first_name\&quot;:\&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;: \&quot;ahmed\&quot;,\n    \&quot;country\&quot;:\&quot;egypt\&quot;,\n    \&quot;category_id\&quot;:1,\n    \&quot;picture\&quot;:\&quot;fkfjkfj\&quot;,\n    \&quot;price\&quot;:\&quot;200\&quot;\n})\n.expect(201);\nres = await request(server)\n.post(\&quot;/api/auth/signDoctor\&quot;)\n.send({phone_number:\&quot;01090243794\&quot;,password:\&quot;01288\&quot;})\n.expect(401);\ndeleteDoctor(\&quot;01090243795\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fb000bd8-bf39-48dd-8335-3abcec56dbdf&quot;,&quot;parentUUID&quot;:&quot;170e0bc9-289b-4755-b97b-df09e13d1a73&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;37e01666-b4ab-49a0-b852-0c43dfdb2b95&quot;,&quot;fb000bd8-bf39-48dd-8335-3abcec56dbdf&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:12,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;654ac31a-37aa-419f-a098-cb351f637dba&quot;,&quot;title&quot;:&quot;/updateDoctorFirebaseToken&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/auth.test.js&quot;,&quot;file&quot;:&quot;/test/auth.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 400 if one of inpus is missed (SCHEMA VALIDATION)&quot;,&quot;fullTitle&quot;:&quot;/api/auth /updateDoctorFirebaseToken Should respond with 400 if one of inpus is missed (SCHEMA VALIDATION)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01590243399\&quot;,1,\&quot;doctor\&quot;);\nlet res = await request(server)\n.patch(\&quot;/api/auth/updateDoctorFirebaseToken\&quot;)\n.send({\&quot;notInTheSchema\&quot;:\&quot;haka\&quot;})\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cf470e4f-e28c-4f53-8373-e69233750069&quot;,&quot;parentUUID&quot;:&quot;654ac31a-37aa-419f-a098-cb351f637dba&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 401 if phone number not found `backend side`&quot;,&quot;fullTitle&quot;:&quot;/api/auth /updateDoctorFirebaseToken should respond with 401 if phone number not found `backend side`&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243788\&quot;,1,\&quot;doctor\&quot;);\nlet res = await request(server)\n.patch(\&quot;/api/auth/updateDoctorFirebaseToken\&quot;)\n.send({\&quot;new_token\&quot;:\&quot;djkdjkdjk\&quot;})\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8ab0e60d-0ace-4b17-8693-942ef5166be0&quot;,&quot;parentUUID&quot;:&quot;654ac31a-37aa-419f-a098-cb351f637dba&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 200 if we updated the Doctor token_id successfully&quot;,&quot;fullTitle&quot;:&quot;/api/auth /updateDoctorFirebaseToken should respond with 200 if we updated the Doctor token_id successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243788\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/controlPanel/addDoctor\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;phone_number\&quot;:\&quot;01090243795\&quot;,\n    \&quot;password\&quot;:\&quot;testtest\&quot;,\n    \&quot;first_name\&quot;:\&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;: \&quot;ahmed\&quot;,\n    \&quot;country\&quot;:\&quot;egypt\&quot;,\n    \&quot;category_id\&quot;:1,\n    \&quot;picture\&quot;:\&quot;fkfjkfj\&quot;,\n    \&quot;price\&quot;:\&quot;200\&quot;\n})\n.expect(201);\nexpect(res.body.data.phone_number).to.equal(\&quot;01090243795\&quot;);\nconst token2 = genToken(\&quot;01090243795\&quot;,1,\&quot;doctor\&quot;);\nres = await request(server)\n.patch(\&quot;/api/auth/updateDoctorFirebaseToken\&quot;)\n.send({\&quot;new_token\&quot;:\&quot;123456789elhamdullah\&quot;})\n.set(\&quot;Authorization\&quot;, `Bearer ${token2}`)\n.expect(200);\nexpect(res.body.data.updated_token).to.equal(\&quot;123456789elhamdullah\&quot;);\ndeleteDoctor(\&quot;01090243795\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;531d7cc3-f457-4a64-8707-272eb52e686a&quot;,&quot;parentUUID&quot;:&quot;654ac31a-37aa-419f-a098-cb351f637dba&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 401 if Doctor is not authorized &quot;,&quot;fullTitle&quot;:&quot;/api/auth /updateDoctorFirebaseToken should respond with 401 if Doctor is not authorized &quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/controlPanel/addDoctor\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;phone_number\&quot;:\&quot;01010243795\&quot;,\n    \&quot;password\&quot;:\&quot;testtest\&quot;,\n    \&quot;first_name\&quot;:\&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;: \&quot;ahmed\&quot;,\n    \&quot;country\&quot;:\&quot;egypt\&quot;,\n    \&quot;category_id\&quot;:1,\n    \&quot;picture\&quot;:\&quot;fkfjkfj\&quot;,\n    \&quot;price\&quot;:\&quot;200\&quot;\n})\n.expect(201);\n// const token = genToken(\&quot;01590243399\&quot;,\&quot;doctor\&quot;);\nres = await request(server)\n.patch(\&quot;/api/auth/updateFirebaseToken\&quot;)\n.send({\&quot;new_token\&quot;:\&quot;123456789elhamdullah\&quot;})\n// .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(401);\ndeleteDoctor(\&quot;01010243795\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;53b1957e-56a4-4282-9665-6a28d8f3a36d&quot;,&quot;parentUUID&quot;:&quot;654ac31a-37aa-419f-a098-cb351f637dba&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;cf470e4f-e28c-4f53-8373-e69233750069&quot;,&quot;8ab0e60d-0ace-4b17-8693-942ef5166be0&quot;,&quot;531d7cc3-f457-4a64-8707-272eb52e686a&quot;,&quot;53b1957e-56a4-4282-9665-6a28d8f3a36d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:26,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;999baa41-18d6-470c-ad6e-e6309a8cdc9c&quot;,&quot;title&quot;:&quot;/api/categories&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/categories.js&quot;,&quot;file&quot;:&quot;/test/categories.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/categories \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;server = require(\&quot;../app\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;edae8647-20e5-4cfb-a069-2f6734c09e94&quot;,&quot;parentUUID&quot;:&quot;999baa41-18d6-470c-ad6e-e6309a8cdc9c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/categories \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4bd9eee2-c4ad-498d-a871-ab770d97de15&quot;,&quot;parentUUID&quot;:&quot;999baa41-18d6-470c-ad6e-e6309a8cdc9c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;bea0b5d8-6dff-4cff-9276-284b5cf25d95&quot;,&quot;title&quot;:&quot;/getCategories&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/categories.js&quot;,&quot;file&quot;:&quot;/test/categories.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/categories /getCategories Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.get(\&quot;/api/categories/getCategories\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;04ba71f9-481d-4421-a6f0-b6472d57cc14&quot;,&quot;parentUUID&quot;:&quot;bea0b5d8-6dff-4cff-9276-284b5cf25d95&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 200 if got categories successfully&quot;,&quot;fullTitle&quot;:&quot;/api/categories /getCategories Should respond 200 if got categories successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;user\&quot;);\nlet res = await request(server)\n.get(\&quot;/api/categories/getCategories\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9b337206-0a13-4ff0-80b2-8c83cb46a775&quot;,&quot;parentUUID&quot;:&quot;bea0b5d8-6dff-4cff-9276-284b5cf25d95&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;04ba71f9-481d-4421-a6f0-b6472d57cc14&quot;,&quot;9b337206-0a13-4ff0-80b2-8c83cb46a775&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;93cf345f-1d2a-467d-836c-680e543b5190&quot;,&quot;title&quot;:&quot;/api/controlPanel&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/controlPanel.test.js&quot;,&quot;file&quot;:&quot;/test/controlPanel.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;server = require(\&quot;../app\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;13b5b657-fcce-41f5-89e4-6206da9e0e59&quot;,&quot;parentUUID&quot;:&quot;93cf345f-1d2a-467d-836c-680e543b5190&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;13780c31-49b5-49aa-87d6-050d58f0cae6&quot;,&quot;parentUUID&quot;:&quot;93cf345f-1d2a-467d-836c-680e543b5190&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;426d2d19-9426-4551-9b94-cf74b1549417&quot;,&quot;title&quot;:&quot;/addingDoctor&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/controlPanel.test.js&quot;,&quot;file&quot;:&quot;/test/controlPanel.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 400 if one of inpus is missed or incorrect (SCHEMA VALIDATION)&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /addingDoctor Should respond with 400 if one of inpus is missed or incorrect (SCHEMA VALIDATION)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1, \&quot;admin\&quot;);\nconst res = await request(server)\n  .post(\&quot;/api/controlPanel/addDoctor\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ec614379-39c8-4a78-bae5-7e993a0e4e63&quot;,&quot;parentUUID&quot;:&quot;426d2d19-9426-4551-9b94-cf74b1549417&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 201 if doctor created successfully&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /addingDoctor Should respond with 201 if doctor created successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;11090243799\&quot;,1, \&quot;admin\&quot;);\nlet res = await request(server)\n  .post(\&quot;/api/controlPanel/addDoctor\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({\n    phone_number: \&quot;11090243799\&quot;,\n    password: \&quot;testtest\&quot;,\n    first_name: \&quot;fawzi\&quot;,\n    last_name: \&quot;ahmed\&quot;,\n    country: \&quot;egypt\&quot;,\n    category_id: 1,\n    picture: \&quot;fkfjkfj\&quot;,\n    price: \&quot;100\&quot;,\n  })\n  .expect(201);\nexpect(res.body.data.phone_number).to.equal(\&quot;11090243799\&quot;);\ndeleteDoctor(\&quot;11090243799\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c8189d55-5e67-4dc1-9557-d9d4be096c42&quot;,&quot;parentUUID&quot;:&quot;426d2d19-9426-4551-9b94-cf74b1549417&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 403 if the phone number is already registered&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /addingDoctor Should respond with 403 if the phone number is already registered&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243798\&quot;,1, \&quot;admin\&quot;);\nlet res = await request(server)\n  .post(\&quot;/api/controlPanel/addDoctor\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({\n    phone_number: \&quot;01090243798\&quot;,\n    password: \&quot;testtest\&quot;,\n    first_name: \&quot;fawzi\&quot;,\n    last_name: \&quot;ahmed\&quot;,\n    country: \&quot;egypt\&quot;,\n    category_id: 1,\n    picture: \&quot;fkfjkfj\&quot;,\n    price: \&quot;100\&quot;,\n  })\n  .expect(201);\nexpect(res.body.data.phone_number).to.equal(\&quot;01090243798\&quot;);\nres = await request(server)\n  .post(\&quot;/api/controlPanel/addDoctor\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({\n    phone_number: \&quot;01090243798\&quot;,\n    password: \&quot;testtest\&quot;,\n    first_name: \&quot;fawzi\&quot;,\n    last_name: \&quot;ahmed\&quot;,\n    country: \&quot;egypt\&quot;,\n    category_id: 1,\n    picture: \&quot;fkfjkfj\&quot;,\n    price: \&quot;100\&quot;,\n  })\n  .expect(403);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f4595c47-b195-44de-9d86-d84eac6972b6&quot;,&quot;parentUUID&quot;:&quot;426d2d19-9426-4551-9b94-cf74b1549417&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ec614379-39c8-4a78-bae5-7e993a0e4e63&quot;,&quot;c8189d55-5e67-4dc1-9557-d9d4be096c42&quot;,&quot;f4595c47-b195-44de-9d86-d84eac6972b6&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:15,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;d6e18ad8-8947-4e5f-b02d-1fd4411dee83&quot;,&quot;title&quot;:&quot;/addingAdmin&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/controlPanel.test.js&quot;,&quot;file&quot;:&quot;/test/controlPanel.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 400 if one of inpus is missed or incorrect (SCHEMA VALIDATION&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /addingAdmin Should respond with 400 if one of inpus is missed or incorrect (SCHEMA VALIDATION&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1, \&quot;admin\&quot;);\nlet res = await request(server)\n  .post(\&quot;/api/controlPanel/addAdmin\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({ name: \&quot;fawzi\&quot; })\n  .expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;66dd1af0-6a92-4161-8c02-fa2aa1c6a709&quot;,&quot;parentUUID&quot;:&quot;d6e18ad8-8947-4e5f-b02d-1fd4411dee83&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 201 if created successfully&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /addingAdmin Should respond with 201 if created successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;11090243799\&quot;,1, \&quot;admin\&quot;);\nlet res = await request(server)\n  .post(\&quot;/api/controlPanel/addAdmin\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({\n    phone_number: \&quot;11090243799\&quot;,\n    password: \&quot;testtest\&quot;,\n    name: \&quot;Fawzi E. Abdulfattah\&quot;,\n    role: \&quot;admin\&quot;,\n  })\n  .expect(201);\nexpect(res.body.data.phone_number).to.equal(\&quot;11090243799\&quot;);\ndeleteAdmin(\&quot;11090243799\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fd164bcc-2d71-4af6-84bf-ee0f210f3eed&quot;,&quot;parentUUID&quot;:&quot;d6e18ad8-8947-4e5f-b02d-1fd4411dee83&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should Respond with 403 if phone number is already Registered&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /addingAdmin Should Respond with 403 if phone number is already Registered&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1, \&quot;admin\&quot;);\nlet res = await request(server)\n  .post(\&quot;/api/controlPanel/addAdmin\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({\n    phone_number: \&quot;01090243795\&quot;,\n    password: \&quot;testtest\&quot;,\n    name: \&quot;Fawzi E. Abdulfattah\&quot;,\n    role: \&quot;admin\&quot;,\n  })\n  .expect(403);\ndeleteAdmin(\&quot;01090243795\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bbcec72a-3343-418c-bbfe-126f07d3ee34&quot;,&quot;parentUUID&quot;:&quot;d6e18ad8-8947-4e5f-b02d-1fd4411dee83&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;66dd1af0-6a92-4161-8c02-fa2aa1c6a709&quot;,&quot;fd164bcc-2d71-4af6-84bf-ee0f210f3eed&quot;,&quot;bbcec72a-3343-418c-bbfe-126f07d3ee34&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:14,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;99a5a575-c067-4516-ab30-f5dadeba112d&quot;,&quot;title&quot;:&quot;/signAdmin&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/controlPanel.test.js&quot;,&quot;file&quot;:&quot;/test/controlPanel.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should respond with 400 if input are missing (SCHEMA VALIDATION)&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /signAdmin should respond with 400 if input are missing (SCHEMA VALIDATION)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n  .post(\&quot;/api/controlPanel/signAdmin\&quot;)\n  .expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7c12f25b-be10-4043-bb47-05d24952caf0&quot;,&quot;parentUUID&quot;:&quot;99a5a575-c067-4516-ab30-f5dadeba112d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 401 when phone number is not found `backend side`&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /signAdmin should respond with 401 when phone number is not found `backend side`&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n  .post(\&quot;/api/controlPanel/signAdmin\&quot;)\n  .send({ phone_number: \&quot;01090243795\&quot;, password: \&quot;testest\&quot; })\n  .expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9c3db7e4-2a48-42ff-b8ae-ef4a9143fd5b&quot;,&quot;parentUUID&quot;:&quot;99a5a575-c067-4516-ab30-f5dadeba112d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 200 if admin loged in successfully&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /signAdmin should respond with 200 if admin loged in successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1, \&quot;admin\&quot;);\nlet res = await request(server)\n  .post(\&quot;/api/controlPanel/addAdmin\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({\n    phone_number: \&quot;01090243795\&quot;,\n    password: \&quot;testtest\&quot;,\n    name: \&quot;Fawzi E. Abdulfattah\&quot;,\n    role: \&quot;admin\&quot;,\n  })\n  .expect(201);\nexpect(res.body.data.phone_number).to.equal(\&quot;01090243795\&quot;);\nres = await request(server)\n  .post(\&quot;/api/controlPanel/signAdmin\&quot;)\n  .send({ phone_number: \&quot;01090243795\&quot;, password: \&quot;testtest\&quot; })\n  .expect(200);\nexpect(res.body.data.phone_number).to.equal(\&quot;01090243795\&quot;);\ndeleteAdmin(\&quot;01090243795\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;38e64aec-f7fc-46bd-9757-1fae7ee4c591&quot;,&quot;parentUUID&quot;:&quot;99a5a575-c067-4516-ab30-f5dadeba112d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7c12f25b-be10-4043-bb47-05d24952caf0&quot;,&quot;9c3db7e4-2a48-42ff-b8ae-ef4a9143fd5b&quot;,&quot;38e64aec-f7fc-46bd-9757-1fae7ee4c591&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:21,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;35c9c238-d78c-4edb-b243-ac2f29a2b74c&quot;,&quot;title&quot;:&quot;/checkAdminByToken&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/controlPanel.test.js&quot;,&quot;file&quot;:&quot;/test/controlPanel.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 401 if admin is not authorized&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /checkAdminByToken Should respond with 401 if admin is not authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109024379785\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n  .post(\&quot;/api/controlPanel/checkAdminByToken\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d290d37a-a7ae-4512-9048-588a34066f09&quot;,&quot;parentUUID&quot;:&quot;35c9c238-d78c-4edb-b243-ac2f29a2b74c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 200 if token is valid and referanced to admin&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /checkAdminByToken Should respond with 200 if token is valid and referanced to admin&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1, \&quot;admin\&quot;);\nlet res = await request(server)\n  .post(\&quot;/api/controlPanel/addAdmin\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({\n    phone_number: \&quot;01090243795\&quot;,\n    password: \&quot;testtest\&quot;,\n    name: \&quot;Fawzi E. Abdulfattah\&quot;,\n    role: \&quot;admin\&quot;,\n  })\n  .expect(201);\nres = await request(server)\n  .post(\&quot;/api/controlPanel/checkAdminByToken\&quot;)\n  .send({})\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .expect(200);\ndeleteAdmin(\&quot;01090243795\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;46eee8e9-7e55-47ea-95b3-0daccbdea23c&quot;,&quot;parentUUID&quot;:&quot;35c9c238-d78c-4edb-b243-ac2f29a2b74c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d290d37a-a7ae-4512-9048-588a34066f09&quot;,&quot;46eee8e9-7e55-47ea-95b3-0daccbdea23c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:16,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;d6a340fe-7441-4eb8-bf40-ec44ed0a7b48&quot;,&quot;title&quot;:&quot;/addImage&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/controlPanel.test.js&quot;,&quot;file&quot;:&quot;/test/controlPanel.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should responed with 201 if uploaded&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /addImage Should responed with 201 if uploaded&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1, \&quot;admin\&quot;);\nlet res = await request(server)\n  .post(\&quot;/api/controlPanel/addImage\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .set(\&quot;Content-Type\&quot;, \&quot;application/x-www-form-urlencoded\&quot;)\n  .attach(\&quot;file\&quot;, path.resolve(__dirname, \&quot;../logo.png\&quot;))\n  .expect(201);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a7b5ab8d-b201-45c0-a569-a380dda93544&quot;,&quot;parentUUID&quot;:&quot;d6a340fe-7441-4eb8-bf40-ec44ed0a7b48&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should responed with 403 if type not allowed&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /addImage Should responed with 403 if type not allowed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:46,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1, \&quot;admin\&quot;);\nlet res = await request(server)\n  .post(\&quot;/api/controlPanel/addImage\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .set(\&quot;Content-Type\&quot;, \&quot;application/x-www-form-urlencoded\&quot;)\n  .attach(\&quot;file\&quot;, path.resolve(__dirname, \&quot;../udemy-accs.txt\&quot;))\n  .expect(403);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5f7db45f-969b-4dd8-8a2a-b9f6b0546012&quot;,&quot;parentUUID&quot;:&quot;d6a340fe-7441-4eb8-bf40-ec44ed0a7b48&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a7b5ab8d-b201-45c0-a569-a380dda93544&quot;,&quot;5f7db45f-969b-4dd8-8a2a-b9f6b0546012&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:59,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;c91b2693-6b1a-4a32-99ce-435040ea55cb&quot;,&quot;title&quot;:&quot;/getCategories&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/controlPanel.test.js&quot;,&quot;file&quot;:&quot;/test/controlPanel.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 401 if not authorized&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /getCategories Should respond with 401 if not authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n  .get(\&quot;/api/controlPanel/getCategories\&quot;)\n  .expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d97aaf14-b8a3-4875-a86e-184749675faf&quot;,&quot;parentUUID&quot;:&quot;c91b2693-6b1a-4a32-99ce-435040ea55cb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 200 if got categories successfully&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /getCategories Should respond with 200 if got categories successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1, \&quot;admin\&quot;);\nlet res = await request(server)\n  .get(\&quot;/api/controlPanel/getCategories\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .expect(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3ba235f6-3af3-4ed1-aefc-0e511cbcb8eb&quot;,&quot;parentUUID&quot;:&quot;c91b2693-6b1a-4a32-99ce-435040ea55cb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d97aaf14-b8a3-4875-a86e-184749675faf&quot;,&quot;3ba235f6-3af3-4ed1-aefc-0e511cbcb8eb&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:7,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;214a7d02-5389-4798-88e7-00a1b12644d8&quot;,&quot;title&quot;:&quot;/getDoctors&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/controlPanel.test.js&quot;,&quot;file&quot;:&quot;/test/controlPanel.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 401 if not authorized&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /getDoctors Should respond with 401 if not authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n  .get(\&quot;/api/controlPanel/getCategories\&quot;)\n  .expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f7ccd06d-3a3a-4785-86a0-3f9f70bd3d72&quot;,&quot;parentUUID&quot;:&quot;214a7d02-5389-4798-88e7-00a1b12644d8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 200 if got categories successfully&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /getDoctors Should respond with 200 if got categories successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1, \&quot;admin\&quot;);\nlet res = await request(server)\n  .get(\&quot;/api/controlPanel/getDoctors\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .expect(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;816a3c4a-005f-48c4-883a-e1f5eea2cd56&quot;,&quot;parentUUID&quot;:&quot;214a7d02-5389-4798-88e7-00a1b12644d8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f7ccd06d-3a3a-4785-86a0-3f9f70bd3d72&quot;,&quot;816a3c4a-005f-48c4-883a-e1f5eea2cd56&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;cf4346c3-252a-4890-8211-84cd4f34b0ac&quot;,&quot;title&quot;:&quot;/deleteDoctor&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/controlPanel.test.js&quot;,&quot;file&quot;:&quot;/test/controlPanel.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 401 if not authorized&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /deleteDoctor Should respond with 401 if not authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n  .get(\&quot;/api/controlPanel/getCategories\&quot;)\n  .expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;916727e1-a626-4958-87e0-b4f9b51f9e38&quot;,&quot;parentUUID&quot;:&quot;cf4346c3-252a-4890-8211-84cd4f34b0ac&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 404 if doctor not found&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /deleteDoctor Should respond with 404 if doctor not found&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1, \&quot;admin\&quot;);\nlet res = await request(server)\n  .delete(\&quot;/api/controlPanel/deleteDoctor\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({ phone_number: \&quot;0109024371111212129511113\&quot;})\n  .expect(404);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;63173971-dd2d-4cea-b9ba-f916a674bf84&quot;,&quot;parentUUID&quot;:&quot;cf4346c3-252a-4890-8211-84cd4f34b0ac&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 200 if doctor deleted successfully&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /deleteDoctor Should respond with 200 if doctor deleted successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1, \&quot;admin\&quot;);\nlet res = await request(server)\n  .delete(\&quot;/api/controlPanel/deleteDoctor\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({ phone_number: \&quot;01090243798\&quot;}) // this tee number which registered above\n  .expect(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a9d5eb09-2b4e-4a71-b72b-202e52dff917&quot;,&quot;parentUUID&quot;:&quot;cf4346c3-252a-4890-8211-84cd4f34b0ac&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;916727e1-a626-4958-87e0-b4f9b51f9e38&quot;,&quot;63173971-dd2d-4cea-b9ba-f916a674bf84&quot;,&quot;a9d5eb09-2b4e-4a71-b72b-202e52dff917&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:8,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;079897b0-09e2-4e93-9099-fc0c6223a725&quot;,&quot;title&quot;:&quot;/toggleBlock&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/controlPanel.test.js&quot;,&quot;file&quot;:&quot;/test/controlPanel.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 401 if not authorized&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /toggleBlock Should respond with 401 if not authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n  .patch(\&quot;/api/controlPanel/toggleBlock\&quot;)\n  .expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;763e0e6c-c3d1-4386-b069-6d5023e14578&quot;,&quot;parentUUID&quot;:&quot;079897b0-09e2-4e93-9099-fc0c6223a725&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 404 if user not found&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /toggleBlock Should respond with 404 if user not found&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1, \&quot;admin\&quot;);\nlet res = await request(server)\n  .patch(\&quot;/api/controlPanel/toggleBlock\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({ phone_number: \&quot;0109024371111212129511113\&quot;})\n  .expect(404);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c43bf947-1075-4bc2-b23c-af61d91f8908&quot;,&quot;parentUUID&quot;:&quot;079897b0-09e2-4e93-9099-fc0c6223a725&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 200 if toggle user&#x27;s block successfully&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /toggleBlock Should respond with 200 if toggle user&#x27;s block successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;015902433199\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;djdj84\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n})\n.expect(201);\nconst token = genToken(\&quot;01090243795\&quot;,1, \&quot;admin\&quot;);\nres = await request(server)\n  .patch(\&quot;/api/controlPanel/toggleBlock\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({ phone_number: \&quot;015902433199\&quot;})\n  .expect(200);\n  deleteUser(\&quot;015902433199\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2f302751-38ae-4d30-b3e9-5336876a1696&quot;,&quot;parentUUID&quot;:&quot;079897b0-09e2-4e93-9099-fc0c6223a725&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;763e0e6c-c3d1-4386-b069-6d5023e14578&quot;,&quot;c43bf947-1075-4bc2-b23c-af61d91f8908&quot;,&quot;2f302751-38ae-4d30-b3e9-5336876a1696&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:19,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;b9a4cdf7-d15c-45e6-be9e-d2cb8227d7b5&quot;,&quot;title&quot;:&quot;/getDoctorSlots&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/controlPanel.test.js&quot;,&quot;file&quot;:&quot;/test/controlPanel.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 401 if not authorized&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /getDoctorSlots Should respond with 401 if not authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n  .post(\&quot;/api/controlPanel/getDoctorSlots\&quot;)\n  .expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c3aac9b2-a36b-41d0-b87d-46720504cc2e&quot;,&quot;parentUUID&quot;:&quot;b9a4cdf7-d15c-45e6-be9e-d2cb8227d7b5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 400 doctor_id is missing or incorrect&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /getDoctorSlots Should respond with 400 doctor_id is missing or incorrect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1, \&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/controlPanel/getDoctorSlots\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({ doctor_id: \&quot;ahmed\&quot;})\n  .expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;73b0aa23-b8d9-4368-b231-e2658862514c&quot;,&quot;parentUUID&quot;:&quot;b9a4cdf7-d15c-45e6-be9e-d2cb8227d7b5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 200 if got doctor&#x27;s slots successfully&quot;,&quot;fullTitle&quot;:&quot;/api/controlPanel /getDoctorSlots Should respond with 200 if got doctor&#x27;s slots successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1, \&quot;admin\&quot;);\nlet res = await request(server)\n  .post(\&quot;/api/controlPanel/getDoctorSlots\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({ doctor_id: 11})\n  .expect(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1f4bcf15-ee2c-4f42-8b46-f86e2b932f36&quot;,&quot;parentUUID&quot;:&quot;b9a4cdf7-d15c-45e6-be9e-d2cb8227d7b5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c3aac9b2-a36b-41d0-b87d-46720504cc2e&quot;,&quot;73b0aa23-b8d9-4368-b231-e2658862514c&quot;,&quot;1f4bcf15-ee2c-4f42-8b46-f86e2b932f36&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:6,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;2f798efa-e359-4d76-bac2-3229899af614&quot;,&quot;title&quot;:&quot;/api/doctors&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/doctors.js&quot;,&quot;file&quot;:&quot;/test/doctors.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/doctors \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;server = require(\&quot;../app\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;18d5fa07-db16-4f48-a3f0-7febc7a02520&quot;,&quot;parentUUID&quot;:&quot;2f798efa-e359-4d76-bac2-3229899af614&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/doctors \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0ea048fc-8514-43f8-a7ac-2dfe13e8c0bb&quot;,&quot;parentUUID&quot;:&quot;2f798efa-e359-4d76-bac2-3229899af614&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;e7e4420d-30b4-4059-9b65-52ab886b3497&quot;,&quot;title&quot;:&quot;/getDoctor&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/doctors.js&quot;,&quot;file&quot;:&quot;/test/doctors.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 400 if phone doctor_id is missing (validation schema)&quot;,&quot;fullTitle&quot;:&quot;/api/doctors /getDoctor Should respond with 400 if phone doctor_id is missing (validation schema)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/doctors/getDoctor\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({})\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4f521870-5e01-4751-812e-d3a836784b25&quot;,&quot;parentUUID&quot;:&quot;e7e4420d-30b4-4059-9b65-52ab886b3497&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 401 if not authorized&quot;,&quot;fullTitle&quot;:&quot;/api/doctors /getDoctor Should respond with 401 if not authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/doctors/getDoctor\&quot;)\n.send({doctor_id: \&quot;1233\&quot;})\n.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9378750e-7fac-4ccd-b575-4800289b0d19&quot;,&quot;parentUUID&quot;:&quot;e7e4420d-30b4-4059-9b65-52ab886b3497&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 404 if doctor not found&quot;,&quot;fullTitle&quot;:&quot;/api/doctors /getDoctor Should respond with 404 if doctor not found&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1,\&quot;user\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/doctors/getDoctor\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({doctor_id: 54878785})\n.expect(404);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d83486c0-7b28-42bb-9796-5b32c03ff834&quot;,&quot;parentUUID&quot;:&quot;e7e4420d-30b4-4059-9b65-52ab886b3497&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 200 if got doctor successfully&quot;,&quot;fullTitle&quot;:&quot;/api/doctors /getDoctor Should respond with 200 if got doctor successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/controlPanel/addDoctor\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;phone_number\&quot;:\&quot;01090113795\&quot;,\n    \&quot;password\&quot;:\&quot;testtest\&quot;,\n    \&quot;first_name\&quot;:\&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;: \&quot;ahmed\&quot;,\n    \&quot;country\&quot;:\&quot;egypt\&quot;,\n    \&quot;category_id\&quot;:1,\n    \&quot;picture\&quot;:\&quot;fkfjkfj\&quot;,\n    \&quot;price\&quot;: \&quot;100\&quot;,\n})\n.expect(201);\nconst doctor_id = res.body.data.doctor_id;\nres = await request(server)\n.post(\&quot;/api/doctors/getDoctor\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({doctor_id: doctor_id})\n.expect(200);\ndeleteDoctor(\&quot;01090113795\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6309946b-78fa-4e83-b25d-ec926f3443ec&quot;,&quot;parentUUID&quot;:&quot;e7e4420d-30b4-4059-9b65-52ab886b3497&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4f521870-5e01-4751-812e-d3a836784b25&quot;,&quot;9378750e-7fac-4ccd-b575-4800289b0d19&quot;,&quot;d83486c0-7b28-42bb-9796-5b32c03ff834&quot;,&quot;6309946b-78fa-4e83-b25d-ec926f3443ec&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:22,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;2ae04c03-b2a9-43e8-8599-53fd801b7f10&quot;,&quot;title&quot;:&quot;/getDoctors&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/doctors.js&quot;,&quot;file&quot;:&quot;/test/doctors.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 401 if not authorized&quot;,&quot;fullTitle&quot;:&quot;/api/doctors /getDoctors Should respond with 401 if not authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/doctors/getDoctors\&quot;)\n.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1aa9b834-0813-45e0-8536-e650050bbba7&quot;,&quot;parentUUID&quot;:&quot;2ae04c03-b2a9-43e8-8599-53fd801b7f10&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 200 if got doctors successfully&quot;,&quot;fullTitle&quot;:&quot;/api/doctors /getDoctors Should respond with 200 if got doctors successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1,\&quot;user\&quot;);\n            let res = await request(server)\n            .post(\&quot;/api/doctors/getDoctors\&quot;)\n            .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n            .send({category_id: 42})\n            .expect(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8db98d85-7ff3-4334-be5a-8ffb6ddc5f9c&quot;,&quot;parentUUID&quot;:&quot;2ae04c03-b2a9-43e8-8599-53fd801b7f10&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1aa9b834-0813-45e0-8536-e650050bbba7&quot;,&quot;8db98d85-7ff3-4334-be5a-8ffb6ddc5f9c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:7,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;f86ad05f-b3bf-484a-bc6a-66640fdbbe4a&quot;,&quot;title&quot;:&quot;/updateDoctor&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/doctors.js&quot;,&quot;file&quot;:&quot;/test/doctors.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 401 if not authorized&quot;,&quot;fullTitle&quot;:&quot;/api/doctors /updateDoctor Should respond with 401 if not authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.patch(\&quot;/api/doctors/updateDoctor\&quot;)\n.send({\&quot;phone_number\&quot;:\&quot;3487\&quot;})\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;57940cf6-6ee1-4c99-bb2a-06f67f67709c&quot;,&quot;parentUUID&quot;:&quot;f86ad05f-b3bf-484a-bc6a-66640fdbbe4a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 400 if field is nor allowed&quot;,&quot;fullTitle&quot;:&quot;/api/doctors /updateDoctor Should respond with 400 if field is nor allowed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01590243311\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.patch(\&quot;/api/doctors/updateDoctor\&quot;)\n.send({\&quot;fb_token_id\&quot;:\&quot;3487\&quot;})\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;44a36f76-bd34-44c1-89fa-d52a52018b54&quot;,&quot;parentUUID&quot;:&quot;f86ad05f-b3bf-484a-bc6a-66640fdbbe4a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 200 if successfully updated&quot;,&quot;fullTitle&quot;:&quot;/api/doctors /updateDoctor Should respond with 200 if successfully updated&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;11090243799\&quot;,1, \&quot;admin\&quot;);\nlet res = await request(server)\n  .post(\&quot;/api/controlPanel/addDoctor\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .send({\n    phone_number: \&quot;11090243799\&quot;,\n    password: \&quot;testtest\&quot;,\n    first_name: \&quot;fawzi\&quot;,\n    last_name: \&quot;ahmed\&quot;,\n    country: \&quot;egypt\&quot;,\n    category_id: 1,\n    picture: \&quot;fkfjkfj\&quot;,\n    price: \&quot;100\&quot;,\n  })\n  .expect(201);\n  const docId = res.body.data.doctor_id;\nres = await request(server)\n .patch(\&quot;/api/doctors/updateDoctor\&quot;)\n.send({\n    doctor_id: docId,\n    phone_number: \&quot;112345\&quot;,\n    password: \&quot;t123\&quot;,\n    first_name: \&quot;fawziiiii\&quot;,\n    last_name: \&quot;ahmedddddd\&quot;,\n    country: \&quot;saudiarabia\&quot;,\n    category_id: 5,\n    picture: \&quot;fkfjkfj\&quot;,\n    price: \&quot;300\&quot;,\n})\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(200);\nexpect(res.body.data.phone_number).to.equal(\&quot;112345\&quot;);\nexpect(res.body.data.password).to.equal(\&quot;t123\&quot;);\nexpect(res.body.data.first_name).to.equal(\&quot;fawziiiii\&quot;);\nexpect(res.body.data.last_name).to.equal(\&quot;ahmedddddd\&quot;);\nexpect(res.body.data.country).to.equal(\&quot;saudiarabia\&quot;);\nexpect(res.body.data.category_id).to.equal(5);\nexpect(res.body.data.picture).to.equal(\&quot;fkfjkfj\&quot;);\nexpect(res.body.data.price).to.equal(\&quot;300\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b82055f1-d3ce-46aa-b355-0f5911868e45&quot;,&quot;parentUUID&quot;:&quot;f86ad05f-b3bf-484a-bc6a-66640fdbbe4a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 403 if new phone number is already registered&quot;,&quot;fullTitle&quot;:&quot;/api/doctors /updateDoctor Should respond with 403 if new phone number is already registered&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01590243313\&quot;,1,\&quot;admin\&quot;);\n          let res = await request(server)\n.post(\&quot;/api/controlPanel/addDoctor\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n  phone_number: \&quot;110902411\&quot;,\n  password: \&quot;testtest\&quot;,\n  first_name: \&quot;fawzi\&quot;,\n  last_name: \&quot;ahmed\&quot;,\n  country: \&quot;egypt\&quot;,\n  category_id: 1,\n  picture: \&quot;fkfjkfj\&quot;,\n  price: \&quot;100\&quot;,\n})\n.expect(201);\nconst docId = res.body.data.doctor_id;\nres = await request(server)\n.patch(\&quot;/api/doctors/updateDoctor\&quot;)\n.send({\n    doctor_id: docId,\n    phone_number: \&quot;112345\&quot;,\n})\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(403);\ndeleteDoctor(\&quot;110902411\&quot;);\ndeleteDoctor(\&quot;112345\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;79f258fa-09b8-44dd-928c-9bee4ef1aa20&quot;,&quot;parentUUID&quot;:&quot;f86ad05f-b3bf-484a-bc6a-66640fdbbe4a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;57940cf6-6ee1-4c99-bb2a-06f67f67709c&quot;,&quot;44a36f76-bd34-44c1-89fa-d52a52018b54&quot;,&quot;b82055f1-d3ce-46aa-b355-0f5911868e45&quot;,&quot;79f258fa-09b8-44dd-928c-9bee4ef1aa20&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:27,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;276e7d16-9641-4a77-acde-0a961fb59196&quot;,&quot;title&quot;:&quot;/api/messages&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/messages.test.js&quot;,&quot;file&quot;:&quot;/test/messages.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/messages \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;server = require(\&quot;../app\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ccbb5f2b-b025-4798-9aa2-6ab57c15d084&quot;,&quot;parentUUID&quot;:&quot;276e7d16-9641-4a77-acde-0a961fb59196&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/messages \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fa070eb5-3cfc-4abd-94bb-11c33c1fc3f2&quot;,&quot;parentUUID&quot;:&quot;276e7d16-9641-4a77-acde-0a961fb59196&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;2a23b24c-6f92-477a-959d-f8fb432c95fc&quot;,&quot;title&quot;:&quot;/getFinishedMessages&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/messages.test.js&quot;,&quot;file&quot;:&quot;/test/messages.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/messages /getFinishedMessages Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/messages/getFinishedMessages\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d3e71a7b-e43f-4424-ac44-c685597149a6&quot;,&quot;parentUUID&quot;:&quot;2a23b24c-6f92-477a-959d-f8fb432c95fc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 400 if room_id is missed&quot;,&quot;fullTitle&quot;:&quot;/api/messages /getFinishedMessages Should respond with 400 if room_id is missed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;user\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/messages/getFinishedMessages\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({room_id: 1591470036382}) // should be a string not number\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c3fad3f8-b280-41e1-8e36-b454919c5a79&quot;,&quot;parentUUID&quot;:&quot;2a23b24c-6f92-477a-959d-f8fb432c95fc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 200 if got messages successfully&quot;,&quot;fullTitle&quot;:&quot;/api/messages /getFinishedMessages Should respond 200 if got messages successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;user\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/messages/getFinishedMessages\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({room_id: \&quot;1591470036382\&quot;}) \n.expect(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b16db73b-97c9-42c0-99cb-46b015ba768a&quot;,&quot;parentUUID&quot;:&quot;2a23b24c-6f92-477a-959d-f8fb432c95fc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d3e71a7b-e43f-4424-ac44-c685597149a6&quot;,&quot;c3fad3f8-b280-41e1-8e36-b454919c5a79&quot;,&quot;b16db73b-97c9-42c0-99cb-46b015ba768a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:11,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;6efe89aa-c36f-421b-8bbd-7633d991d18c&quot;,&quot;title&quot;:&quot;/uploadFile&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/messages.test.js&quot;,&quot;file&quot;:&quot;/test/messages.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should responed with 201 if uploaded&quot;,&quot;fullTitle&quot;:&quot;/api/messages /uploadFile Should responed with 201 if uploaded&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1, \&quot;user\&quot;);\nlet res = await request(server)\n  .post(\&quot;/api/messages/uploadFile\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .set(\&quot;chatRoomId\&quot;, `589598958`)\n  .set(\&quot;Content-Type\&quot;, \&quot;application/x-www-form-urlencoded\&quot;)\n  .attach(\&quot;file\&quot;, path.resolve(__dirname, \&quot;../logo.png\&quot;))\n  .expect(201);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c6a302d7-41fc-4a28-8f21-4b0e465e22b1&quot;,&quot;parentUUID&quot;:&quot;6efe89aa-c36f-421b-8bbd-7633d991d18c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should responed with 403 if type is not allowed&quot;,&quot;fullTitle&quot;:&quot;/api/messages /uploadFile Should responed with 403 if type is not allowed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:88,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01090243795\&quot;,1, \&quot;user\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/messages/uploadFile\&quot;)\n  .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n  .set(\&quot;chatRoomId\&quot;, `589598958`)\n  .set(\&quot;Content-Type\&quot;, \&quot;application/x-www-form-urlencoded\&quot;)\n  .field(&#x27;fawziSbahElkher&#x27;, &#x27;test yearb yeshtaghl&#x27;)\n  .attach(\&quot;file\&quot;, path.resolve(__dirname, \&quot;../udemy-accs.txt\&quot;))\n  .expect(403);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;34a29994-0e37-4d0d-9650-f43779292fbf&quot;,&quot;parentUUID&quot;:&quot;6efe89aa-c36f-421b-8bbd-7633d991d18c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c6a302d7-41fc-4a28-8f21-4b0e465e22b1&quot;,&quot;34a29994-0e37-4d0d-9650-f43779292fbf&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:104,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;21e5b046-1798-41dc-a79c-78dc8b60d010&quot;,&quot;title&quot;:&quot;/api/slots&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/slots.test.js&quot;,&quot;file&quot;:&quot;/test/slots.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/slots \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;server = require(\&quot;../app\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5701f885-862d-44f4-9c11-411253bb42b1&quot;,&quot;parentUUID&quot;:&quot;21e5b046-1798-41dc-a79c-78dc8b60d010&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/slots \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f6725b06-c6f3-4055-ae2a-7951268d0d57&quot;,&quot;parentUUID&quot;:&quot;21e5b046-1798-41dc-a79c-78dc8b60d010&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;561e4bbd-9dc9-405b-af5d-d58c4e9d4991&quot;,&quot;title&quot;:&quot;/addSlot&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/slots.test.js&quot;,&quot;file&quot;:&quot;/test/slots.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/slots /addSlot Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/slots/addSlot\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d6d3a1da-7b66-4d76-916f-5d3a9c00b055&quot;,&quot;parentUUID&quot;:&quot;561e4bbd-9dc9-405b-af5d-d58c4e9d4991&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;fullTitle&quot;:&quot;/api/slots /addSlot Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/slots/addSlot\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;day\&quot;:\&quot;mon\&quot;,\n    \&quot;slot_time\&quot;:\&quot;60:00\&quot;,\n    \&quot;available\&quot;:false\n    })\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c7e562c1-ee24-46cf-a421-458fdc311c2c&quot;,&quot;parentUUID&quot;:&quot;561e4bbd-9dc9-405b-af5d-d58c4e9d4991&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 200 addedd Successfully&quot;,&quot;fullTitle&quot;:&quot;/api/slots /addSlot Should respond 200 addedd Successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/controlPanel/addDoctor\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;phone_number\&quot;:\&quot;01090113795\&quot;,\n    \&quot;password\&quot;:\&quot;testtest\&quot;,\n    \&quot;first_name\&quot;:\&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;: \&quot;ahmed\&quot;,\n    \&quot;country\&quot;:\&quot;egypt\&quot;,\n    \&quot;category_id\&quot;:1,\n    \&quot;picture\&quot;:\&quot;fkfjkfj\&quot;,\n    \&quot;price\&quot;: \&quot;100\&quot;,\n})\n.expect(201);\nconst docId = res.body.data.doctor_id;\nres = await request(server)\n.post(\&quot;/api/slots/addSlot\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;doctor_id\&quot;:docId,\n    \&quot;day\&quot;:\&quot;mon\&quot;,\n    \&quot;start_time\&quot;:\&quot;23:00\&quot;,\n    \&quot;slot_time\&quot;:\&quot;3300\&quot;,\n    \&quot;available\&quot;:false\n    })\n.expect(201);\nconst slotId = res.body.data.slot_id;\ndeleteDoctor(\&quot;01090113795\&quot;);\n// deleteSlot(slotId);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;53c58601-e170-4837-85b0-fce9a0603de5&quot;,&quot;parentUUID&quot;:&quot;561e4bbd-9dc9-405b-af5d-d58c4e9d4991&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d6d3a1da-7b66-4d76-916f-5d3a9c00b055&quot;,&quot;c7e562c1-ee24-46cf-a421-458fdc311c2c&quot;,&quot;53c58601-e170-4837-85b0-fce9a0603de5&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:14,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;d6f4102f-75c5-4f76-8817-91c793fd2e97&quot;,&quot;title&quot;:&quot;/updateSlot&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/slots.test.js&quot;,&quot;file&quot;:&quot;/test/slots.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/slots /updateSlot Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.patch(\&quot;/api/slots/updateSlot\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9b94433d-c9af-4613-8abb-add553bbc484&quot;,&quot;parentUUID&quot;:&quot;d6f4102f-75c5-4f76-8817-91c793fd2e97&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 400 if one of inputs is incorrect&quot;,&quot;fullTitle&quot;:&quot;/api/slots /updateSlot Should respond 400 if one of inputs is incorrect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.patch(\&quot;/api/slots/updateSlot\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;ahmed\&quot;:\&quot;mon\&quot;,\n    })\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;eed5a857-6b06-488e-ba0c-0dd0db1b0627&quot;,&quot;parentUUID&quot;:&quot;d6f4102f-75c5-4f76-8817-91c793fd2e97&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 200 updated Successfully&quot;,&quot;fullTitle&quot;:&quot;/api/slots /updateSlot Should respond 200 updated Successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;admin\&quot;);\nlet res = await request(server)\n.patch(\&quot;/api/slots/updateSlot\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;slot_id\&quot;:1,\n    \&quot;day\&quot;:\&quot;wed\&quot;,\n    \&quot;start_time\&quot;:\&quot;21:00\&quot;,\n    \&quot;slot_time\&quot;:\&quot;30:00\&quot;,\n    \&quot;available\&quot;:true\n    })\n.expect(200);\nexpect(res.body.data.day).to.equal(\&quot;wed\&quot;);\nconst slotId = res.body.data.slot_id;\n// deleteSlot(slotId);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;475c2cf4-ca8c-4ede-b44e-032ac432c64a&quot;,&quot;parentUUID&quot;:&quot;d6f4102f-75c5-4f76-8817-91c793fd2e97&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;9b94433d-c9af-4613-8abb-add553bbc484&quot;,&quot;eed5a857-6b06-488e-ba0c-0dd0db1b0627&quot;,&quot;475c2cf4-ca8c-4ede-b44e-032ac432c64a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:9,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;c30f8d05-2e0e-4165-b73b-fcb5cdf2b6c9&quot;,&quot;title&quot;:&quot;/getOpenSlots&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/slots.test.js&quot;,&quot;file&quot;:&quot;/test/slots.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/slots /getOpenSlots Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/slots/getOpenSlots\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5096190c-e340-41f2-a564-d97528ac95e7&quot;,&quot;parentUUID&quot;:&quot;c30f8d05-2e0e-4165-b73b-fcb5cdf2b6c9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;fullTitle&quot;:&quot;/api/slots /getOpenSlots Should respond 400 if one of inputs is missing or incorrect&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;user\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/slots/getOpenSlots\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;doctor_id\&quot;:44554,\n    })\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0b606089-f54c-4d48-9d70-a09e0df11003&quot;,&quot;parentUUID&quot;:&quot;c30f8d05-2e0e-4165-b73b-fcb5cdf2b6c9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 200 got slots Successfully&quot;,&quot;fullTitle&quot;:&quot;/api/slots /getOpenSlots Should respond 200 got slots Successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:38,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;user\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;01590243399\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;djdj84\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n})\n.expect(201);\nconst userId = res.body.data.user_id;\n res = await request(server)\n.post(\&quot;/api/slots/getOpenSlots\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({\n    \&quot;doctor_id\&quot;: 11,\n    \&quot;searchIn\&quot;:30,\n    })\n.expect(200);\ndeleteUser(\&quot;01590243399\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e62ddbce-8ff5-4d5c-a90f-986802db58aa&quot;,&quot;parentUUID&quot;:&quot;c30f8d05-2e0e-4165-b73b-fcb5cdf2b6c9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;5096190c-e340-41f2-a564-d97528ac95e7&quot;,&quot;0b606089-f54c-4d48-9d70-a09e0df11003&quot;,&quot;e62ddbce-8ff5-4d5c-a90f-986802db58aa&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:40,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;6b6ce9b3-1907-4e4c-aeac-b2cdc500a4f6&quot;,&quot;title&quot;:&quot;/getDoctorDays&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/slots.test.js&quot;,&quot;file&quot;:&quot;/test/slots.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond 401 if not Authorized&quot;,&quot;fullTitle&quot;:&quot;/api/slots /getDoctorDays Should respond 401 if not Authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\t\n            .post(\&quot;/api/slots/addSlot\&quot;)\t\n            .expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7718c460-08ff-4f73-868e-dfcc5b7a79f3&quot;,&quot;parentUUID&quot;:&quot;6b6ce9b3-1907-4e4c-aeac-b2cdc500a4f6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond 200 if got days susccessfully&quot;,&quot;fullTitle&quot;:&quot;/api/slots /getDoctorDays Should respond 200 if got days susccessfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;0109034748\&quot;,1,\&quot;admin\&quot;);\t\n            let res = await request(server)\t\n            .post(\&quot;/api/controlPanel/addDoctor\&quot;)\t\n            .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\t\n            .send({\t\n                \&quot;phone_number\&quot;:\&quot;01090113785\&quot;,\t\n                \&quot;password\&quot;:\&quot;testtest\&quot;,\t\n                \&quot;first_name\&quot;:\&quot;fawzi\&quot;,\t\n                \&quot;last_name\&quot;: \&quot;ahmed\&quot;,\t\n                \&quot;country\&quot;:\&quot;egypt\&quot;,\t\n                \&quot;category_id\&quot;:1,\t\n                \&quot;picture\&quot;:\&quot;fkfjkfj\&quot;,\t\n                \&quot;price\&quot;: \&quot;100\&quot;,\t\n            })\t\n            .expect(201);\t\n            const docId = res.body.data.doctor_id;\t\n            res = await request(server)\t\n            .post(\&quot;/api/slots/addSlot\&quot;)\t\n            .set(\&quot;Authorization\&quot;, `Bearer ${token}`)\t\n            .send({\t\n                \&quot;doctor_id\&quot;:docId,\t\n                \&quot;day\&quot;:\&quot;mon\&quot;,\t\n                \&quot;start_time\&quot;:\&quot;23:00\&quot;,\t\n                \&quot;slot_time\&quot;:\&quot;60:00\&quot;,\t\n                \&quot;available\&quot;:false\t\n                })\t\n            .expect(201);\t\n            const slotId = res.body.data.slot_id;\t\n            const doctorToken = genToken(\&quot;01090113795\&quot;,1,\&quot;doctor\&quot;);\t\n            res = await request(server)\t\n            .post(\&quot;/api/slots/getDoctorDays\&quot;)\t\n            .set(\&quot;Authorization\&quot;, `Bearer ${doctorToken}`)\t\n            .expect(200);\t\n            deleteDoctor(\&quot;01090113785\&quot;);\t\n            // deleteSlot(slotId);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5be393a4-9930-49f2-ba02-3ba5a8ff8804&quot;,&quot;parentUUID&quot;:&quot;6b6ce9b3-1907-4e4c-aeac-b2cdc500a4f6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7718c460-08ff-4f73-868e-dfcc5b7a79f3&quot;,&quot;5be393a4-9930-49f2-ba02-3ba5a8ff8804&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:13,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;87ed5526-009c-4db8-8c9a-a7a4b72df91e&quot;,&quot;title&quot;:&quot;/api/user&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/user.js&quot;,&quot;file&quot;:&quot;/test/user.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/user \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;server = require(\&quot;../app\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;df0e361b-e204-418a-aa77-944c16f7a10d&quot;,&quot;parentUUID&quot;:&quot;87ed5526-009c-4db8-8c9a-a7a4b72df91e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;/api/user \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1599ab95-5577-44c6-926c-6a6acc412da3&quot;,&quot;parentUUID&quot;:&quot;87ed5526-009c-4db8-8c9a-a7a4b72df91e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;d79570aa-87e3-4655-bd72-76d6b764a2de&quot;,&quot;title&quot;:&quot;/updateInfo&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/user.js&quot;,&quot;file&quot;:&quot;/test/user.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 401 if not authorized&quot;,&quot;fullTitle&quot;:&quot;/api/user /updateInfo Should respond with 401 if not authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.patch(\&quot;/api/user/updateInfo\&quot;)\n.send({\&quot;phone_number\&quot;:\&quot;3487\&quot;})\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;44f7d900-173b-472e-aa12-6930ee273d4b&quot;,&quot;parentUUID&quot;:&quot;d79570aa-87e3-4655-bd72-76d6b764a2de&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 400 if field is nor allowed&quot;,&quot;fullTitle&quot;:&quot;/api/user /updateInfo Should respond with 400 if field is nor allowed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01590243311\&quot;,1,\&quot;user\&quot;);\nlet res = await request(server)\n.patch(\&quot;/api/user/updateInfo\&quot;)\n.send({\&quot;fb_token_id\&quot;:\&quot;3487\&quot;})\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1182e0b3-fe49-4e3c-a606-15ee7dee9478&quot;,&quot;parentUUID&quot;:&quot;d79570aa-87e3-4655-bd72-76d6b764a2de&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 200 if successfully updated&quot;,&quot;fullTitle&quot;:&quot;/api/user /updateInfo Should respond with 200 if successfully updated&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:21,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;01590243311\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;djdj84\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n}).expect(201);\nexpect(res.body.data.phone_number).to.equal(\&quot;01590243311\&quot;);\nconst token = genToken(\&quot;01590243311\&quot;,1,\&quot;user\&quot;);\n res = await request(server)\n.patch(\&quot;/api/user/updateInfo\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;12345\&quot;,\n    \&quot;first_name\&quot;: \&quot;ahmed\&quot;,\n    \&quot;last_name\&quot;:\&quot;mohammed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-22\&quot;,\n    \&quot;weight\&quot;: 200,\n    \&quot;height\&quot;: 300,\n    \&quot;bmi\&quot;: 50,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n})\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(200);\nexpect(res.body.data.phone_number).to.equal(\&quot;12345\&quot;);\nexpect(res.body.data.first_name).to.equal(\&quot;ahmed\&quot;);\nexpect(res.body.data.last_name).to.equal(\&quot;mohammed\&quot;);\nexpect(res.body.data.birth_date).to.equal(\&quot;1999-03-22\&quot;);\nexpect(res.body.data.weight).to.equal(200);\nexpect(res.body.data.height).to.equal(300);\nexpect(res.body.data.bmi).to.equal(50);\nexpect(res.body.data.gender).to.equal(\&quot;male\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;829d7f45-5cc5-403f-9053-acf9dd9cf734&quot;,&quot;parentUUID&quot;:&quot;d79570aa-87e3-4655-bd72-76d6b764a2de&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should respond with 403 if phone number is already registered&quot;,&quot;fullTitle&quot;:&quot;/api/user /updateInfo Should respond with 403 if phone number is already registered&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;01590243313\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;djdj84\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n}).expect(201);\nexpect(res.body.data.phone_number).to.equal(\&quot;01590243313\&quot;);\nconst token = genToken(\&quot;01590243313\&quot;,1,\&quot;user\&quot;);\n res = await request(server)\n.patch(\&quot;/api/user/updateInfo\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;12345\&quot;,\n    \&quot;first_name\&quot;: \&quot;ahmed\&quot;,\n    \&quot;last_name\&quot;:\&quot;mohammed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-22\&quot;,\n    \&quot;weight\&quot;: 200,\n    \&quot;height\&quot;: 300,\n    \&quot;bmi\&quot;: 50,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n})\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(403);\ndeleteUser(\&quot;01590243313\&quot;);\ndeleteUser(\&quot;12345\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9444b76d-fcb9-4914-a82a-4c6e17e72c98&quot;,&quot;parentUUID&quot;:&quot;d79570aa-87e3-4655-bd72-76d6b764a2de&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;44f7d900-173b-472e-aa12-6930ee273d4b&quot;,&quot;1182e0b3-fe49-4e3c-a606-15ee7dee9478&quot;,&quot;829d7f45-5cc5-403f-9053-acf9dd9cf734&quot;,&quot;9444b76d-fcb9-4914-a82a-4c6e17e72c98&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:36,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;09c11a9c-af12-4d75-af66-fb64177a67b7&quot;,&quot;title&quot;:&quot;/notBlocked&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/user.js&quot;,&quot;file&quot;:&quot;/test/user.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 401 if not authorized&quot;,&quot;fullTitle&quot;:&quot;/api/user /notBlocked Should respond with 401 if not authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.get(\&quot;/api/user/notBlocked\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5fb225f6-8034-4641-8faa-2532ab8937fa&quot;,&quot;parentUUID&quot;:&quot;09c11a9c-af12-4d75-af66-fb64177a67b7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 403 if user is blocked&quot;,&quot;fullTitle&quot;:&quot;/api/user /notBlocked should respond with 403 if user is blocked&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;01590243399\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;test\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n}).expect(201);\nconst token = genToken(\&quot;01590243399\&quot;,1,\&quot;user\&quot;);\nawait blockUser(\&quot;01590243399\&quot;);\nres = await request(server)\n.get(\&quot;/api/user/notBlocked\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.expect(403);\ndeleteUser(\&quot;01590243399\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a32c8d36-7dc8-4733-8367-ee0a914732b5&quot;,&quot;parentUUID&quot;:&quot;09c11a9c-af12-4d75-af66-fb64177a67b7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;5fb225f6-8034-4641-8faa-2532ab8937fa&quot;,&quot;a32c8d36-7dc8-4733-8367-ee0a914732b5&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:13,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;c8d62ff2-98ce-49d9-b7f7-4f83d0bb2337&quot;,&quot;title&quot;:&quot;/api/user/updateImage&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/user.js&quot;,&quot;file&quot;:&quot;/test/user.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should responed with 200 if updated&quot;,&quot;fullTitle&quot;:&quot;/api/user /api/user/updateImage Should responed with 200 if updated&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;01590243399\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;test\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n}).expect(201);\nconst token = genToken(\&quot;01590243399\&quot;,1,\&quot;user\&quot;);\nres = await request(server)\n.patch(\&quot;/api/user/updateImage\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.set(&#x27;Content-Type&#x27;, &#x27;application/x-www-form-urlencoded&#x27;)\n.attach(&#x27;file&#x27;,path.resolve(__dirname, \&quot;../logo.png\&quot;))\n.expect(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ba02cc8f-355b-4b9c-bf11-ad8d7a48139c&quot;,&quot;parentUUID&quot;:&quot;c8d62ff2-98ce-49d9-b7f7-4f83d0bb2337&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should responed with 403 if type not allowed&quot;,&quot;fullTitle&quot;:&quot;/api/user /api/user/updateImage Should responed with 403 if type not allowed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:32,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01590243399\&quot;,1,\&quot;user\&quot;);\nlet res = await request(server)\n.patch(\&quot;/api/user/updateImage\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.set(&#x27;Content-Type&#x27;, &#x27;application/x-www-form-urlencoded&#x27;)\n.attach(&#x27;file&#x27;,path.resolve(__dirname, \&quot;../udemy-accs.txt\&quot;))\n.expect(403);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5c378580-d451-4350-8c17-4b9252ff3cde&quot;,&quot;parentUUID&quot;:&quot;c8d62ff2-98ce-49d9-b7f7-4f83d0bb2337&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should responed with 401 not authorized&quot;,&quot;fullTitle&quot;:&quot;/api/user /api/user/updateImage Should responed with 401 not authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01590241\&quot;,1,\&quot;user\&quot;);\nlet res = await request(server)\n.patch(\&quot;/api/user/updateImage\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.set(&#x27;Content-Type&#x27;, &#x27;application/x-www-form-urlencoded&#x27;)\n.attach(&#x27;file&#x27;,path.resolve(__dirname, \&quot;../logo.png\&quot;))\n.expect(401);\ndeleteUser(\&quot;01590243399\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e7a2952c-fd4e-4db3-a887-07bab967f605&quot;,&quot;parentUUID&quot;:&quot;c8d62ff2-98ce-49d9-b7f7-4f83d0bb2337&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ba02cc8f-355b-4b9c-bf11-ad8d7a48139c&quot;,&quot;5c378580-d451-4350-8c17-4b9252ff3cde&quot;,&quot;e7a2952c-fd4e-4db3-a887-07bab967f605&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:49,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;412fe671-8c48-48d0-be82-2f4a443dc166&quot;,&quot;title&quot;:&quot;/getUser&quot;,&quot;fullFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/test/user.js&quot;,&quot;file&quot;:&quot;/test/user.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should respond with 401 if not authorized&quot;,&quot;fullTitle&quot;:&quot;/api/user /getUser Should respond with 401 if not authorized&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/user/getUser\&quot;)\n.expect(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1fff9cfa-15b5-49bf-9918-870becc4d48f&quot;,&quot;parentUUID&quot;:&quot;412fe671-8c48-48d0-be82-2f4a443dc166&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 404 if user not found&quot;,&quot;fullTitle&quot;:&quot;/api/user /getUser should respond with 404 if user not found&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const token = genToken(\&quot;01590243399\&quot;,1,\&quot;user\&quot;);\nlet res = await request(server)\n.post(\&quot;/api/user/getUser\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({ \&quot;phone_number\&quot;: \&quot;9868956981256\&quot;, })\n.expect(404);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a10f01ab-a3a9-4744-8204-a242ff9e3bc9&quot;,&quot;parentUUID&quot;:&quot;412fe671-8c48-48d0-be82-2f4a443dc166&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with 200 if got user successfully&quot;,&quot;fullTitle&quot;:&quot;/api/user /getUser should respond with 200 if got user successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request(server)\n.post(\&quot;/api/auth/signup\&quot;)\n.send({\n    \&quot;phone_number\&quot;: \&quot;01590243399\&quot;,\n    \&quot;first_name\&quot;: \&quot;fawzi\&quot;,\n    \&quot;last_name\&quot;:\&quot;ahmed\&quot;,\n    \&quot;birth_date\&quot;: \&quot;1999-03-20\&quot;,\n    \&quot;weight\&quot;: 100,\n    \&quot;height\&quot;: 180,\n    \&quot;bmi\&quot;: 28,\n    \&quot;fb_token_id\&quot;: \&quot;test\&quot;,\n    \&quot;gender\&quot;: \&quot;male\&quot;,\n}).expect(201);\nconst token = genToken(\&quot;015902433399\&quot;,1,\&quot;user\&quot;);\nres = await request(server)\n.post(\&quot;/api/user/getUser\&quot;)\n.set(\&quot;Authorization\&quot;, `Bearer ${token}`)\n.send({ \&quot;phone_number\&quot;: \&quot;01590243399\&quot;, })\n.expect(200);\ndeleteUser(\&quot;01590243399\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8378c13d-5d4f-4beb-8140-168295d8368f&quot;,&quot;parentUUID&quot;:&quot;412fe671-8c48-48d0-be82-2f4a443dc166&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1fff9cfa-15b5-49bf-9918-870becc4d48f&quot;,&quot;a10f01ab-a3a9-4744-8204-a242ff9e3bc9&quot;,&quot;8378c13d-5d4f-4beb-8140-168295d8368f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:17,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;7.1.2&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;6.1.1&quot;},&quot;marge&quot;:{&quot;version&quot;:&quot;5.1.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;reportDir&quot;:&quot;mochawesome-report&quot;,&quot;reportTitle&quot;:&quot;Hospital&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;mochawesome-report/assets&quot;,&quot;jsonFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/mochawesome-report/mochawesome.json&quot;,&quot;htmlFile&quot;:&quot;/Users/iifawzi/Desktop/current projects/Hospital/mochawesome-report/mochawesome.html&quot;}"><div id="report"></div><script src="assets/app.js"></script></body></html>